var dh=Object.defineProperty;var uh=(t,e,r)=>e in t?dh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var so=(t,e,r)=>(uh(t,typeof e!="symbol"?e+"":e,r),r);import{r as p,a as yi,R as Lo,b as ur,g as Uc,c as ph,d as mh}from"./vendor-react-BbaTowL1.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Vc={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=p,hh=Symbol.for("react.element"),gh=Symbol.for("react.fragment"),bh=Object.prototype.hasOwnProperty,Ch=fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yh={key:!0,ref:!0,__self:!0,__source:!0};function zc(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)bh.call(e,n)&&!yh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:hh,type:t,key:o,ref:i,props:s,_owner:Ch.current}}Os.Fragment=gh;Os.jsx=zc;Os.jsxs=zc;Vc.exports=Os;var a=Vc.exports,Hc,Dl=yi;Hc=Dl.createRoot,Dl.hydrateRoot;var Gc={exports:{}},$c={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=p;function vh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xh=typeof Object.is=="function"?Object.is:vh,Sh=aa.useSyncExternalStore,wh=aa.useRef,jh=aa.useEffect,Rh=aa.useMemo,Th=aa.useDebugValue;$c.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var o=wh(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Rh(function(){function d(x){if(!l){if(l=!0,m=x,x=n(x),s!==void 0&&i.hasValue){var b=i.value;if(s(b,x))return h=b}return h=x}if(b=h,xh(m,x))return b;var R=n(x);return s!==void 0&&s(b,R)?b:(m=x,h=R)}var l=!1,m,h,y=r===void 0?null:r;return[function(){return d(e())},y===null?void 0:function(){return d(y())}]},[e,r,n,s]);var c=Sh(t,o[0],o[1]);return jh(function(){i.hasValue=!0,i.value=c},[c]),Th(c),c};Gc.exports=$c;var Nh=Gc.exports,dr="default"in Lo?ur:Lo,El=Symbol.for("react-redux-context"),Ml=typeof globalThis<"u"?globalThis:{};function Ph(){if(!dr.createContext)return{};const t=Ml[El]??(Ml[El]=new Map);let e=t.get(dr.createContext);return e||(e=dr.createContext(null),t.set(dr.createContext,e)),e}var Zr=Ph(),Dh=()=>{throw new Error("uSES not initialized!")};function vi(t=Zr){return function(){return dr.useContext(t)}}var Wc=vi(),Kc=Dh,Eh=t=>{Kc=t},Mh=(t,e)=>t===e;function Oh(t=Zr){const e=t===Zr?Wc:vi(t),r=(n,s={})=>{const{equalityFn:o=Mh,devModeChecks:i={}}=typeof s=="function"?{equalityFn:s}:s,{store:c,subscription:d,getServerState:l,stabilityCheck:m,identityFunctionCheck:h}=e();dr.useRef(!0);const y=dr.useCallback({[n.name](b){return n(b)}}[n.name],[n,m,i.stabilityCheck]),x=Kc(d.addNestedSub,c.getState,l||c.getState,y,o);return dr.useDebugValue(x),x};return Object.assign(r,{withTypes:()=>r}),r}var A=Oh();function kh(t){t()}function Ah(){let t=null,e=null;return{clear(){t=null,e=null},notify(){kh(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=e={callback:r,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!n||t===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Ol={notify(){},get:()=>[]};function Fh(t,e){let r,n=Ol,s=0,o=!1;function i(R){m();const g=n.subscribe(R);let P=!1;return()=>{P||(P=!0,g(),h())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function l(){return o}function m(){s++,r||(r=e?e.addNestedSub(d):t.subscribe(d),n=Ah())}function h(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Ol)}function y(){o||(o=!0,m())}function x(){o&&(o=!1,h())}const b={addNestedSub:i,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:l,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>n};return b}var Ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qh=typeof navigator<"u"&&navigator.product==="ReactNative",_h=Ih||qh?dr.useLayoutEffect:dr.useEffect;function Lh({store:t,context:e,children:r,serverState:n,stabilityCheck:s="once",identityFunctionCheck:o="once"}){const i=dr.useMemo(()=>{const l=Fh(t);return{store:t,subscription:l,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:o}},[t,n,s,o]),c=dr.useMemo(()=>t.getState(),[t]);_h(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),c!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,c]);const d=e||Zr;return dr.createElement(d.Provider,{value:i},r)}var Bh=Lh;function Xc(t=Zr){const e=t===Zr?Wc:vi(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var Uh=Xc();function Vh(t=Zr){const e=t===Zr?Uh:Xc(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var pt=Vh();Eh(Nh.useSyncExternalStoreWithSelector);function wa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wa=function(r){return typeof r}:wa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wa(t)}function zh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hh(t,e,r){return e&&kl(t.prototype,e),r&&kl(t,r),t}function Gh(t,e){return e&&(wa(e)==="object"||typeof e=="function")?e:ja(t)}function Bo(t){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bo(t)}function ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uo(t,e)}function Uo(t,e){return Uo=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Uo(t,e)}function Ra(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yc=function(t){$h(e,t);function e(){var r,n;zh(this,e);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=Gh(this,(r=Bo(e)).call.apply(r,[this].concat(o))),Ra(ja(n),"state",{bootstrapped:!1}),Ra(ja(n),"_unsubscribe",void 0),Ra(ja(n),"handlePersistorState",function(){var c=n.props.persistor,d=c.getState(),l=d.bootstrapped;l&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return Hh(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(p.PureComponent);Ra(Yc,"defaultProps",{children:null,loading:null});var Jc={exports:{}},Wh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kh=Wh,Xh=Kh;function Qc(){}function Zc(){}Zc.resetWarningCache=Qc;var Yh=function(){function t(n,s,o,i,c,d){if(d!==Xh){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Zc,resetWarningCache:Qc};return r.PropTypes=r,r};Jc.exports=Yh();var xi=Jc.exports;const f=Uc(xi);var ed={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Al=ur.createContext&&ur.createContext(ed),Jh=["attr","size","title"];function Qh(t,e){if(t==null)return{};var r=Zh(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zh(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function Fl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fl(Object(r),!0).forEach(function(n){eg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fl(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eg(t,e,r){return e=tg(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tg(t){var e=rg(t,"string");return typeof e=="symbol"?e:e+""}function rg(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function td(t){return t&&t.map((e,r)=>ur.createElement(e.tag,hs({key:r},e.attr),td(e.child)))}function yt(t){return e=>ur.createElement(ng,fs({attr:hs({},t.attr)},e),td(t.child))}function ng(t){var e=r=>{var{attr:n,size:s,title:o}=t,i=Qh(t,Jh),c=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),ur.createElement("svg",fs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:d,style:hs(hs({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&ur.createElement("title",null,o),t.children)};return Al!==void 0?ur.createElement(Al.Consumer,null,r=>e(r)):e(ed)}function Il(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"},child:[]}]})(t)}function Vo(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"},child:[]},{tag:"path",attr:{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},child:[]}]})(t)}function ag(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(t)}function sg(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"},child:[]}]})(t)}function og(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"},child:[]}]})(t)}function ig(t){return yt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"},child:[]}]})(t)}const ot=t=>{const[e,r]=p.useState(!1),[n,s]=p.useState(!1),[o,i]=p.useState(!1),[c,d]=p.useState(!1),[l,m]=p.useState(!1),[h,y]=p.useState(!1),[x,b]=p.useState(!1),[R,g]=p.useState(!1),[P,S]=p.useState([]),v=p.useCallback((k,q,$)=>{S([{isOpen:!0,title:k,message:q,onClose:()=>{$(),S([])},closeButtonText:"Ok"}])},[S]),I=p.useCallback(()=>{S([]);try{t("/SaisieListe")}catch(k){console.error("Erreur lors de la tentative de navigation :",k),S([{isOpen:!0,title:"Erreur de navigation",message:"Erreur lors de la tentative de navigation",onClose:()=>S([]),closeButtonText:"Ok"}])}},[t]),N=p.useCallback((k,q)=>({isOpen:!0,title:k,message:q,onClose:I,closeButtonText:"Ok"}),[I]);return{modalConfig:P,setModalConfig:S,loginModalConfig:N,showLogoutConfirmation:v,successModalConfig:(k,q="Succès",$=()=>{})=>({isOpen:!0,title:q,message:ur.isValidElement(k)?ur.cloneElement(k):k,icon:a.jsx(ag,{className:"modal-info-icon"}),onClose:()=>{S([]),$()},closeButtonText:"Ok"}),errorModalConfig:(k,q)=>({isOpen:!0,title:k||"Erreur",message:q,icon:a.jsx(Vo,{className:"modal-info-icon"}),onClose:()=>S([]),closeButtonText:"Ok"}),confirmationModalConfig:(k,q="",$,L,z)=>({isOpen:!0,title:"Confirmation",message:k,message2:q,icon:a.jsx(sg,{className:"modal-info-icon"}),icon2:q?a.jsx(Vo,{className:"modal-alert-icon"}):null,onConfirm:$,onCancel:L||(()=>S([])),onClose:z||(()=>S([])),closeButtonText:"Annuler"}),isInfoModalOpen:e,setIsInfoModalOpen:r,isCreateModalOpen:n,setCreateModalOpen:s,isConfirmModalOpen:c,setConfirmModalOpen:d,showDeletionSuccess:h,setShowDeletionSuccess:y,isUpdateModalOpen:o,setIsUpdateModalOpen:i,isEditConfirmationOpen:x,setIsEditConfirmationOpen:b,isEditSuccessModalOpen:R,setIsEditSuccessModalOpen:g,isSharingModalOpen:l,setSharingModalOpen:m}},rd=p.createContext(),nd=({children:t})=>{const e=ot();return a.jsx(rd.Provider,{value:e,children:t})};nd.propTypes={children:f.node.isRequired};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const ql="popstate";function lg(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:i,hash:c}=n.location;return zo("",{pathname:o,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gs(s)}return dg(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ad(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cg(){return Math.random().toString(36).substr(2,8)}function _l(t,e){return{usr:t.state,key:t.key,idx:e}}function zo(t,e,r,n){return r===void 0&&(r=null),Xn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tn(e):e,{state:r,key:e&&e.key||n||cg()})}function gs(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dg(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,c=Kr.Pop,d=null,l=m();l==null&&(l=0,i.replaceState(Xn({},i.state,{idx:l}),""));function m(){return(i.state||{idx:null}).idx}function h(){c=Kr.Pop;let g=m(),P=g==null?null:g-l;l=g,d&&d({action:c,location:R.location,delta:P})}function y(g,P){c=Kr.Push;let S=zo(R.location,g,P);r&&r(S,g),l=m()+1;let v=_l(S,l),I=R.createHref(S);try{i.pushState(v,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(I)}o&&d&&d({action:c,location:R.location,delta:1})}function x(g,P){c=Kr.Replace;let S=zo(R.location,g,P);r&&r(S,g),l=m();let v=_l(S,l),I=R.createHref(S);i.replaceState(v,"",I),o&&d&&d({action:c,location:R.location,delta:0})}function b(g){let P=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof g=="string"?g:gs(g);return S=S.replace(/ $/,"%20"),_t(P,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,P)}let R={get action(){return c},get location(){return t(s,i)},listen(g){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(ql,h),d=g,()=>{s.removeEventListener(ql,h),d=null}},createHref(g){return e(s,g)},createURL:b,encodeLocation(g){let P=b(g);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:x,go(g){return i.go(g)}};return R}var Ll;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ll||(Ll={}));function ug(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Tn(e):e,s=Si(n.pathname||"/",r);if(s==null)return null;let o=sd(t);pg(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let d=jg(s);i=xg(o[c],d)}return i}function sd(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};d.relativePath.startsWith("/")&&(_t(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let l=Qr([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(_t(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),sd(o.children,e,m,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:yg(l,o.index),routesMeta:m})};return t.forEach((o,i)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,i);else for(let d of od(o.path))s(o,i,d)}),e}function od(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=od(n.join("/")),c=[];return c.push(...i.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...i),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function pg(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:vg(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const mg=/^:[\w-]+$/,fg=3,hg=2,gg=1,bg=10,Cg=-2,Bl=t=>t==="*";function yg(t,e){let r=t.split("/"),n=r.length;return r.some(Bl)&&(n+=Cg),e&&(n+=hg),r.filter(s=>!Bl(s)).reduce((s,o)=>s+(mg.test(o)?fg:o===""?gg:bg),n)}function vg(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function xg(t,e){let{routesMeta:r}=t,n={},s="/",o=[];for(let i=0;i<r.length;++i){let c=r[i],d=i===r.length-1,l=s==="/"?e:e.slice(s.length)||"/",m=Sg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},l);if(!m)return null;Object.assign(n,m.params);let h=c.route;o.push({params:n,pathname:Qr([s,m.pathname]),pathnameBase:Pg(Qr([s,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(s=Qr([s,m.pathnameBase]))}return o}function Sg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=wg(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((l,m,h)=>{let{paramName:y,isOptional:x}=m;if(y==="*"){let R=c[h]||"";i=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const b=c[h];return x&&!b?l[y]=void 0:l[y]=(b||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:i,pattern:t}}function wg(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ad(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function jg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ad(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Rg(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Tn(t):t;return{pathname:r?r.startsWith("/")?r:Tg(r,e):e,search:Dg(n),hash:Eg(s)}}function Tg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function oo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ng(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wi(t,e){let r=Ng(t);return e?r.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ji(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Tn(t):(s=Xn({},t),_t(!s.pathname||!s.pathname.includes("?"),oo("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),oo("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),oo("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,c;if(i==null)c=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let y=i.split("/");for(;y[0]==="..";)y.shift(),h-=1;s.pathname=y.join("/")}c=h>=0?e[h]:"/"}let d=Rg(s,c),l=i&&i!=="/"&&i.endsWith("/"),m=(o||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(l||m)&&(d.pathname+="/"),d}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),Pg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Dg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Eg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const id=["post","put","patch","delete"];new Set(id);const Og=["get",...id];new Set(Og);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yn.apply(this,arguments)}const Ri=p.createContext(null),kg=p.createContext(null),tn=p.createContext(null),ks=p.createContext(null),Ur=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ld=p.createContext(null);function Ag(t,e){let{relative:r}=e===void 0?{}:e;Nn()||_t(!1);let{basename:n,navigator:s}=p.useContext(tn),{hash:o,pathname:i,search:c}=ud(t,{relative:r}),d=i;return n!=="/"&&(d=i==="/"?n:Qr([n,i])),s.createHref({pathname:d,search:c,hash:o})}function Nn(){return p.useContext(ks)!=null}function Pn(){return Nn()||_t(!1),p.useContext(ks).location}function cd(t){p.useContext(tn).static||p.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=p.useContext(Ur);return t?Wg():Fg()}function Fg(){Nn()||_t(!1);let t=p.useContext(Ri),{basename:e,future:r,navigator:n}=p.useContext(tn),{matches:s}=p.useContext(Ur),{pathname:o}=Pn(),i=JSON.stringify(wi(s,r.v7_relativeSplatPath)),c=p.useRef(!1);return cd(()=>{c.current=!0}),p.useCallback(function(l,m){if(m===void 0&&(m={}),!c.current)return;if(typeof l=="number"){n.go(l);return}let h=ji(l,JSON.parse(i),o,m.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qr([e,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[e,n,i,o,t])}function dd(){let{matches:t}=p.useContext(Ur),e=t[t.length-1];return e?e.params:{}}function ud(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=p.useContext(tn),{matches:s}=p.useContext(Ur),{pathname:o}=Pn(),i=JSON.stringify(wi(s,n.v7_relativeSplatPath));return p.useMemo(()=>ji(t,JSON.parse(i),o,r==="path"),[t,i,o,r])}function Ig(t,e){return qg(t,e)}function qg(t,e,r,n){Nn()||_t(!1);let{navigator:s}=p.useContext(tn),{matches:o}=p.useContext(Ur),i=o[o.length-1],c=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let l=Pn(),m;if(e){var h;let g=typeof e=="string"?Tn(e):e;d==="/"||(h=g.pathname)!=null&&h.startsWith(d)||_t(!1),m=g}else m=l;let y=m.pathname||"/",x=y;if(d!=="/"){let g=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=ug(t,{pathname:x}),R=Vg(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Qr([d,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:Qr([d,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return e&&R?p.createElement(ks.Provider,{value:{location:Yn({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Kr.Pop}},R):R}function _g(){let t=$g(),e=Mg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:s},r):null,null)}const Lg=p.createElement(_g,null);class Bg extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(Ur.Provider,{value:this.props.routeContext},p.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ug(t){let{routeContext:e,match:r,children:n}=t,s=p.useContext(Ri);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Ur.Provider,{value:e},n)}function Vg(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if((o=r)!=null&&o.errors)t=r.matches;else return null}let i=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let m=i.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);m>=0||_t(!1),i=i.slice(0,Math.min(i.length,m+1))}let d=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=m),h.route.id){let{loaderData:y,errors:x}=r,b=h.route.loader&&y[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||b){d=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((m,h,y)=>{let x,b=!1,R=null,g=null;r&&(x=c&&h.route.id?c[h.route.id]:void 0,R=h.route.errorElement||Lg,d&&(l<0&&y===0?(Kg("route-fallback",!1),b=!0,g=null):l===y&&(b=!0,g=h.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,y+1)),S=()=>{let v;return x?v=R:b?v=g:h.route.Component?v=p.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=m,p.createElement(Ug,{match:h,routeContext:{outlet:m,matches:P,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?p.createElement(Bg,{location:r.location,revalidation:r.revalidation,component:R,error:x,children:S(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):S()},null)}var pd=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pd||{}),bs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bs||{});function zg(t){let e=p.useContext(Ri);return e||_t(!1),e}function Hg(t){let e=p.useContext(kg);return e||_t(!1),e}function Gg(t){let e=p.useContext(Ur);return e||_t(!1),e}function md(t){let e=Gg(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function $g(){var t;let e=p.useContext(ld),r=Hg(bs.UseRouteError),n=md(bs.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Wg(){let{router:t}=zg(pd.UseNavigateStable),e=md(bs.UseNavigateStable),r=p.useRef(!1);return cd(()=>{r.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yn({fromRouteId:e},o)))},[t,e])}const Ul={};function Kg(t,e,r){!e&&!Ul[t]&&(Ul[t]=!0)}function Vl(t){let{to:e,replace:r,state:n,relative:s}=t;Nn()||_t(!1);let{future:o,static:i}=p.useContext(tn),{matches:c}=p.useContext(Ur),{pathname:d}=Pn(),l=fn(),m=ji(e,wi(c,o.v7_relativeSplatPath),d,s==="path"),h=JSON.stringify(m);return p.useEffect(()=>l(JSON.parse(h),{replace:r,state:n,relative:s}),[l,h,s,r,n]),null}function Dt(t){_t(!1)}function Xg(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Kr.Pop,navigator:o,static:i=!1,future:c}=t;Nn()&&_t(!1);let d=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:d,navigator:o,static:i,future:Yn({v7_relativeSplatPath:!1},c)}),[d,c,o,i]);typeof n=="string"&&(n=Tn(n));let{pathname:m="/",search:h="",hash:y="",state:x=null,key:b="default"}=n,R=p.useMemo(()=>{let g=Si(m,d);return g==null?null:{location:{pathname:g,search:h,hash:y,state:x,key:b},navigationType:s}},[d,m,h,y,x,b,s]);return R==null?null:p.createElement(tn.Provider,{value:l},p.createElement(ks.Provider,{children:r,value:R}))}function Yg(t){let{children:e,location:r}=t;return Ig(Ho(e),r)}new Promise(()=>{});function Ho(t,e){e===void 0&&(e=[]);let r=[];return p.Children.forEach(t,(n,s)=>{if(!p.isValidElement(n))return;let o=[...e,s];if(n.type===p.Fragment){r.push.apply(r,Ho(n.props.children,o));return}n.type!==Dt&&_t(!1),!n.props.index||!n.props.children||_t(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ho(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(this,arguments)}function Jg(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Qg(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zg(t,e){return t.button===0&&(!e||e==="_self")&&!Qg(t)}const eb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tb="6";try{window.__reactRouterVersion=tb}catch{}const rb="startTransition",zl=Lo[rb];function nb(t){let{basename:e,children:r,future:n,window:s}=t,o=p.useRef();o.current==null&&(o.current=lg({window:s,v5Compat:!0}));let i=o.current,[c,d]=p.useState({action:i.action,location:i.location}),{v7_startTransition:l}=n||{},m=p.useCallback(h=>{l&&zl?zl(()=>d(h)):d(h)},[d,l]);return p.useLayoutEffect(()=>i.listen(m),[i,m]),p.createElement(Xg,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:i,future:n})}const ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fd=p.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:c,target:d,to:l,preventScrollReset:m,unstable_viewTransition:h}=e,y=Jg(e,eb),{basename:x}=p.useContext(tn),b,R=!1;if(typeof l=="string"&&sb.test(l)&&(b=l,ab))try{let v=new URL(window.location.href),I=l.startsWith("//")?new URL(v.protocol+l):new URL(l),N=Si(I.pathname,x);I.origin===v.origin&&N!=null?l=N+I.search+I.hash:R=!0}catch{}let g=Ag(l,{relative:s}),P=ob(l,{replace:i,state:c,target:d,preventScrollReset:m,relative:s,unstable_viewTransition:h});function S(v){n&&n(v),v.defaultPrevented||P(v)}return p.createElement("a",Go({},y,{href:b||g,onClick:R||o?n:S,ref:r,target:d}))});var Hl;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hl||(Hl={}));var Gl;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gl||(Gl={}));function ob(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:c}=e===void 0?{}:e,d=fn(),l=Pn(),m=ud(t,{relative:i});return p.useCallback(h=>{if(Zg(h,r)){h.preventDefault();let y=n!==void 0?n:gs(l)===gs(m);d(t,{replace:y,state:s,preventScrollReset:o,relative:i,unstable_viewTransition:c})}},[l,d,m,n,s,r,t,o,i,c])}var $o={exports:{}},cn={},Wo={exports:{}},Mr={},Ko={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",s=/input|select|textarea|button|object|iframe/;function o(h,y){return y.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function i(h){var y=h.offsetWidth<=0&&h.offsetHeight<=0;if(y&&!h.innerHTML)return!0;try{var x=window.getComputedStyle(h),b=x.getPropertyValue("display");return y?b!==n&&o(h,x):b===r}catch{return console.warn("Failed to inspect element style"),!1}}function c(h){for(var y=h,x=h.getRootNode&&h.getRootNode();y&&y!==document.body;){if(x&&y===x&&(y=x.host.parentNode),i(y))return!1;y=y.parentNode}return!0}function d(h,y){var x=h.nodeName.toLowerCase(),b=s.test(x)&&!h.disabled||x==="a"&&h.href||y;return b&&c(h)}function l(h){var y=h.getAttribute("tabindex");y===null&&(y=void 0);var x=isNaN(y);return(x||y>=0)&&d(h,!x)}function m(h){var y=[].slice.call(h.querySelectorAll("*"),0).reduce(function(x,b){return x.concat(b.shadowRoot?m(b.shadowRoot):[b])},[]);return y.filter(l)}t.exports=e.default})(Ko,Ko.exports);var hd=Ko.exports;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.resetState=db;Mr.log=ub;Mr.handleBlur=Jn;Mr.handleFocus=Qn;Mr.markForFocusLater=pb;Mr.returnFocus=mb;Mr.popWithoutFocus=fb;Mr.setupScopedFocus=hb;Mr.teardownScopedFocus=gb;var ib=hd,lb=cb(ib);function cb(t){return t&&t.__esModule?t:{default:t}}var wn=[],xn=null,Xo=!1;function db(){wn=[]}function ub(){}function Jn(){Xo=!0}function Qn(){if(Xo){if(Xo=!1,!xn)return;setTimeout(function(){if(!xn.contains(document.activeElement)){var t=(0,lb.default)(xn)[0]||xn;t.focus()}},0)}}function pb(){wn.push(document.activeElement)}function mb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{wn.length!==0&&(e=wn.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function fb(){wn.length>0&&wn.pop()}function hb(t){xn=t,window.addEventListener?(window.addEventListener("blur",Jn,!1),document.addEventListener("focus",Qn,!0)):(window.attachEvent("onBlur",Jn),document.attachEvent("onFocus",Qn))}function gb(){xn=null,window.addEventListener?(window.removeEventListener("blur",Jn),document.removeEventListener("focus",Qn)):(window.detachEvent("onBlur",Jn),document.detachEvent("onFocus",Qn))}var Yo={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=hd,n=s(r);function s(c){return c&&c.__esModule?c:{default:c}}function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return c.activeElement.shadowRoot?o(c.activeElement.shadowRoot):c.activeElement}function i(c,d){var l=(0,n.default)(c);if(!l.length){d.preventDefault();return}var m=void 0,h=d.shiftKey,y=l[0],x=l[l.length-1],b=o();if(c===b){if(!h)return;m=x}if(x===b&&!h&&(m=y),y===b&&h&&(m=x),m){d.preventDefault(),m.focus();return}var R=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),g=R!=null&&R[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(g){var P=l.indexOf(b);if(P>-1&&(P+=h?-1:1),m=l[P],typeof m>"u"){d.preventDefault(),m=h?x:y,m.focus();return}d.preventDefault(),m.focus()}}t.exports=e.default})(Yo,Yo.exports);var bb=Yo.exports,Or={},Cb=function(){},yb=Cb,Tr={},gd={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(gd);var vb=gd.exports;Object.defineProperty(Tr,"__esModule",{value:!0});Tr.canUseDOM=Tr.SafeNodeList=Tr.SafeHTMLCollection=void 0;var xb=vb,Sb=wb(xb);function wb(t){return t&&t.__esModule?t:{default:t}}var As=Sb.default,jb=As.canUseDOM?window.HTMLElement:{};Tr.SafeHTMLCollection=As.canUseDOM?window.HTMLCollection:{};Tr.SafeNodeList=As.canUseDOM?window.NodeList:{};Tr.canUseDOM=As.canUseDOM;Tr.default=jb;Object.defineProperty(Or,"__esModule",{value:!0});Or.resetState=Db;Or.log=Eb;Or.assertNodeList=bd;Or.setElement=Mb;Or.validateElement=Ti;Or.hide=Ob;Or.show=kb;Or.documentNotReadyOrSSRTesting=Ab;var Rb=yb,Tb=Pb(Rb),Nb=Tr;function Pb(t){return t&&t.__esModule?t:{default:t}}var gr=null;function Db(){gr&&(gr.removeAttribute?gr.removeAttribute("aria-hidden"):gr.length!=null?gr.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(gr).forEach(function(t){return t.removeAttribute("aria-hidden")})),gr=null}function Eb(){}function bd(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Mb(t){var e=t;if(typeof e=="string"&&Nb.canUseDOM){var r=document.querySelectorAll(e);bd(r,e),e=r}return gr=e||gr,gr}function Ti(t){var e=t||gr;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Tb.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Ob(t){var e=!0,r=!1,n=void 0;try{for(var s=Ti(t)[Symbol.iterator](),o;!(e=(o=s.next()).done);e=!0){var i=o.value;i.setAttribute("aria-hidden","true")}}catch(c){r=!0,n=c}finally{try{!e&&s.return&&s.return()}finally{if(r)throw n}}}function kb(t){var e=!0,r=!1,n=void 0;try{for(var s=Ti(t)[Symbol.iterator](),o;!(e=(o=s.next()).done);e=!0){var i=o.value;i.removeAttribute("aria-hidden")}}catch(c){r=!0,n=c}finally{try{!e&&s.return&&s.return()}finally{if(r)throw n}}}function Ab(){gr=null}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.resetState=Fb;Dn.log=Ib;var Bn={},Un={};function $l(t,e){t.classList.remove(e)}function Fb(){var t=document.getElementsByTagName("html")[0];for(var e in Bn)$l(t,Bn[e]);var r=document.body;for(var n in Un)$l(r,Un[n]);Bn={},Un={}}function Ib(){}var qb=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},_b=function(e,r){return e[r]&&(e[r]-=1),r},Lb=function(e,r,n){n.forEach(function(s){qb(r,s),e.add(s)})},Bb=function(e,r,n){n.forEach(function(s){_b(r,s),r[s]===0&&e.remove(s)})};Dn.add=function(e,r){return Lb(e.classList,e.nodeName.toLowerCase()=="html"?Bn:Un,r.split(" "))};Dn.remove=function(e,r){return Bb(e.classList,e.nodeName.toLowerCase()=="html"?Bn:Un,r.split(" "))};var En={};Object.defineProperty(En,"__esModule",{value:!0});En.log=Vb;En.resetState=zb;function Ub(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Cd=function t(){var e=this;Ub(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var n=e.openInstances.indexOf(r);n!==-1&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(n){return n(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Cs=new Cd;function Vb(){console.log("portalOpenInstances ----------"),console.log(Cs.openInstances.length),Cs.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function zb(){Cs=new Cd}En.default=Cs;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.resetState=Wb;Ni.log=Kb;var Hb=En,Gb=$b(Hb);function $b(t){return t&&t.__esModule?t:{default:t}}var tr=void 0,Sr=void 0,sn=[];function Wb(){for(var t=[tr,Sr],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}tr=Sr=null,sn=[]}function Kb(){console.log("bodyTrap ----------"),console.log(sn.length);for(var t=[tr,Sr],e=0;e<t.length;e++){var r=t[e],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function Wl(){sn.length!==0&&sn[sn.length-1].focusContent()}function Xb(t,e){!tr&&!Sr&&(tr=document.createElement("div"),tr.setAttribute("data-react-modal-body-trap",""),tr.style.position="absolute",tr.style.opacity="0",tr.setAttribute("tabindex","0"),tr.addEventListener("focus",Wl),Sr=tr.cloneNode(),Sr.addEventListener("focus",Wl)),sn=e,sn.length>0?(document.body.firstChild!==tr&&document.body.insertBefore(tr,document.body.firstChild),document.body.lastChild!==Sr&&document.body.appendChild(Sr)):(tr.parentElement&&tr.parentElement.removeChild(tr),Sr.parentElement&&Sr.parentElement.removeChild(Sr))}Gb.default.subscribe(Xb);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(M){for(var V=1;V<arguments.length;V++){var E=arguments[V];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(M[T]=E[T])}return M},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(V,E){for(var T=0;T<E.length;T++){var G=E[T];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(V,G.key,G)}}return function(V,E,T){return E&&M(V.prototype,E),T&&M(V,T),V}}(),o=p,i=xi,c=N(i),d=Mr,l=I(d),m=bb,h=N(m),y=Or,x=I(y),b=Dn,R=I(b),g=Tr,P=N(g),S=En,v=N(S);function I(M){if(M&&M.__esModule)return M;var V={};if(M!=null)for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&(V[E]=M[E]);return V.default=M,V}function N(M){return M&&M.__esModule?M:{default:M}}function _(M,V){if(!(M instanceof V))throw new TypeError("Cannot call a class as a function")}function O(M,V){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:M}function j(M,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);M.prototype=Object.create(V&&V.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(M,V):M.__proto__=V)}var k={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},q=function(V){return V.code==="Tab"||V.keyCode===9},$=function(V){return V.code==="Escape"||V.keyCode===27},L=0,z=function(M){j(V,M);function V(E){_(this,V);var T=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,E));return T.setOverlayRef=function(G){T.overlay=G,T.props.overlayRef&&T.props.overlayRef(G)},T.setContentRef=function(G){T.content=G,T.props.contentRef&&T.props.contentRef(G)},T.afterClose=function(){var G=T.props,Z=G.appElement,Y=G.ariaHideApp,ne=G.htmlOpenClassName,K=G.bodyOpenClassName,te=G.parentSelector,ge=te&&te().ownerDocument||document;K&&R.remove(ge.body,K),ne&&R.remove(ge.getElementsByTagName("html")[0],ne),Y&&L>0&&(L-=1,L===0&&x.show(Z)),T.props.shouldFocusAfterRender&&(T.props.shouldReturnFocusAfterClose?(l.returnFocus(T.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),T.props.onAfterClose&&T.props.onAfterClose(),v.default.deregister(T)},T.open=function(){T.beforeOpen(),T.state.afterOpen&&T.state.beforeClose?(clearTimeout(T.closeTimer),T.setState({beforeClose:!1})):(T.props.shouldFocusAfterRender&&(l.setupScopedFocus(T.node),l.markForFocusLater()),T.setState({isOpen:!0},function(){T.openAnimationFrame=requestAnimationFrame(function(){T.setState({afterOpen:!0}),T.props.isOpen&&T.props.onAfterOpen&&T.props.onAfterOpen({overlayEl:T.overlay,contentEl:T.content})})}))},T.close=function(){T.props.closeTimeoutMS>0?T.closeWithTimeout():T.closeWithoutTimeout()},T.focusContent=function(){return T.content&&!T.contentHasFocus()&&T.content.focus({preventScroll:!0})},T.closeWithTimeout=function(){var G=Date.now()+T.props.closeTimeoutMS;T.setState({beforeClose:!0,closesAt:G},function(){T.closeTimer=setTimeout(T.closeWithoutTimeout,T.state.closesAt-Date.now())})},T.closeWithoutTimeout=function(){T.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},T.afterClose)},T.handleKeyDown=function(G){q(G)&&(0,h.default)(T.content,G),T.props.shouldCloseOnEsc&&$(G)&&(G.stopPropagation(),T.requestClose(G))},T.handleOverlayOnClick=function(G){T.shouldClose===null&&(T.shouldClose=!0),T.shouldClose&&T.props.shouldCloseOnOverlayClick&&(T.ownerHandlesClose()?T.requestClose(G):T.focusContent()),T.shouldClose=null},T.handleContentOnMouseUp=function(){T.shouldClose=!1},T.handleOverlayOnMouseDown=function(G){!T.props.shouldCloseOnOverlayClick&&G.target==T.overlay&&G.preventDefault()},T.handleContentOnClick=function(){T.shouldClose=!1},T.handleContentOnMouseDown=function(){T.shouldClose=!1},T.requestClose=function(G){return T.ownerHandlesClose()&&T.props.onRequestClose(G)},T.ownerHandlesClose=function(){return T.props.onRequestClose},T.shouldBeClosed=function(){return!T.state.isOpen&&!T.state.beforeClose},T.contentHasFocus=function(){return document.activeElement===T.content||T.content.contains(document.activeElement)},T.buildClassName=function(G,Z){var Y=(typeof Z>"u"?"undefined":n(Z))==="object"?Z:{base:k[G],afterOpen:k[G]+"--after-open",beforeClose:k[G]+"--before-close"},ne=Y.base;return T.state.afterOpen&&(ne=ne+" "+Y.afterOpen),T.state.beforeClose&&(ne=ne+" "+Y.beforeClose),typeof Z=="string"&&Z?ne+" "+Z:ne},T.attributesFromObject=function(G,Z){return Object.keys(Z).reduce(function(Y,ne){return Y[G+"-"+ne]=Z[ne],Y},{})},T.state={afterOpen:!1,beforeClose:!1},T.shouldClose=null,T.moveFromContentToOverlay=null,T}return s(V,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(T,G){this.props.isOpen&&!T.isOpen?this.open():!this.props.isOpen&&T.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!G.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var T=this.props,G=T.appElement,Z=T.ariaHideApp,Y=T.htmlOpenClassName,ne=T.bodyOpenClassName,K=T.parentSelector,te=K&&K().ownerDocument||document;ne&&R.add(te.body,ne),Y&&R.add(te.getElementsByTagName("html")[0],Y),Z&&(L+=1,x.hide(G)),v.default.register(this)}},{key:"render",value:function(){var T=this.props,G=T.id,Z=T.className,Y=T.overlayClassName,ne=T.defaultStyles,K=T.children,te=Z?{}:ne.content,ge=Y?{}:ne.overlay;if(this.shouldBeClosed())return null;var ue={ref:this.setOverlayRef,className:this.buildClassName("overlay",Y),style:r({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Q=r({id:G,ref:this.setContentRef,style:r({},te,this.props.style.content),className:this.buildClassName("content",Z),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ae=this.props.contentElement(Q,K);return this.props.overlayElement(ue,Ae)}}]),V}(o.Component);z.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},z.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),parentSelector:c.default.func,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.oneOfType([c.default.instanceOf(P.default),c.default.instanceOf(g.SafeHTMLCollection),c.default.instanceOf(g.SafeNodeList),c.default.arrayOf(c.default.instanceOf(P.default))]),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func,testId:c.default.string},e.default=z,t.exports=e.default})(Wo,Wo.exports);var Yb=Wo.exports;function yd(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function vd(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function xd(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}yd.__suppressDeprecationWarning=!0;vd.__suppressDeprecationWarning=!0;xd.__suppressDeprecationWarning=!0;function Jb(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,s=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var o=t.displayName||t.name,i=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=yd,e.componentWillReceiveProps=vd),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=xd;var c=e.componentDidUpdate;e.componentDidUpdate=function(l,m,h){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;c.call(this,l,m,y)}}return t}const Qb=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Jb},Symbol.toStringTag,{value:"Module"})),Zb=ph(Qb);Object.defineProperty(cn,"__esModule",{value:!0});cn.bodyOpenClassName=cn.portalClassName=void 0;var Kl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eC=function(){function t(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Sd=p,ys=sa(Sd),tC=yi,vs=sa(tC),rC=xi,it=sa(rC),nC=Yb,Xl=sa(nC),aC=Or,sC=iC(aC),Xr=Tr,Yl=sa(Xr),oC=Zb;function iC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function sa(t){return t&&t.__esModule?t:{default:t}}function lC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dC=cn.portalClassName="ReactModalPortal",uC=cn.bodyOpenClassName="ReactModal__Body--open",rn=Xr.canUseDOM&&vs.default.createPortal!==void 0,Ql=function(e){return document.createElement(e)},Zl=function(){return rn?vs.default.createPortal:vs.default.unstable_renderSubtreeIntoContainer};function Ca(t){return t()}var oa=function(t){cC(e,t);function e(){var r,n,s,o;lC(this,e);for(var i=arguments.length,c=Array(i),d=0;d<i;d++)c[d]=arguments[d];return o=(n=(s=Jl(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(c))),s),s.removePortal=function(){!rn&&vs.default.unmountComponentAtNode(s.node);var l=Ca(s.props.parentSelector);l&&l.contains(s.node)?l.removeChild(s.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},s.portalRef=function(l){s.portal=l},s.renderPortal=function(l){var m=Zl(),h=m(s,ys.default.createElement(Xl.default,Kl({defaultStyles:e.defaultStyles},l)),s.node);s.portalRef(h)},n),Jl(s,o)}return eC(e,[{key:"componentDidMount",value:function(){if(Xr.canUseDOM){rn||(this.node=Ql("div")),this.node.className=this.props.portalClassName;var n=Ca(this.props.parentSelector);n.appendChild(this.node),!rn&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var s=Ca(n.parentSelector),o=Ca(this.props.parentSelector);return{prevParent:s,nextParent:o}}},{key:"componentDidUpdate",value:function(n,s,o){if(Xr.canUseDOM){var i=this.props,c=i.isOpen,d=i.portalClassName;n.portalClassName!==d&&(this.node.className=d);var l=o.prevParent,m=o.nextParent;m!==l&&(l.removeChild(this.node),m.appendChild(this.node)),!(!n.isOpen&&!c)&&!rn&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Xr.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,s=Date.now(),o=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||s+this.props.closeTimeoutMS);o?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-s)):this.removePortal()}}},{key:"render",value:function(){if(!Xr.canUseDOM||!rn)return null;!this.node&&rn&&(this.node=Ql("div"));var n=Zl();return n(ys.default.createElement(Xl.default,Kl({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){sC.setElement(n)}}]),e}(Sd.Component);oa.propTypes={isOpen:it.default.bool.isRequired,style:it.default.shape({content:it.default.object,overlay:it.default.object}),portalClassName:it.default.string,bodyOpenClassName:it.default.string,htmlOpenClassName:it.default.string,className:it.default.oneOfType([it.default.string,it.default.shape({base:it.default.string.isRequired,afterOpen:it.default.string.isRequired,beforeClose:it.default.string.isRequired})]),overlayClassName:it.default.oneOfType([it.default.string,it.default.shape({base:it.default.string.isRequired,afterOpen:it.default.string.isRequired,beforeClose:it.default.string.isRequired})]),appElement:it.default.oneOfType([it.default.instanceOf(Yl.default),it.default.instanceOf(Xr.SafeHTMLCollection),it.default.instanceOf(Xr.SafeNodeList),it.default.arrayOf(it.default.instanceOf(Yl.default))]),onAfterOpen:it.default.func,onRequestClose:it.default.func,closeTimeoutMS:it.default.number,ariaHideApp:it.default.bool,shouldFocusAfterRender:it.default.bool,shouldCloseOnOverlayClick:it.default.bool,shouldReturnFocusAfterClose:it.default.bool,preventScroll:it.default.bool,parentSelector:it.default.func,aria:it.default.object,data:it.default.object,role:it.default.string,contentLabel:it.default.string,shouldCloseOnEsc:it.default.bool,overlayRef:it.default.func,contentRef:it.default.func,id:it.default.string,overlayElement:it.default.func,contentElement:it.default.func};oa.defaultProps={isOpen:!1,portalClassName:dC,bodyOpenClassName:uC,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return ys.default.createElement("div",e,r)},contentElement:function(e,r){return ys.default.createElement("div",e,r)}};oa.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,oC.polyfill)(oa);cn.default=oa;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=cn,n=s(r);function s(o){return o&&o.__esModule?o:{default:o}}e.default=n.default,t.exports=e.default})($o,$o.exports);var pC=$o.exports;const wd=Uc(pC),Pi="Mon Budget Perso Démo",mC="FabWebProjects",fC="/monbudgetpersodemo/";function hC(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gC(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function bC(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var ec=t=>Array.isArray(t)?t:[t];function CC(t){const e=Array.isArray(t[0])?t[0]:t;return bC(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yC(t,e){const r=[],{length:n}=t;for(let s=0;s<n;s++)r.push(t[s].apply(null,e));return r}var vC=class{constructor(t){this.value=t}deref(){return this.value}},xC=typeof WeakRef<"u"?WeakRef:vC,SC=0,tc=1;function ya(){return{s:SC,v:void 0,o:null,p:null}}function Di(t,e={}){let r=ya();const{resultEqualityCheck:n}=e;let s,o=0;function i(){var h;let c=r;const{length:d}=arguments;for(let y=0,x=d;y<x;y++){const b=arguments[y];if(typeof b=="function"||typeof b=="object"&&b!==null){let R=c.o;R===null&&(c.o=R=new WeakMap);const g=R.get(b);g===void 0?(c=ya(),R.set(b,c)):c=g}else{let R=c.p;R===null&&(c.p=R=new Map);const g=R.get(b);g===void 0?(c=ya(),R.set(b,c)):c=g}}const l=c;let m;if(c.s===tc?m=c.v:(m=t.apply(null,arguments),o++),l.s=tc,n){const y=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;y!=null&&n(y,m)&&(m=y,o!==0&&o--),s=typeof m=="object"&&m!==null||typeof m=="function"?new xC(m):m}return l.v=m,m}return i.clearCache=()=>{r=ya(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function jd(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...s)=>{let o=0,i=0,c,d={},l=s.pop();typeof l=="object"&&(d=l,l=s.pop()),hC(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const m={...r,...d},{memoize:h,memoizeOptions:y=[],argsMemoize:x=Di,argsMemoizeOptions:b=[],devModeChecks:R={}}=m,g=ec(y),P=ec(b),S=CC(s),v=h(function(){return o++,l.apply(null,arguments)},...g),I=x(function(){i++;const _=yC(S,arguments);return c=v.apply(null,_),c},...P);return Object.assign(I,{resultFunc:l,memoizedResultFunc:v,dependencies:S,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>c,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Vt=jd(Di),wC=Object.assign((t,e=Vt)=>{gC(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(o=>t[o]);return e(n,(...o)=>o.reduce((i,c,d)=>(i[r[d]]=c,i),{}))},{withTypes:()=>wC});const Rd=t=>t.app.rehydrated,jC=t=>t.filtres.dateFiltre.dateDebut,RC=t=>t.filtres.dateFiltre.dateFin,TC=t=>t.filtres.radioButtonFiltre,NC=Vt([jC,RC],(t,e)=>({dateDebut:t,dateFin:e})),PC=t=>t.modeReglement.data,DC=Vt([PC,(t,e)=>e],(t,e)=>t.filter(r=>r.idTypeCompte===e||r.idModeReglement===0)),EC=t=>t.saisieStructure.structure;Vt([EC,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{var n,s;return((s=(n=t.comptes[e])==null?void 0:n.groupes[r])==null?void 0:s.categories)||{}});const MC=(t,e)=>t.sousCategories.SCat[Number(e)];Vt([MC],t=>t?{idTypeDebit:t.idTypeDebit||1,recurrentMontant:t.recurrentMontant||"0.00",aPartager:!!t.aPartager}:{idTypeDebit:1,recurrentMontant:"0.00",aPartager:!1});const OC=Vt(t=>t.categories.data,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>parseInt(r)===0?[]:t.filter(n=>parseInt(n.idCompte)===parseInt(e)&&parseInt(n.idGroupe)===parseInt(r))),kC=Vt(t=>t.sousCategories.data,(t,e)=>e,(t,e)=>t.filter(n=>parseInt(n.idCat)===parseInt(e))),AC=Vt(t=>t.details.data,(t,e)=>e,(t,e)=>t.filter(n=>parseInt(n.idSCat)===parseInt(e))),FC=Vt([t=>t.sousCategories.data,t=>t.recurrents.data,(t,e)=>e],(t,e,r)=>{const n=t.find(s=>parseInt(s.idSCat)===parseInt(r));if(n&&n.recurrent){const s=e.find(o=>parseInt(o.idSCat)===parseInt(r));if(s)return s.recurrentMontant}return null}),IC=Vt([t=>t.sousCategories.data,(t,e)=>e],(t,e)=>{const r=Number(e),n=t.find(s=>s.idSCat===r);if(n)return n.idTypeDebit}),qC=Vt([t=>t.sousCategories.data,(t,e)=>e],(t,e)=>{const r=Number(e),n=t.find(s=>s.idSCat===r);return n?!!n.aPartager:!1}),_C=t=>Object.values(t),Td=Vt([t=>t.ecritures.data,(t,e)=>e],(t,e)=>_C(t).filter(s=>s.idCompte===e)),Fs=Vt([Td,(t,e)=>e],t=>{const e=new Date().toISOString().slice(0,10);return t.filter(n=>n.pointer&&new Date(n.dateReelle)<=new Date(e)).reduce((n,s)=>n+parseFloat(s.montantCredit)-parseFloat(s.montantDebit),0)}),Ei=Vt([Td,(t,e)=>e],t=>t.reduce((r,n)=>r+parseFloat(n.montantCredit)-parseFloat(n.montantDebit),0)),Nd=t=>t.provisions.data,Pd=t=>t.sousCategories.data,Dd=Vt([Nd,Pd],(t,e)=>t.filter(r=>{const n=e.find(s=>s.idSCat===r.idSCat);return n==null?void 0:n.recurrent}));Vt([Nd,Pd],(t,e)=>t.filter(r=>{const n=e.find(s=>s.idSCat===r.idSCat);return!(n!=null&&n.recurrent)}));const LC=t=>t.details.data,BC=Vt([LC],t=>t.filter(e=>e.idSCat===null)),UC=t=>t.comptes.data,VC=t=>t.virements.data,zC=t=>t.prelevements.data,HC=t=>t.provisions.data,GC=t=>t.typeCompte.data,$C=Vt([VC,zC,HC],(t,e,r)=>new Set([...t.map(s=>s.virementCompte),...e.map(s=>s.prelevementCompte),...r.map(s=>s.compteOrigine)])),WC=Vt([UC,GC,$C],(t,e,r)=>t.filter(n=>!n.inactif&&n.idCompte!==1&&r.has(n.idCompte)).sort((n,s)=>n.idTypeCompte-s.idTypeCompte||n.ordre-s.ordre).map(n=>{var i;const s=((i=e.find(c=>c.idTypeCompte===n.idTypeCompte))==null?void 0:i.libelleTypeCompte)||"",o=`${n.libelleCompte} ${s}`;return{id:n.idCompte,value:n.idCompte.toString(),label:o}}));function Kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var KC=typeof Symbol=="function"&&Symbol.observable||"@@observable",rc=KC,io=()=>Math.random().toString(36).substring(7).split("").join("."),XC={INIT:`@@redux/INIT${io()}`,REPLACE:`@@redux/REPLACE${io()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${io()}`},xs=XC;function Mi(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Oi(t,e,r){if(typeof t!="function")throw new Error(Kt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Kt(1));return r(Oi)(t,e)}let n=t,s=e,o=new Map,i=o,c=0,d=!1;function l(){i===o&&(i=new Map,o.forEach((g,P)=>{i.set(P,g)}))}function m(){if(d)throw new Error(Kt(3));return s}function h(g){if(typeof g!="function")throw new Error(Kt(4));if(d)throw new Error(Kt(5));let P=!0;l();const S=c++;return i.set(S,g),function(){if(P){if(d)throw new Error(Kt(6));P=!1,l(),i.delete(S),o=null}}}function y(g){if(!Mi(g))throw new Error(Kt(7));if(typeof g.type>"u")throw new Error(Kt(8));if(typeof g.type!="string")throw new Error(Kt(17));if(d)throw new Error(Kt(9));try{d=!0,s=n(s,g)}finally{d=!1}return(o=i).forEach(S=>{S()}),g}function x(g){if(typeof g!="function")throw new Error(Kt(10));n=g,y({type:xs.REPLACE})}function b(){const g=h;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Kt(11));function S(){const I=P;I.next&&I.next(m())}return S(),{unsubscribe:g(S)}},[rc](){return this}}}return y({type:xs.INIT}),{dispatch:y,subscribe:h,getState:m,replaceReducer:x,[rc]:b}}function YC(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:xs.INIT})>"u")throw new Error(Kt(12));if(typeof r(void 0,{type:xs.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function ki(t){const e=Object.keys(t),r={};for(let o=0;o<e.length;o++){const i=e[o];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let s;try{YC(r)}catch(o){s=o}return function(i={},c){if(s)throw s;let d=!1;const l={};for(let m=0;m<n.length;m++){const h=n[m],y=r[h],x=i[h],b=y(x,c);if(typeof b>"u")throw c&&c.type,new Error(Kt(14));l[h]=b,d=d||b!==x}return d=d||n.length!==Object.keys(i).length,d?l:i}}function Ss(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function JC(...t){return e=>(r,n)=>{const s=e(r,n);let o=()=>{throw new Error(Kt(15))};const i={getState:s.getState,dispatch:(d,...l)=>o(d,...l)},c=t.map(d=>d(i));return o=Ss(...c)(s.dispatch),{...s,dispatch:o}}}function QC(t){return Mi(t)&&"type"in t&&typeof t.type=="string"}var Ed=Symbol.for("immer-nothing"),nc=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function wr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jn=Object.getPrototypeOf;function en(t){return!!t&&!!t[mr]}function Lr(t){var e;return t?Md(t)||Array.isArray(t)||!!t[nc]||!!((e=t.constructor)!=null&&e[nc])||qs(t)||_s(t):!1}var ZC=Object.prototype.constructor.toString();function Md(t){if(!t||typeof t!="object")return!1;const e=jn(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ZC}function ws(t,e){Is(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Is(t){const e=t[mr];return e?e.type_:Array.isArray(t)?1:qs(t)?2:_s(t)?3:0}function Jo(t,e){return Is(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Od(t,e,r){const n=Is(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function ey(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function qs(t){return t instanceof Map}function _s(t){return t instanceof Set}function nn(t){return t.copy_||t.base_}function Qo(t,e){if(qs(t))return new Map(t);if(_s(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Md(t))return jn(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[mr];let n=Reflect.ownKeys(r);for(let s=0;s<n.length;s++){const o=n[s],i=r[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(jn(t),r)}function Ai(t,e=!1){return Ls(t)||en(t)||!Lr(t)||(Is(t)>1&&(t.set=t.add=t.clear=t.delete=ty),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Ai(n,!0))),t}function ty(){wr(2)}function Ls(t){return Object.isFrozen(t)}var ry={};function dn(t){const e=ry[t];return e||wr(0,t),e}var Zn;function kd(){return Zn}function ny(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ac(t,e){e&&(dn("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zo(t){ei(t),t.drafts_.forEach(ay),t.drafts_=null}function ei(t){t===Zn&&(Zn=t.parent_)}function sc(t){return Zn=ny(Zn,t)}function ay(t){const e=t[mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oc(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[mr].modified_&&(Zo(e),wr(4)),Lr(t)&&(t=js(e,t),e.parent_||Rs(e,t)),e.patches_&&dn("Patches").generateReplacementPatches_(r[mr].base_,t,e.patches_,e.inversePatches_)):t=js(e,r,[]),Zo(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Ed?t:void 0}function js(t,e,r){if(Ls(e))return e;const n=e[mr];if(!n)return ws(e,(s,o)=>ic(t,n,e,s,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Rs(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,i=!1;n.type_===3&&(o=new Set(s),s.clear(),i=!0),ws(o,(c,d)=>ic(t,n,s,c,d,r,i)),Rs(t,s,!1),r&&t.patches_&&dn("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ic(t,e,r,n,s,o,i){if(en(s)){const c=o&&e&&e.type_!==3&&!Jo(e.assigned_,n)?o.concat(n):void 0,d=js(t,s,c);if(Od(r,n,d),en(d))t.canAutoFreeze_=!1;else return}else i&&r.add(s);if(Lr(s)&&!Ls(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;js(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Rs(t,s)}}function Rs(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ai(e,r)}function sy(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:kd(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Fi;r&&(s=[n],o=ea);const{revoke:i,proxy:c}=Proxy.revocable(s,o);return n.draft_=c,n.revoke_=i,c}var Fi={get(t,e){if(e===mr)return t;const r=nn(t);if(!Jo(r,e))return oy(t,r,e);const n=r[e];return t.finalized_||!Lr(n)?n:n===lo(t.base_,e)?(co(t),t.copy_[e]=ri(n,t)):n},has(t,e){return e in nn(t)},ownKeys(t){return Reflect.ownKeys(nn(t))},set(t,e,r){const n=Ad(nn(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=lo(nn(t),e),o=s==null?void 0:s[mr];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(ey(r,s)&&(r!==void 0||Jo(t.base_,e)))return!0;co(t),ti(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return lo(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,co(t),ti(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=nn(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){wr(11)},getPrototypeOf(t){return jn(t.base_)},setPrototypeOf(){wr(12)}},ea={};ws(Fi,(t,e)=>{ea[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ea.deleteProperty=function(t,e){return ea.set.call(this,t,e,void 0)};ea.set=function(t,e,r){return Fi.set.call(this,t[0],e,r,t[0])};function lo(t,e){const r=t[mr];return(r?nn(r):t)[e]}function oy(t,e,r){var s;const n=Ad(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function Ad(t,e){if(!(e in t))return;let r=jn(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=jn(r)}}function ti(t){t.modified_||(t.modified_=!0,t.parent_&&ti(t.parent_))}function co(t){t.copy_||(t.copy_=Qo(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var iy=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const i=this;return function(d=o,...l){return i.produce(d,m=>r.call(this,m,...l))}}typeof r!="function"&&wr(6),n!==void 0&&typeof n!="function"&&wr(7);let s;if(Lr(e)){const o=sc(this),i=ri(e,void 0);let c=!0;try{s=r(i),c=!1}finally{c?Zo(o):ei(o)}return ac(o,n),oc(s,o)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===Ed&&(s=void 0),this.autoFreeze_&&Ai(s,!0),n){const o=[],i=[];dn("Patches").generateReplacementPatches_(e,s,o,i),n(o,i)}return s}else wr(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...c)=>this.produceWithPatches(i,d=>e(d,...c));let n,s;return[this.produce(e,r,(i,c)=>{n=i,s=c}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Lr(t)||wr(8),en(t)&&(t=Fd(t));const e=sc(this),r=ri(t,void 0);return r[mr].isManual_=!0,ei(e),r}finishDraft(t,e){const r=t&&t[mr];(!r||!r.isManual_)&&wr(9);const{scope_:n}=r;return ac(n,e),oc(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=dn("Patches").applyPatches_;return en(t)?n(t,e):this.produce(t,s=>n(s,e))}};function ri(t,e){const r=qs(t)?dn("MapSet").proxyMap_(t,e):_s(t)?dn("MapSet").proxySet_(t,e):sy(t,e);return(e?e.scope_:kd()).drafts_.push(r),r}function Fd(t){return en(t)||wr(10,t),Id(t)}function Id(t){if(!Lr(t)||Ls(t))return t;const e=t[mr];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Qo(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Qo(t,!0);return ws(r,(n,s)=>{Od(r,n,Id(s))}),e&&(e.finalized_=!1),r}var fr=new iy,qd=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function _d(t){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,t):s(o)}var ly=_d(),cy=_d,dy=(...t)=>{const e=jd(...t),r=Object.assign((...n)=>{const s=e(...n),o=(i,...c)=>s(en(i)?Fd(i):i,...c);return Object.assign(o,s),o},{withTypes:()=>r});return r};dy(Di);var uy=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ss:Ss.apply(null,arguments)},py=t=>t&&typeof t.match=="function";function pr(t,e){function r(...n){if(e){let s=e(...n);if(!s)throw new Error(cr(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>QC(n)&&n.type===t,r}var Ld=class Ln extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ln.prototype)}static get[Symbol.species](){return Ln}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ln(...e[0].concat(this)):new Ln(...e.concat(this))}};function lc(t){return Lr(t)?qd(t,()=>{}):t}function cc(t,e,r){if(t.has(e)){let s=t.get(e);return r.update&&(s=r.update(s,e,t),t.set(e,s)),s}if(!r.insert)throw new Error(cr(10));const n=r.insert(e,t);return t.set(e,n),n}function my(t){return typeof t=="boolean"}var fy=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let i=new Ld;return r&&(my(r)?i.push(ly):i.push(cy(r.extraArgument))),i},hy="RTK_autoBatch",Bd=t=>e=>{setTimeout(e,t)},gy=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Bd(10),by=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let s=!0,o=!1,i=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?gy:t.type==="callback"?t.queueNotification:Bd(t.timeout),l=()=>{i=!1,o&&(o=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const h=()=>s&&m(),y=n.subscribe(h);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var h;try{return s=!((h=m==null?void 0:m.meta)!=null&&h[hy]),o=!s,o&&(i||(i=!0,d(l))),n.dispatch(m)}finally{s=!0}}})},Cy=t=>function(r){const{autoBatch:n=!0}=r??{};let s=new Ld(t);return n&&s.push(by(typeof n=="object"?n:void 0)),s},yy=!0;function vy(t){const e=fy(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:i=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(Mi(r))c=ki(r);else throw new Error(cr(1));let d;typeof n=="function"?d=n(e):d=e();let l=Ss;s&&(l=uy({trace:!yy,...typeof s=="object"&&s}));const m=JC(...d),h=Cy(m);let y=typeof i=="function"?i(h):h();const x=l(...y);return Oi(c,o,x)}function Ud(t){const e={},r=[];let n;const s={addCase(o,i){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(cr(28));if(c in e)throw new Error(cr(29));return e[c]=i,s},addMatcher(o,i){return r.push({matcher:o,reducer:i}),s},addDefaultCase(o){return n=o,s}};return t(s),[e,r,n]}function xy(t){return typeof t=="function"}function Sy(t,e){let[r,n,s]=Ud(e),o;if(xy(t))o=()=>lc(t());else{const c=lc(t);o=()=>c}function i(c=o(),d){let l=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return l.filter(m=>!!m).length===0&&(l=[s]),l.reduce((m,h)=>{if(h)if(en(m)){const x=h(m,d);return x===void 0?m:x}else{if(Lr(m))return qd(m,y=>h(y,d));{const y=h(m,d);if(y===void 0){if(m===null)return m;throw new Error(cr(9))}return y}}return m},c)}return i.getInitialState=o,i}var wy="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vd=(t=21)=>{let e="",r=t;for(;r--;)e+=wy[Math.random()*64|0];return e},jy=(t,e)=>py(t)?t.match(e):t(e);function Ry(...t){return e=>t.some(r=>jy(r,e))}var Ty=["name","message","stack","code"],uo=class{constructor(t,e){so(this,"_type");this.payload=t,this.meta=e}},dc=class{constructor(t,e){so(this,"_type");this.payload=t,this.meta=e}},Ny=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of Ty)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},Me=(()=>{function t(e,r,n){const s=pr(e+"/fulfilled",(d,l,m,h)=>({payload:d,meta:{...h||{},arg:m,requestId:l,requestStatus:"fulfilled"}})),o=pr(e+"/pending",(d,l,m)=>({payload:void 0,meta:{...m||{},arg:l,requestId:d,requestStatus:"pending"}})),i=pr(e+"/rejected",(d,l,m,h,y)=>({payload:h,error:(n&&n.serializeError||Ny)(d||"Rejected"),meta:{...y||{},arg:m,requestId:l,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function c(d){return(l,m,h)=>{const y=n!=null&&n.idGenerator?n.idGenerator(d):Vd(),x=new AbortController;let b,R;function g(S){R=S,x.abort()}const P=async function(){var I,N;let S;try{let _=(I=n==null?void 0:n.condition)==null?void 0:I.call(n,d,{getState:m,extra:h});if(Dy(_)&&(_=await _),_===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const O=new Promise((j,k)=>{b=()=>{k({name:"AbortError",message:R||"Aborted"})},x.signal.addEventListener("abort",b)});l(o(y,d,(N=n==null?void 0:n.getPendingMeta)==null?void 0:N.call(n,{requestId:y,arg:d},{getState:m,extra:h}))),S=await Promise.race([O,Promise.resolve(r(d,{dispatch:l,getState:m,extra:h,requestId:y,signal:x.signal,abort:g,rejectWithValue:(j,k)=>new uo(j,k),fulfillWithValue:(j,k)=>new dc(j,k)})).then(j=>{if(j instanceof uo)throw j;return j instanceof dc?s(j.payload,y,d,j.meta):s(j,y,d)})])}catch(_){S=_ instanceof uo?i(null,y,d,_.payload,_.meta):i(_,y,d)}finally{b&&x.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&i.match(S)&&S.meta.condition||l(S),S}();return Object.assign(P,{abort:g,requestId:y,arg:d,unwrap(){return P.then(Py)}})}}return Object.assign(c,{pending:o,rejected:i,fulfilled:s,settled:Ry(i,s),typePrefix:e})}return t.withTypes=()=>t,t})();function Py(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Dy(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ey=Symbol.for("rtk-slice-createasyncthunk");function My(t,e){return`${t}/${e}`}function Oy({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Ey];return function(s){const{name:o,reducerPath:i=o}=s;if(!o)throw new Error(cr(11));typeof process<"u";const c=(typeof s.reducers=="function"?s.reducers(Ay()):s.reducers)||{},d=Object.keys(c),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(v,I){const N=typeof v=="string"?v:v.type;if(!N)throw new Error(cr(12));if(N in l.sliceCaseReducersByType)throw new Error(cr(13));return l.sliceCaseReducersByType[N]=I,m},addMatcher(v,I){return l.sliceMatchers.push({matcher:v,reducer:I}),m},exposeAction(v,I){return l.actionCreators[v]=I,m},exposeCaseReducer(v,I){return l.sliceCaseReducersByName[v]=I,m}};d.forEach(v=>{const I=c[v],N={reducerName:v,type:My(o,v),createNotation:typeof s.reducers=="function"};Iy(I)?_y(N,I,m,e):Fy(N,I,m)});function h(){const[v={},I=[],N=void 0]=typeof s.extraReducers=="function"?Ud(s.extraReducers):[s.extraReducers],_={...v,...l.sliceCaseReducersByType};return Sy(s.initialState,O=>{for(let j in _)O.addCase(j,_[j]);for(let j of l.sliceMatchers)O.addMatcher(j.matcher,j.reducer);for(let j of I)O.addMatcher(j.matcher,j.reducer);N&&O.addDefaultCase(N)})}const y=v=>v,x=new Map;let b;function R(v,I){return b||(b=h()),b(v,I)}function g(){return b||(b=h()),b.getInitialState()}function P(v,I=!1){function N(O){let j=O[v];return typeof j>"u"&&I&&(j=g()),j}function _(O=y){const j=cc(x,I,{insert:()=>new WeakMap});return cc(j,O,{insert:()=>{const k={};for(const[q,$]of Object.entries(s.selectors??{}))k[q]=ky($,O,g,I);return k}})}return{reducerPath:v,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const S={name:o,reducer:R,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...P(i),injectInto(v,{reducerPath:I,...N}={}){const _=I??i;return v.inject({reducerPath:_,reducer:R},N),{...S,...P(_,!0)}}};return S}}function ky(t,e,r,n){function s(o,...i){let c=e(o);return typeof c>"u"&&n&&(c=r()),t(c,...i)}return s.unwrapped=t,s}var Rt=Oy();function Ay(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Fy({type:t,reducerName:e,createNotation:r},n,s){let o,i;if("reducer"in n){if(r&&!qy(n))throw new Error(cr(17));o=n.reducer,i=n.prepare}else o=n;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,i?pr(t,i):pr(t))}function Iy(t){return t._reducerDefinitionType==="asyncThunk"}function qy(t){return t._reducerDefinitionType==="reducerWithPrepare"}function _y({type:t,reducerName:e},r,n,s){if(!s)throw new Error(cr(18));const{payloadCreator:o,fulfilled:i,pending:c,rejected:d,settled:l,options:m}=r,h=s(t,o,m);n.exposeAction(e,h),i&&n.addCase(h.fulfilled,i),c&&n.addCase(h.pending,c),d&&n.addCase(h.rejected,d),l&&n.addMatcher(h.settled,l),n.exposeCaseReducer(e,{fulfilled:i||va,pending:c||va,rejected:d||va,settled:l||va})}function va(){}var Ly=(t,e)=>{if(typeof t!="function")throw new Error(cr(32))},Ii="listenerMiddleware",By=t=>{let{type:e,actionCreator:r,matcher:n,predicate:s,effect:o}=t;if(e)s=pr(e).match;else if(r)e=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(cr(21));return Ly(o),{predicate:s,type:e,effect:o}},Uy=Object.assign(t=>{const{type:e,predicate:r,effect:n}=By(t);return{id:Vd(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cr(22))}}},{withTypes:()=>Uy}),Vy=Object.assign(pr(`${Ii}/add`),{withTypes:()=>Vy});pr(`${Ii}/removeAll`);var zy=Object.assign(pr(`${Ii}/remove`),{withTypes:()=>zy});function cr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function zd(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hy}=Object.prototype,{getPrototypeOf:qi}=Object,Bs=(t=>e=>{const r=Hy.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kr=t=>(t=t.toLowerCase(),e=>Bs(e)===t),Us=t=>e=>typeof e===t,{isArray:Mn}=Array,ta=Us("undefined");function Gy(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&br(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hd=kr("ArrayBuffer");function $y(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hd(t.buffer),e}const Wy=Us("string"),br=Us("function"),Gd=Us("number"),Vs=t=>t!==null&&typeof t=="object",Ky=t=>t===!0||t===!1,Ta=t=>{if(Bs(t)!=="object")return!1;const e=qi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xy=kr("Date"),Yy=kr("File"),Jy=kr("Blob"),Qy=kr("FileList"),Zy=t=>Vs(t)&&br(t.pipe),ev=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||br(t.append)&&((e=Bs(t))==="formdata"||e==="object"&&br(t.toString)&&t.toString()==="[object FormData]"))},tv=kr("URLSearchParams"),[rv,nv,av,sv]=["ReadableStream","Request","Response","Headers"].map(kr),ov=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ia(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Mn(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let c;for(n=0;n<i;n++)c=o[n],e.call(null,t[c],c,t)}}function $d(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Wd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kd=t=>!ta(t)&&t!==Wd;function ni(){const{caseless:t}=Kd(this)&&this||{},e={},r=(n,s)=>{const o=t&&$d(e,s)||s;Ta(e[o])&&Ta(n)?e[o]=ni(e[o],n):Ta(n)?e[o]=ni({},n):Mn(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ia(arguments[n],r);return e}const iv=(t,e,r,{allOwnKeys:n}={})=>(ia(e,(s,o)=>{r&&br(s)?t[o]=zd(s,r):t[o]=s},{allOwnKeys:n}),t),lv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cv=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},dv=(t,e,r,n)=>{let s,o,i;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!n||n(i,t,e))&&!c[i]&&(e[i]=t[i],c[i]=!0);t=r!==!1&&qi(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},uv=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},pv=t=>{if(!t)return null;if(Mn(t))return t;let e=t.length;if(!Gd(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},mv=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qi(Uint8Array)),fv=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},hv=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},gv=kr("HTMLFormElement"),bv=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),uc=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Cv=kr("RegExp"),Xd=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ia(r,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(n[o]=i||s)}),Object.defineProperties(t,n)},yv=t=>{Xd(t,(e,r)=>{if(br(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(br(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vv=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return Mn(t)?n(t):n(String(t).split(e)),r},xv=()=>{},Sv=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,po="abcdefghijklmnopqrstuvwxyz",pc="0123456789",Yd={DIGIT:pc,ALPHA:po,ALPHA_DIGIT:po+po.toUpperCase()+pc},wv=(t=16,e=Yd.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function jv(t){return!!(t&&br(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Rv=t=>{const e=new Array(10),r=(n,s)=>{if(Vs(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=Mn(n)?[]:{};return ia(n,(i,c)=>{const d=r(i,s+1);!ta(d)&&(o[c]=d)}),e[s]=void 0,o}}return n};return r(t,0)},Tv=kr("AsyncFunction"),Nv=t=>t&&(Vs(t)||br(t))&&br(t.then)&&br(t.catch),re={isArray:Mn,isArrayBuffer:Hd,isBuffer:Gy,isFormData:ev,isArrayBufferView:$y,isString:Wy,isNumber:Gd,isBoolean:Ky,isObject:Vs,isPlainObject:Ta,isReadableStream:rv,isRequest:nv,isResponse:av,isHeaders:sv,isUndefined:ta,isDate:Xy,isFile:Yy,isBlob:Jy,isRegExp:Cv,isFunction:br,isStream:Zy,isURLSearchParams:tv,isTypedArray:mv,isFileList:Qy,forEach:ia,merge:ni,extend:iv,trim:ov,stripBOM:lv,inherits:cv,toFlatObject:dv,kindOf:Bs,kindOfTest:kr,endsWith:uv,toArray:pv,forEachEntry:fv,matchAll:hv,isHTMLForm:gv,hasOwnProperty:uc,hasOwnProp:uc,reduceDescriptors:Xd,freezeMethods:yv,toObjectSet:vv,toCamelCase:bv,noop:xv,toFiniteNumber:Sv,findKey:$d,global:Wd,isContextDefined:Kd,ALPHABET:Yd,generateString:wv,isSpecCompliantForm:jv,toJSONObject:Rv,isAsyncFn:Tv,isThenable:Nv};function dt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s)}re.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jd=dt.prototype,Qd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qd[t]={value:t}});Object.defineProperties(dt,Qd);Object.defineProperty(Jd,"isAxiosError",{value:!0});dt.from=(t,e,r,n,s,o)=>{const i=Object.create(Jd);return re.toFlatObject(t,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),dt.call(i,t.message,e,r,n,s),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Pv=null;function ai(t){return re.isPlainObject(t)||re.isArray(t)}function Zd(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function mc(t,e,r){return t?t.concat(e).map(function(s,o){return s=Zd(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function Dv(t){return re.isArray(t)&&!t.some(ai)}const Ev=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function zs(t,e,r){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,g){return!re.isUndefined(g[R])});const n=r.metaTokens,s=r.visitor||m,o=r.dots,i=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function l(b){if(b===null)return"";if(re.isDate(b))return b.toISOString();if(!d&&re.isBlob(b))throw new dt("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(b)||re.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,R,g){let P=b;if(b&&!g&&typeof b=="object"){if(re.endsWith(R,"{}"))R=n?R:R.slice(0,-2),b=JSON.stringify(b);else if(re.isArray(b)&&Dv(b)||(re.isFileList(b)||re.endsWith(R,"[]"))&&(P=re.toArray(b)))return R=Zd(R),P.forEach(function(v,I){!(re.isUndefined(v)||v===null)&&e.append(i===!0?mc([R],I,o):i===null?R:R+"[]",l(v))}),!1}return ai(b)?!0:(e.append(mc(g,R,o),l(b)),!1)}const h=[],y=Object.assign(Ev,{defaultVisitor:m,convertValue:l,isVisitable:ai});function x(b,R){if(!re.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+R.join("."));h.push(b),re.forEach(b,function(P,S){(!(re.isUndefined(P)||P===null)&&s.call(e,P,re.isString(S)?S.trim():S,R,y))===!0&&x(P,R?R.concat(S):[S])}),h.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return x(t),e}function fc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function _i(t,e){this._pairs=[],t&&zs(t,this,e)}const eu=_i.prototype;eu.append=function(e,r){this._pairs.push([e,r])};eu.toString=function(e){const r=e?function(n){return e.call(this,n,fc)}:fc;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Mv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tu(t,e,r){if(!e)return t;const n=r&&r.encode||Mv,s=r&&r.serialize;let o;if(s?o=s(e,r):o=re.isURLSearchParams(e)?e.toString():new _i(e,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class hc{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ru={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ov=typeof URLSearchParams<"u"?URLSearchParams:_i,kv=typeof FormData<"u"?FormData:null,Av=typeof Blob<"u"?Blob:null,Fv={isBrowser:!0,classes:{URLSearchParams:Ov,FormData:kv,Blob:Av},protocols:["http","https","file","blob","url","data"]},Li=typeof window<"u"&&typeof document<"u",Iv=(t=>Li&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),qv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_v=Li&&window.location.href||"http://localhost",Lv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Li,hasStandardBrowserEnv:Iv,hasStandardBrowserWebWorkerEnv:qv,origin:_v},Symbol.toStringTag,{value:"Module"})),Nr={...Lv,...Fv};function Bv(t,e){return zs(t,new Nr.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return Nr.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Uv(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vv(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function nu(t){function e(r,n,s,o){let i=r[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),d=o>=r.length;return i=!i&&re.isArray(s)?s.length:i,d?(re.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!c):((!s[i]||!re.isObject(s[i]))&&(s[i]=[]),e(r,n,s[i],o)&&re.isArray(s[i])&&(s[i]=Vv(s[i])),!c)}if(re.isFormData(t)&&re.isFunction(t.entries)){const r={};return re.forEachEntry(t,(n,s)=>{e(Uv(n),s,r,0)}),r}return null}function zv(t,e,r){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Bi={transitional:ru,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(nu(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bv(e,this.formSerializer).toString();if((c=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zs(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),zv(e)):e}],transformResponse:[function(e){const r=this.transitional||Bi.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(i)throw c.name==="SyntaxError"?dt.from(c,dt.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Bi.headers[t]={}});const Ui=Bi,Hv=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gv=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||e[r]&&Hv[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},gc=Symbol("internals");function In(t){return t&&String(t).trim().toLowerCase()}function Na(t){return t===!1||t==null?t:re.isArray(t)?t.map(Na):String(t)}function $v(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Wv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mo(t,e,r,n,s){if(re.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function Kv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Xv(t,e){const r=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,i){return this[n].call(this,e,s,o,i)},configurable:!0})})}class Hs{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(c,d,l){const m=In(d);if(!m)throw new Error("header name must be a non-empty string");const h=re.findKey(s,m);(!h||s[h]===void 0||l===!0||l===void 0&&s[h]!==!1)&&(s[h||d]=Na(c))}const i=(c,d)=>re.forEach(c,(l,m)=>o(l,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(re.isString(e)&&(e=e.trim())&&!Wv(e))i(Gv(e),r);else if(re.isHeaders(e))for(const[c,d]of e.entries())o(d,c,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=In(e),e){const n=re.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return $v(s);if(re.isFunction(r))return r.call(this,s,n);if(re.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=In(e),e){const n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||mo(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(i){if(i=In(i),i){const c=re.findKey(n,i);c&&(!r||mo(n,n[c],c,r))&&(delete n[c],s=!0)}}return re.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||mo(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return re.forEach(this,(s,o)=>{const i=re.findKey(n,o);if(i){r[i]=Na(s),delete r[o];return}const c=e?Kv(o):String(o).trim();c!==o&&delete r[o],r[c]=Na(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return re.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[gc]=this[gc]={accessors:{}}).accessors,s=this.prototype;function o(i){const c=In(i);n[c]||(Xv(s,i),n[c]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}}Hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Hs.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});re.freezeMethods(Hs);const Pr=Hs;function fo(t,e){const r=this||Ui,n=e||r,s=Pr.from(n.headers);let o=n.data;return re.forEach(t,function(c){o=c.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function au(t){return!!(t&&t.__CANCEL__)}function On(t,e,r){dt.call(this,t??"canceled",dt.ERR_CANCELED,e,r),this.name="CanceledError"}re.inherits(On,dt,{__CANCEL__:!0});function su(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new dt("Request failed with status code "+r.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jv(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(d){const l=Date.now(),m=n[o];i||(i=l),r[s]=d,n[s]=l;let h=o,y=0;for(;h!==s;)y+=r[h++],h=h%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),l-i<e)return;const x=m&&l-m;return x?Math.round(y*1e3/x):void 0}}function Qv(t,e){let r=0;const n=1e3/e;let s=null;return function(){const i=this===!0,c=Date.now();if(i||c-r>n)return s&&(clearTimeout(s),s=null),r=c,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,r=Date.now(),t.apply(null,arguments)),n-(c-r)))}}const Ts=(t,e,r=3)=>{let n=0;const s=Jv(50,250);return Qv(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,d=i-n,l=s(d),m=i<=c;n=i;const h={loaded:i,total:c,progress:c?i/c:void 0,bytes:d,rate:l||void 0,estimated:l&&c&&m?(c-i)/l:void 0,event:o,lengthComputable:c!=null};h[e?"download":"upload"]=!0,t(h)},r)},Zv=Nr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function s(o){let i=o;return e&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(i){const c=re.isString(i)?s(i):i;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}(),ex=Nr.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const i=[t+"="+encodeURIComponent(e)];re.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),re.isString(n)&&i.push("path="+n),re.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ou(t,e){return t&&!tx(e)?rx(t,e):e}const bc=t=>t instanceof Pr?{...t}:t;function un(t,e){e=e||{};const r={};function n(l,m,h){return re.isPlainObject(l)&&re.isPlainObject(m)?re.merge.call({caseless:h},l,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function s(l,m,h){if(re.isUndefined(m)){if(!re.isUndefined(l))return n(void 0,l,h)}else return n(l,m,h)}function o(l,m){if(!re.isUndefined(m))return n(void 0,m)}function i(l,m){if(re.isUndefined(m)){if(!re.isUndefined(l))return n(void 0,l)}else return n(void 0,m)}function c(l,m,h){if(h in e)return n(l,m);if(h in t)return n(void 0,l)}const d={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(l,m)=>s(bc(l),bc(m),!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(m){const h=d[m]||s,y=h(t[m],e[m],m);re.isUndefined(y)&&h!==c||(r[m]=y)}),r}const iu=t=>{const e=un({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=e;e.headers=i=Pr.from(i),e.url=tu(ou(e.baseURL,e.url),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(re.isFormData(r)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((d=i.getContentType())!==!1){const[l,...m]=d?d.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...m].join("; "))}}if(Nr.hasStandardBrowserEnv&&(n&&re.isFunction(n)&&(n=n(e)),n||n!==!1&&Zv(e.url))){const l=s&&o&&ex.read(o);l&&i.set(s,l)}return e},nx=typeof XMLHttpRequest<"u",ax=nx&&function(t){return new Promise(function(r,n){const s=iu(t);let o=s.data;const i=Pr.from(s.headers).normalize();let{responseType:c}=s,d;function l(){s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function h(){if(!m)return;const x=Pr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:t,request:m};su(function(P){r(P),l()},function(P){n(P),l()},R),m=null}"onloadend"in m?m.onloadend=h:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(h)},m.onabort=function(){m&&(n(new dt("Request aborted",dt.ECONNABORTED,s,m)),m=null)},m.onerror=function(){n(new dt("Network Error",dt.ERR_NETWORK,s,m)),m=null},m.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||ru;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),n(new dt(b,R.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,s,m)),m=null},o===void 0&&i.setContentType(null),"setRequestHeader"in m&&re.forEach(i.toJSON(),function(b,R){m.setRequestHeader(R,b)}),re.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),c&&c!=="json"&&(m.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&m.addEventListener("progress",Ts(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Ts(s.onUploadProgress)),(s.cancelToken||s.signal)&&(d=x=>{m&&(n(!x||x.type?new On(null,t,m):x),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=Yv(s.url);if(y&&Nr.protocols.indexOf(y)===-1){n(new dt("Unsupported protocol "+y+":",dt.ERR_BAD_REQUEST,t));return}m.send(o||null)})},sx=(t,e)=>{let r=new AbortController,n;const s=function(d){if(!n){n=!0,i();const l=d instanceof Error?d:this.reason;r.abort(l instanceof dt?l:new On(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{s(new dt(`timeout ${e} of ms exceeded`,dt.ETIMEDOUT))},e);const i=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d&&(d.removeEventListener?d.removeEventListener("abort",s):d.unsubscribe(s))}),t=null)};t.forEach(d=>d&&d.addEventListener&&d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=i,[c,()=>{o&&clearTimeout(o),o=null}]},ox=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},ix=async function*(t,e,r){for await(const n of t)yield*ox(ArrayBuffer.isView(n)?n:await r(String(n)),e)},Cc=(t,e,r,n,s)=>{const o=ix(t,e,s);let i=0;return new ReadableStream({type:"bytes",async pull(c){const{done:d,value:l}=await o.next();if(d){c.close(),n();return}let m=l.byteLength;r&&r(i+=m),c.enqueue(new Uint8Array(l))},cancel(c){return n(c),o.return()}},{highWaterMark:2})},yc=(t,e)=>{const r=t!=null;return n=>setTimeout(()=>e({lengthComputable:r,total:t,loaded:n}))},Gs=typeof fetch<"u",lu=Gs&&typeof ReadableStream<"u",si=Gs&&(typeof TextEncoder<"u"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),lx=lu&&(()=>{let t=!1;const e=new Request(Nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),vc=64*1024,oi=lu&&!!(()=>{try{return re.isReadableStream(new Response("").body)}catch{}})(),Ns={stream:oi&&(t=>t.body)};Gs&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ns[e]&&(Ns[e]=re.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new dt(`Response type '${e}' is not supported`,dt.ERR_NOT_SUPPORT,n)})})})(new Response);const cx=async t=>{if(t==null)return 0;if(re.isBlob(t))return t.size;if(re.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(re.isArrayBufferView(t))return t.byteLength;if(re.isURLSearchParams(t)&&(t=t+""),re.isString(t))return(await si(t)).byteLength},dx=async(t,e)=>{const r=re.toFiniteNumber(t.getContentLength());return r??cx(e)},ux=Gs&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:o,timeout:i,onDownloadProgress:c,onUploadProgress:d,responseType:l,headers:m,withCredentials:h="same-origin",fetchOptions:y}=iu(t);l=l?(l+"").toLowerCase():"text";let[x,b]=s||o||i?sx([s,o],i):[],R,g;const P=()=>{!R&&setTimeout(()=>{x&&x.unsubscribe()}),R=!0};let S;try{if(d&&lx&&r!=="get"&&r!=="head"&&(S=await dx(m,n))!==0){let _=new Request(e,{method:"POST",body:n,duplex:"half"}),O;re.isFormData(n)&&(O=_.headers.get("content-type"))&&m.setContentType(O),_.body&&(n=Cc(_.body,vc,yc(S,Ts(d)),null,si))}re.isString(h)||(h=h?"cors":"omit"),g=new Request(e,{...y,signal:x,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",withCredentials:h});let v=await fetch(g);const I=oi&&(l==="stream"||l==="response");if(oi&&(c||I)){const _={};["status","statusText","headers"].forEach(j=>{_[j]=v[j]});const O=re.toFiniteNumber(v.headers.get("content-length"));v=new Response(Cc(v.body,vc,c&&yc(O,Ts(c,!0)),I&&P,si),_)}l=l||"text";let N=await Ns[re.findKey(Ns,l)||"text"](v,t);return!I&&P(),b&&b(),await new Promise((_,O)=>{su(_,O,{data:N,headers:Pr.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:g})})}catch(v){throw P(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,t,g),{cause:v.cause||v}):dt.from(v,v&&v.code,t,g)}}),ii={http:Pv,xhr:ax,fetch:ux};re.forEach(ii,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xc=t=>`- ${t}`,px=t=>re.isFunction(t)||t===null||t===!1,cu={getAdapter:t=>{t=re.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let o=0;o<e;o++){r=t[o];let i;if(n=r,!px(r)&&(n=ii[(i=String(r)).toLowerCase()],n===void 0))throw new dt(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+o]=n}if(!n){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(xc).join(`
`):" "+xc(o[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:ii};function ho(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new On(null,t)}function Sc(t){return ho(t),t.headers=Pr.from(t.headers),t.data=fo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cu.getAdapter(t.adapter||Ui.adapter)(t).then(function(n){return ho(t),n.data=fo.call(t,t.transformResponse,n),n.headers=Pr.from(n.headers),n},function(n){return au(n)||(ho(t),n&&n.response&&(n.response.data=fo.call(t,t.transformResponse,n.response),n.response.headers=Pr.from(n.response.headers))),Promise.reject(n)})}const du="1.7.1",Vi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vi[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const wc={};Vi.transitional=function(e,r,n){function s(o,i){return"[Axios v"+du+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,c)=>{if(e===!1)throw new dt(s(i," has been removed"+(r?" in "+r:"")),dt.ERR_DEPRECATED);return r&&!wc[i]&&(wc[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,c):!0}};function mx(t,e,r){if(typeof t!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=e[o];if(i){const c=t[o],d=c===void 0||i(c,o,t);if(d!==!0)throw new dt("option "+o+" must be "+d,dt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new dt("Unknown option "+o,dt.ERR_BAD_OPTION)}}const li={assertOptions:mx,validators:Vi},Gr=li.validators;class Ps{constructor(e){this.defaults=e,this.interceptors={request:new hc,response:new hc}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=un(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&li.assertOptions(n,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),s!=null&&(re.isFunction(s)?r.paramsSerializer={serialize:s}:li.assertOptions(s,{encode:Gr.function,serialize:Gr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&re.merge(o.common,o[r.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),r.headers=Pr.concat(i,o);const c=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(r)===!1||(d=d&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const l=[];this.interceptors.response.forEach(function(R){l.push(R.fulfilled,R.rejected)});let m,h=0,y;if(!d){const b=[Sc.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,l),y=b.length,m=Promise.resolve(r);h<y;)m=m.then(b[h++],b[h++]);return m}y=c.length;let x=r;for(h=0;h<y;){const b=c[h++],R=c[h++];try{x=b(x)}catch(g){R.call(this,g);break}}try{m=Sc.call(this,x)}catch(b){return Promise.reject(b)}for(h=0,y=l.length;h<y;)m=m.then(l[h++],l[h++]);return m}getUri(e){e=un(this.defaults,e);const r=ou(e.baseURL,e.url);return tu(r,e.params,e.paramsSerializer)}}re.forEach(["delete","get","head","options"],function(e){Ps.prototype[e]=function(r,n){return this.request(un(n||{},{method:e,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,c){return this.request(un(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Ps.prototype[e]=r(),Ps.prototype[e+"Form"]=r(!0)});const Pa=Ps;class zi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(c=>{n.subscribe(c),o=c}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,c){n.reason||(n.reason=new On(o,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new zi(function(s){e=s}),cancel:e}}}const fx=zi;function hx(t){return function(r){return t.apply(null,r)}}function gx(t){return re.isObject(t)&&t.isAxiosError===!0}const ci={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ci).forEach(([t,e])=>{ci[e]=t});const bx=ci;function uu(t){const e=new Pa(t),r=zd(Pa.prototype.request,e);return re.extend(r,Pa.prototype,e,{allOwnKeys:!0}),re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return uu(un(t,s))},r}const he=uu(Ui);he.Axios=Pa;he.CanceledError=On;he.CancelToken=fx;he.isCancel=au;he.VERSION=du;he.toFormData=zs;he.AxiosError=dt;he.Cancel=he.CanceledError;he.all=function(e){return Promise.all(e)};he.spread=hx;he.isAxiosError=gx;he.mergeConfig=un;he.AxiosHeaders=Pr;he.formToJSON=t=>nu(re.isHTMLForm(t)?new FormData(t):t);he.getAdapter=cu.getAdapter;he.HttpStatusCode=bx;he.default=he;const Ne="https://apibudgetpersodemo.fabwebprojects.fr/api/";function Pe(t){return Array.isArray(t)?t.map(e=>Pe(e)):t!==null&&typeof t=="object"?Object.keys(t).reduce((e,r)=>{let n=r.replace(/(_\w)/g,s=>s[1].toUpperCase());return n=n.charAt(0).toLowerCase()+n.slice(1),e[n]=Pe(t[r]),e},{}):t}const pn=t=>parseFloat(t).toLocaleString("fr-FR",{style:"currency",currency:"EUR"}),jr=t=>new Date(t).toLocaleDateString("fr-FR"),di=t=>{const e=new Date(t),r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear();return`${r}/${n}/${s}`},rr=t=>Number(t).toLocaleString("fr-FR",{style:"currency",currency:"EUR"});function Wr(t){const e=parseFloat(t);return isNaN(e)?"0.00":e.toFixed(2)}function Pt(t){return typeof t!="string"||t.length===0?t:t.charAt(0).toUpperCase()+t.slice(1)}const Cx=t=>new Date(t).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),yx=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/exercices`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch exercices:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching exercices: ${n} - ${s}`)}},vx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Exercice data is required");const r=`${Ne}exercices`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create exercice:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating exercice: ${s} - ${o}`)}},xx=async(t,e,r)=>{if(!t)throw new Error("Authentication token is required");if(!e)throw new Error("Exercice ID is required");const n=`${Ne}exercices/${e}`;try{const s=await he.patch(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update exercice:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating exercice: ${o} - ${i}`)}},Sx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Exercice ID is required");const r=`${Ne}exercices/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete exercice:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting exercice: ${s} - ${o}`)}},wx={dateDebut:null,dateFin:null},pu=Rt({name:"dateFiltre",initialState:wx,reducers:{setDateDebut:(t,e)=>{t.dateDebut=e.payload},setDateFin:(t,e)=>{t.dateFin=e.payload}}}),jx={nonPointer:1,aVenir:0,partager:0,pointer:0,valider:0,all:0},mu=Rt({name:"radioButtonFiltre",initialState:jx,reducers:{setFiltreOption:(t,e)=>{const r=e.payload.option;Object.keys(t).forEach(n=>{t[n]=0}),t[r]=1}}}),Rx=ki({dateFiltre:pu.reducer,radioButtonFiltre:mu.reducer}),{setDateDebut:Yr,setDateFin:Jr}=pu.actions,{setFiltreOption:Tx}=mu.actions,on=Me("exercices/fetchExercices",async(t,{getState:e,dispatch:r,rejectWithValue:n})=>{const s=e().auth.token;if(!s)return n("No auth token provided.");try{const i=(await yx(s)).map(d=>({...d,exerciceParDefaut:!!d.exerciceParDefaut})),c=i.find(d=>d.exerciceParDefaut);return c&&(r(Yr(c.debutExercice)),r(Jr(c.finExercice))),i}catch(o){return n(o.message)}}),Vn=Me("exercices/createNewExercice",async(t,{getState:e,rejectWithValue:r,dispatch:n})=>{const s=e().auth.token;if(!s)return r("No auth token provided.");try{const o=await vx(t,s),i={...o,exerciceParDefaut:!!o.exerciceParDefaut};return i.exerciceParDefaut&&(n(Yr(i.Debut_Exercice)),n(Jr(i.Fin_Exercice))),i}catch(o){return r(o.message)}}),Da=Me("exercices/patchExercice",async({idExercice:t,exerciceData:e},{getState:r,dispatch:n})=>{try{const s=r().auth.token,o=await xx(s,t,e),i={...o,idExercice:parseInt(o.idExercice)},c=r().exercices.data.map(d=>d.idExercice===i.idExercice?{...d,...i,exerciceParDefaut:i.exerciceParDefaut===1}:i.exerciceParDefaut&&d.exerciceParDefaut?{...d,exerciceParDefaut:!1}:d);return n(Px(c)),i}catch(s){throw Error(s)}}),Ea=Me("exercices/deleteExercice",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Sx(t,n),t}catch(n){return r(n.message)}}),Nx=t=>{const e=t.selections.selectedExercice;return e&&t.exercices.data.find(r=>r.idExercice===e)||null};pr("exercices/reset");const fu=Rt({name:"exercices",initialState:{data:[],loading:!1,error:null,dataLoaded:!1},reducers:{setExercices:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(on.pending,e=>{e.loading=!0}).addCase(on.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1,e.dataLoaded=!0}).addCase(on.rejected,(e,r)=>{e.error=r.error.message,e.loading=!1}).addCase(Vn.pending,e=>{e.loading=!0}).addCase(Vn.fulfilled,(e,r)=>{e.data.push(r.payload),e.loading=!1,e.dataLoaded=!1}).addCase(Vn.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(Da.pending,e=>{e.loading=!0}).addCase(Da.fulfilled,(e,r)=>{const n=e.data.map(s=>s.idExercice===r.payload.idExercice?{...s,...r.payload,exerciceParDefaut:r.payload.exerciceParDefaut===1}:{...s,exerciceParDefaut:r.payload.exerciceParDefaut===1?!1:s.exerciceParDefaut});e.data=n}).addCase(Da.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Ea.pending,e=>{e.loading=!0}).addCase(Ea.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idExercice!==r.payload),e.loading=!1,e.dataLoaded=!1}).addCase(Ea.rejected,(e,r)=>{e.error=r.payload,e.loading=!1})}}),{setSelectedExercice:Y1,setExercices:Px}=fu.actions,Dx=fu.reducer,Ex={selectedExercice:null,selectedCompte:1},hu=Rt({name:"selections",initialState:Ex,reducers:{selectExercice:(t,e)=>{t.selectedExercice=e.payload},selectCompte:(t,e)=>{t.selectedCompte=e.payload},clearSelections:t=>{t.selectedExercice=null,t.selectedCompte=1}},extraReducers:t=>{t.addCase(on.fulfilled,(e,r)=>{const n=r.payload.find(s=>s.exerciceParDefaut);n&&(e.selectedExercice=n.idExercice)}).addCase(Vn.fulfilled,(e,r)=>{r.payload.exerciceParDefaut&&(e.selectedExercice=r.payload.idExercice)})}}),{selectExercice:gu,selectCompte:jc,clearSelection:J1}=hu.actions,Mx=hu.reducer,Ox=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}listes/comptes?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch comptes:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching comptes: ${s} - ${o}`)}},kx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Compte data is required");const r=`${Ne}comptes`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create compte:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating compte: ${s} - ${o}`)}},Ax=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!t)throw new Error("Compte data is required for update");if(!e)throw new Error("Compte ID is required for update");const n=`${Ne}comptes/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update compte:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating compte: ${o} - ${i}`)}},Fx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Compte ID is required");const r=`${Ne}comptes/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete compte:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting compte: ${s} - ${o}`)}},bu=t=>{const e={countOptionsLigne1:0,countOptionsLigne2:0};return t.forEach(r=>{r.libelleCompte!=="Tous les Comptes"&&(["(Courant)","(Différé)","(Joint)"].includes(r.libelleTypeCompte)?e.countOptionsLigne1+=1:e.countOptionsLigne2+=1)}),e},Ix=async(t,e,r)=>{if(!t)throw new Error("Authentication token is required");try{e=parseInt(e,10),r=parseInt(r,10);const n=`${Ne}differer?Compte=${e}&Exercice=${r}`,s=await he.get(n,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(s.data)}catch(n){throw console.error("Could not fetch date differe:",n.response||n),n}},qx=async(t,e,r)=>{if(!t)throw new Error("Authentication token is required");try{const n=`${Ne}differer/${e}`,s=await he.patch(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(n){throw console.error("Could not update date differe:",n.response||n),n}},zn=Me("dateDifferer/fetchDateDifferer",async({compte:t,exercice:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await Ix(s,t,e)}catch(s){return n(s.message)}}),Ma=Me("dateDifferer/updateDateDifferer",async({idDiffererFacturation:t,dateDiffererData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await qx(s,t,e);return{...o,idDiffererFacturation:parseInt(o.idDiffererFacturation)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),Cu=Rt({name:"dateDifferer",initialState:{data:[],loading:!1,error:null},reducers:{addDateDiffererData:(t,e)=>{t.data=[...t.data,...e.payload]}},extraReducers:t=>{t.addCase(zn.pending,e=>{e.loading=!0,e.error=null}).addCase(zn.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(zn.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Ma.pending,e=>{e.loading=!0}).addCase(Ma.fulfilled,(e,r)=>{const n=r.payload;if(n&&n.idDiffererFacturation){const s=e.data.findIndex(o=>o.idDiffererFacturation===n.idDiffererFacturation);s!==-1&&(e.data[s]={...e.data[s],...n})}}).addCase(Ma.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{addDateDiffererData:_x}=Cu.actions,Lx=Cu.reducer;Me("comptes/fetchDetailsForDiffereComptes",async(t,{dispatch:e})=>{const r=await e(Hn(t)),n=await e(on()),s=r.payload.filter(d=>d.libelleTypeCompte==="(Différé)"),o=n.payload.filter(d=>d.libelleStatut!=="(Clôturé)"),c=s.map(d=>o.map(l=>e(zn({compte:d.idCompte,exercice:l.idExercice})))).flat();try{await Promise.all(c)}catch(d){console.error("Erreur lors de la récupération des dates différées :",d)}});const Hn=Me("comptes/fetchComptes",async(t,{getState:e})=>{const r=e().auth.token;return(await Ox(r,t)).map(o=>({...o,inactif:!!o.inactif}))}),Oa=Me("comptes/createNewCompte",async(t,{getState:e,dispatch:r,rejectWithValue:n})=>{const s=e().auth.token;if(!s)return n("No auth token provided.");try{const o=await kx(t,s);return r(ca()),o}catch(o){return n(o.message)}}),ka=Me("comptes/updateCompte",async({idCompte:t,compteData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await Ax(e,t,s);return{...o,idCompte:parseInt(o.idCompte)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),Aa=Me("comptes/deleteCompte",async(t,{getState:e,dispatch:r,rejectWithValue:n})=>{const s=e().auth.token;if(!s)return n("No auth token provided.");try{return await Fx(t,s),r(ca()),t}catch(o){return n(o.message)}}),la=t=>{const e=t.selections.selectedCompte;return e&&t.comptes.data.find(r=>r.idCompte===e)||null},Bx=pr("comptes/reset"),ca=Me("comptes/recalculateCompteCounts",async t=>bu(t)),Ux=t=>t.soldeCompte.soldes;Vt([Ux,(t,e)=>e],(t,e)=>e?t:t.filter(r=>r.Inactif===!1));const Vx=pr("comptes/updateCompteInfo",(t,e)=>({payload:{idCompte:t,nCheque:e}})),yu=Rt({name:"comptes",initialState:{data:[],nbreCompte:{countOptionsLigne1:0,countOptionsLigne2:0},loadingComptes:!1,error:null,dataLoaded:!1,afficherInactifs:!1},reducers:{setSelectedCompte:(t,e)=>{t.selectedCompte=e.payload},updateCompteInfo:(t,e)=>{const{idCompte:r,nCheque:n}=e.payload;t.data=t.data.map(s=>(s.idCompte===r&&n!==null&&(s.nCheque=n+1),s))}},extraReducers:t=>{t.addCase(Hn.pending,e=>{e.loadingComptes=!0}).addCase(Hn.fulfilled,(e,r)=>{e.data=r.payload,e.nbreCompte=bu(r.payload),e.loadingComptes=!1,e.dataLoaded=!0}).addCase(ca.fulfilled,(e,r)=>{e.nbreCompte=r.payload}).addCase(Hn.rejected,(e,r)=>{e.error=r.error.message}).addCase(Oa.pending,e=>{e.loadingComptes=!0}).addCase(Oa.fulfilled,(e,r)=>{e.data.push(r.payload.compte),e.loadingComptes=!1}).addCase(Oa.rejected,(e,r)=>{e.error=r.payload,e.loadingComptes=!1}).addCase(ka.pending,e=>{e.loading=!0}).addCase(ka.fulfilled,(e,r)=>{const n=r.payload;if(n&&n.idCompte){const s=e.data.findIndex(o=>o.idCompte===n.idCompte);s!==-1&&(e.data[s]={...e.data[s],...n})}}).addCase(ka.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Aa.pending,e=>{e.loadingComptes=!0}).addCase(Aa.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idCompte!==r.payload),e.loadingComptes=!1}).addCase(Aa.rejected,(e,r)=>{e.error=r.payload,e.loadingComptes=!1}).addCase(Bx,e=>{e.data=[],e.nbreCompte={countOptionsLigne1:0,countOptionsLigne2:0},e.loadingComptes=!1,e.error=null,e.dataLoaded=!1})}});yu.actions;const vu=t=>t.comptes.data,zx=yu.reducer,Hx=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}listes/categories?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Categories:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching Categories: ${s} - ${o}`)}},Gx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Categorie data is required");const r=`${Ne}categories`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create categorie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating categorie: ${s} - ${o}`)}},$x=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!e)throw new Error("Category ID is required");if(!t)throw new Error("Category data is required");const n=`${Ne}categories/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update category:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating category: ${o} - ${i}`)}},Wx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Categorie ID is required");const r=`${Ne}categories/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete categorie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting categorie: ${s} - ${o}`)}},go=Me("categories/fetchCategories",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await Hx(n,t)).map(i=>({...i,inactif:!!i.inactif}))}catch(n){return r(n.message)}}),Gn=Me("categories/createNewCategorie",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Gx(t,n)}catch(n){return r(n.message)}}),Fa=Me("categories/updateCategorie",async({idCat:t,categorieData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await $x(e,t,s);return{...o,idCat:parseInt(o.idCat)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),Ia=Me("categories/deleteCategorie",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Wx(t,n),t}catch(n){return r(n.message)}}),xu=Rt({name:"categories",initialState:{data:[],loading:!1,error:null},reducers:{addMultipleCategories:(t,e)=>{t.data.push(...e.payload)},updateCategorieData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(go.pending,e=>{e.loading=!0,e.error=null}).addCase(go.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(go.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Gn.pending,e=>{e.loading=!0}).addCase(Gn.fulfilled,(e,r)=>{e.data.push(r.payload),e.loading=!1,e.error=null}).addCase(Gn.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Fa.pending,e=>{e.loading=!0}).addCase(Fa.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idCat===r.payload.idCat);n!==-1?e.data[n]=r.payload:e.data.push(r.payload),e.loading=!1}).addCase(Fa.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(Ia.pending,e=>{e.loading=!0}).addCase(Ia.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.id!==r.payload),e.loading=!1,e.error=null}).addCase(Ia.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),Kx=xu.reducer,{addMultipleCategories:Xx,updateCategorieData:Yx}=xu.actions,Jx=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}listes/souscategories?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch sous-categories:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching sous-categories: ${s} - ${o}`)}},Qx=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Sous-categorie data is required");const r=`${Ne}souscategories`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create sous-categorie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating sous-categorie: ${s} - ${o}`)}},Zx=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!e)throw new Error("Sous-categorie ID is required");if(!t)throw new Error("Sous-categorie data is required");const n=`${Ne}souscategories/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update sous-categorie:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating sous-categorie: ${o} - ${i}`)}},eS=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Sous-categorie ID is required");const r=`${Ne}souscategories/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete sous-categorie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting sous-categorie: ${s} - ${o}`)}},bo=Me("sousCategories/fetchSousCategories",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await Jx(n,t)).map(i=>({...i,aPartager:!!Number(i.aPartager),recurrent:!!Number(i.recurrent),virement:!!Number(i.virement),prelevement:!!Number(i.prelevement),mvtInterne:!!Number(i.mvtInterne),provision:!!Number(i.provision),inactif:!!Number(i.inactif)}))}catch(n){return r(n.message)}}),$n=Me("sousCategories/createNewSousCategorie",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Qx(t,n)}catch(n){return r(n.message)}}),qa=Me("sousCategories/updateSousCategorie",async({idSCat:t,sousCategorieData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await Zx(e,t,s);return{...o,idSCat:parseInt(o.idSCat)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),_a=Me("sousCategories/deleteSousCategorie",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await eS(t,n),t}catch(n){return r(n.message)}}),Su=Rt({name:"sousCategories",initialState:{data:[],loading:!1,error:null},reducers:{addMultipleSousCategories:(t,e)=>{t.data.push(...e.payload)},updateSousCategorieData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(bo.pending,e=>{e.loading=!0}).addCase(bo.fulfilled,(e,r)=>{e.loading=!1,e.error=null,e.data=r.payload}).addCase(bo.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase($n.pending,e=>{e.loading=!0}).addCase($n.fulfilled,(e,r)=>{e.data.push(r.payload.sousCategorie),e.loading=!1,e.error=null}).addCase($n.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(qa.pending,e=>{e.loading=!0}).addCase(qa.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idSCat===r.payload.idSCat);n!==-1?e.data[n]=r.payload.sousCategorie:e.data.push(r.payload.sousCategorie),e.loading=!1}).addCase(qa.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(_a.pending,e=>{e.loading=!0}).addCase(_a.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idSCat!==r.payload),e.loading=!1,e.error=null}).addCase(_a.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),tS=Su.reducer,{addMultipleSousCategories:rS,updateSousCategorieData:nS}=Su.actions,aS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}listes/details?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Details:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching Details: ${s} - ${o}`)}},sS=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Detail data is required");const r=`${Ne}details`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create detail:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating detail: ${s} - ${o}`)}},oS=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!t)throw new Error("Detail data is required for update");if(!e)throw new Error("Detail ID is required for update");const n=`${Ne}details/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update detail:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating detail: ${o} - ${i}`)}},iS=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Detail ID is required");const r=`${Ne}details/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete detail:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting detail: ${s} - ${o}`)}},Co=Me("details/fetchDetails",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await aS(n,t)).map(i=>({...i,magasin:!!Number(i.magasin),inactif:!!Number(i.inactif)}))}catch(n){return r(n.message)}}),La=Me("details/createNewDetail",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await sS(t,n)}catch(n){return r(n.toString())}}),Ba=Me("details/updateDetail",async({idDetail:t,detailData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await oS(e,t,s);return{...o,idDetail:parseInt(o.idDetail)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),Ua=Me("details/deleteDetail",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await iS(t,n),console.log("id",t),t}catch(n){return r(n.toString())}}),wu=Rt({name:"details",initialState:{data:[],loading:!1,error:null},reducers:{addMultipleDetails:(t,e)=>{t.data.push(...e.payload)},removeMultipleDetailsFromStore:(t,e)=>{const r=e.payload.map(String);t.data=t.data.filter(n=>!r.includes(String(n.idDetail)))},updateDetailData:(t,e)=>{t.data=e.payload},addDetailToStore:(t,e)=>{const{idDetail:r,idSCat:n,libelleDetail:s,magasin:o}=e.payload;t.data.push({idDetail:r,libelleDetail:s,idSCat:n,magasin:o,inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(Co.pending,e=>{e.loading=!0,e.error=null}).addCase(Co.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload,e.error=null}).addCase(Co.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(La.pending,e=>{e.loading=!0}).addCase(La.fulfilled,(e,r)=>{e.loading=!1,e.data.push(r.payload)}).addCase(La.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Ba.pending,e=>{e.loading=!0}).addCase(Ba.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idDetail===r.payload.idDetail);n!==-1?e.data[n]=r.payload:e.data.push(r.payload),e.loading=!1}).addCase(Ba.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(Ua.pending,e=>{e.loading=!0}).addCase(Ua.fulfilled,(e,r)=>{e.loading=!1,e.data=e.data.filter(n=>n.idDetail.toString()!==r.payload.toString())}).addCase(Ua.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),lS=wu.reducer,{addMultipleDetails:cS,updateDetailData:dS,addDetailToStore:ui,removeMultipleDetailsFromStore:uS}=wu.actions,pS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}recurrents?Prenom_Utilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Recurrents:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Recurrents: ${s} - ${o}`)}},mS=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!t)throw new Error("Recurrent ID is required");if(!e)throw new Error("Update data is required");const n=`${Ne}recurrents/${t}`;try{const s=await he.patch(n,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update recurrent montant:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating recurrent montant: ${o} - ${i}`)}},fS=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Recurrent ID is required");const r=`${Ne}recurrents/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete recurrent item:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting recurrent item: ${s} - ${o}`)}},hS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}prelevements?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Prelevements:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Prelevements: ${s} - ${o}`)}},gS=async(t,e,r)=>{try{const n=`${Ne}prelevements/${e}`,s=await he.put(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(s.data)}catch(n){console.error("Error updating Prelevement:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error updating Prelevement: ${s} - ${o}`)}},bS=async(t,e,r,n,s,o)=>{try{const i=`${Ne}prelevements/${e}`,c=await he.patch(i,{montant:r,periodicite:n,joursPrelevement:s,dernierPrelevement:o},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(c.data)}catch(i){console.error("Error updating Prelevement:",i.response||i);const c=i.response?i.response.status:"Network or CORS error",d=i.response?i.response.data.message:i.message;throw new Error(`Error updating Prelevement: ${c} - ${d}`)}},yo=Me("prelevements/fetchPrelevements",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await hS(n,t)).map(i=>({...i,inactif:!!i.inactif}))}catch(n){return r(n.message)}}),_r=Me("prelevements/updatePrelevement",async({prelevementId:t,updatedData:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await gS(s,t,e)}catch(s){return n(s.message)}}),Va=Me("prelevements/patchPrelevement",async({idPrelevement:t,montant:e,periodicite:r,joursPrelevement:n,dernierPrelevement:s},{getState:o,rejectWithValue:i})=>{try{const c=o().auth.token;return await bS(c,t,e,r,n,s)}catch(c){return i(c.message)}}),ju=Rt({name:"prelevements",initialState:{data:[],status:"idle",error:null},reducers:{updatePrelevementData:(t,e)=>{t.data=e.payload},addPrelevementToStore:(t,e)=>{const{idPrelevement:r,idSCat:n,prelevementCompte:s}=e.payload;t.data.push({idPrelevement:r,idSCat:n,idPeriodicite:null,joursPrelevement:null,dernierPrelevement:null,prelevementCompte:s,inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(yo.pending,e=>{e.status="loading"}).addCase(yo.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(yo.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(_r.pending,e=>{e.loading=!0}).addCase(_r.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idPrelevement===r.payload.prelevement.idPrelevement);n!==-1&&(e.data[n]={...e.data[n],...r.payload.prelevement})}).addCase(_r.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Va.pending,e=>{e.loading=!0}).addCase(Va.fulfilled,(e,r)=>{const n=r.payload.prelevement;if(n&&n.idPrelevement){const s=e.data.findIndex(o=>o.idPrelevement===n.idPrelevement);s!==-1&&(e.data[s]={...e.data[s],...n})}}).addCase(Va.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),Hi=t=>t.prelevements.data,{updatePrelevementData:CS,addPrelevementToStore:yS}=ju.actions,vS=ju.reducer,vo=Me("recurrents/fetchRecurrents",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await pS(n,t)).map(i=>({...i,recurrentMontant:parseFloat(i.recurrentMontant),inactif:!!i.inactif}))}catch(n){return r(n.message)}}),za=Me("recurrents/updateRecurrentMontant",async({idRecurrent:t,montant:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await mS(t,{recurrentMontant:e},s),{idRecurrent:t,montant:e}}catch(s){return n(s.message)}});Me("recurrent/deleteRecurrent",async(t,{getState:e,rejectWithValue:r})=>{const n=e().auth.token;if(!n)return r("No auth token provided.");try{return await fS(t,n),t}catch(s){return r(s.message)}});const Ru=Rt({name:"recurrents",initialState:{data:[],status:"idle",error:null},reducers:{updateRecurrentData:(t,e)=>{t.data=e.payload},updateRecurrentMontantInStore:(t,e)=>{const{idRecurrent:r,montant:n}=e.payload,s=t.data.findIndex(o=>o.idRecurrent===r);s!==-1&&(t.data[s].recurrentMontant=n)},addRecurrentToStore:(t,e)=>{const{idRecurrent:r,idSCat:n}=e.payload;t.data.push({idRecurrent:r,idSCat:n,recurrentMontant:"0.00",inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(vo.pending,e=>{e.status="loading"}).addCase(vo.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(vo.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(za.pending,e=>{e.status="loading"}).addCase(za.fulfilled,(e,r)=>{const{idRecurrent:n,montant:s}=r.payload,o=e.data.findIndex(i=>i.idRecurrent===n);o!==-1&&(e.data[o].recurrentMontant=s)}).addCase(za.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(_r.pending,e=>{e.status="loading"}).addCase(_r.fulfilled,(e,r)=>{const{idSCat:n,recurrentMontant:s}=r.payload.prelevement,o=e.data.find(i=>i.idSCat===n);o&&(o.recurrentMontant=s)}).addCase(_r.rejected,(e,r)=>{e.status="failed",e.error=r.payload})}}),{updateRecurrentData:xS,updateRecurrentMontantInStore:Gi,addRecurrentToStore:SS}=Ru.actions,wS=Ru.reducer,jS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}virements?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Virements:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Virements: ${s} - ${o}`)}},RS=async(t,e,r)=>{try{const n=`${Ne}virements/${e}`,s=await he.put(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(s.data)}catch(n){console.error("Error updating Virement:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error updating Virement: ${s} - ${o}`)}},TS=async(t,e,r,n,s,o)=>{try{const i=`${Ne}virements/${e}`,c=await he.patch(i,{montant:r,periodicite:n,joursVirement:s,dernierVirement:o},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(c.data)}catch(i){console.error("Error updating Virement:",i.response||i);const c=i.response?i.response.status:"Network or CORS error",d=i.response?i.response.data.message:i.message;throw new Error(`Error updating Virement: ${c} - ${d}`)}},xo=Me("virements/fetchVirements",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await jS(n,t)).map(i=>({...i,inactif:!!i.inactif}))}catch(n){return r(n.message)}}),Sn=Me("virements/updateVirement",async({virementId:t,updatedData:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await RS(s,t,e)}catch(s){return n(s.message)}}),Ha=Me("virements/patchVirement",async({idVirement:t,montant:e,periodicite:r,joursVirement:n,dernierVirement:s},{getState:o,rejectWithValue:i})=>{try{const c=o().auth.token;return await TS(c,t,e,r,n,s)}catch(c){return i(c.message)}}),Tu=Rt({name:"virements",initialState:{data:[],status:"idle",error:null},reducers:{updateVirementData:(t,e)=>{t.data=e.payload},addVirementToStore:(t,e)=>{const{idVirement:r,idSCat:n,virementCompte:s}=e.payload;t.data.push({idVirement:r,idSCat:n,idPeriodicite:null,joursVirement:null,dernierVirement:null,virementCompte:s,inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(xo.pending,e=>{e.status="loading"}).addCase(xo.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(xo.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(Sn.pending,e=>{e.loading=!0}).addCase(Sn.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idVirement===r.payload.virement.idVirement);n!==-1&&(e.data[n]={...e.data[n],...r.payload.virement})}).addCase(Sn.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Ha.pending,e=>{e.loading=!0}).addCase(Ha.fulfilled,(e,r)=>{const n=r.payload.virement;if(n&&n.idVirement){const s=e.data.findIndex(o=>o.idVirement===n.idVirement);s!==-1&&(e.data[s]={...e.data[s],...n})}}).addCase(Ha.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),$i=t=>t.virements.data,{updateVirementData:NS,addVirementToStore:PS}=Tu.actions,DS=Tu.reducer,ES=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}mvtinternes?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch MvtInternes:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching MvtInternes: ${s} - ${o}`)}},MS=async(t,e,r)=>{try{const n=`${Ne}mvtinternes/${e}`,s=await he.put(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(s.data)}catch(n){console.error("Error updating MvtInterne:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error updating MvtInterne: ${s} - ${o}`)}},OS=async(t,e,r,n,s,o)=>{try{const i=`${Ne}mvtinternes/${e}`,c=await he.patch(i,{idMvtInterne:e,compteDestination:r,categorieDestination:n,sousCategorieDestination:s,delaiInterbancaire:o},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(c.data)}catch(i){console.error("Error updating MvtInterne:",i.response||i);const c=i.response?i.response.status:"Network or CORS error",d=i.response?i.response.data.message:i.message;throw new Error(`Error updating MvtInterne: ${c} - ${d}`)}},So=Me("mvtInternes/fetchMvtInternes",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await ES(n,t)).map(i=>({...i,inactif:!!i.inactif}))}catch(n){return r(n.message)}}),Rc=Me("mvtInternes/updateMvtInterne",async({mvtInterneId:t,updatedData:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await MS(s,t,e)}catch(s){return n(s.message)}}),Nu=Me("mvtInternes/patchMvtInterne",async({idMvtInterne:t,compteDestination:e,categorieDestination:r,sousCategorieDestination:n,delaiInterbancaire:s},{getState:o,rejectWithValue:i})=>{try{const c=o().auth.token;return await OS(c,t,e,r,n,s)}catch(c){return i(c.message)}}),Pu=Rt({name:"mvtInternes",initialState:{data:[],status:"idle",error:null},reducers:{updateMvtInterneData:(t,e)=>{t.data=e.payload},addMvtInterneToStore:(t,e)=>{const{idMvtInterne:r,idSCat:n,compteOrigine:s}=e.payload;t.data.push({idMvtInterne:r,idSCat:n,compteOrigine:s,compteDestination:null,categorieDestination:null,sousCategorieDestination:null,delaiInterbancaire:0,inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(So.pending,e=>{e.status="loading"}).addCase(So.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(So.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(Rc.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idMvtInterne===r.payload.mvtInterne.idMvtInterne);n!==-1?e.data[n]={...e.data[n],...r.payload.mvtInterne}:console.error("MvtInterne ID not found in the state:",r.payload.mvtInterne.idMvtInterne)}).addCase(Rc.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Nu.fulfilled,(e,r)=>{const n=r.payload;if(n&&n.idMvtInterne){const s=e.data.findIndex(o=>o.idMvtInterne===n.idMvtInterne);s!==-1&&(e.data[s]={...e.data[s],...n})}})}}),kS=t=>t.mvtInternes.data,{updateMvtInterneData:AS,addMvtInterneToStore:Du}=Pu.actions,FS=Pu.reducer,IS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}provisions?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Provisions:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Provisions: ${s} - ${o}`)}},qS=async(t,e,r)=>{try{const n=`${Ne}provisions/${e}`,s=await he.put(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(s.data)}catch(n){console.error("Error updating Provision:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error updating Provision: ${s} - ${o}`)}},_S=async(t,e,r,n,s,o,i,c,d,l)=>{try{const m=`${Ne}provisions/${e}`,h=await he.patch(m,{idProvision:e,montant:r,compteDestination:n,categorieDestination:s,sousCategorieDestination:o,delaiInterbancaire:i,periodicite:c,joursProvision:d,dernierProvision:l},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(h.data)}catch(m){console.error("Error updating Provision:",m.response||m);const h=m.response?m.response.status:"Network or CORS error",y=m.response?m.response.data.message:m.message;throw new Error(`Error updating Provision: ${h} - ${y}`)}},wo=Me("provisions/fetchProvisions",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await IS(n,t)).map(i=>({...i,inactif:!!i.inactif}))}catch(n){return r(n.message)}}),ra=Me("provisions/updateProvision",async({provisionId:t,updatedData:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token;return await qS(s,t,e)}catch(s){return n(s.message)}}),Eu=Me("provisions/patchProvision",async({idProvision:t,montant:e,compteDestination:r,categorieDestination:n,sousCategorieDestination:s,delaiInterbancaire:o,periodicite:i,joursProvision:c,dernierProvision:d},{getState:l,rejectWithValue:m})=>{try{const h=l().auth.token;return await _S(h,t,e,r,n,s,o,i,c,d)}catch(h){return m(h.message)}}),Mu=Rt({name:"provisions",initialState:{data:[],status:"idle",error:null},reducers:{updateProvisionData:(t,e)=>{t.data=e.payload},addProvisionToStore:(t,e)=>{const{idProvision:r,idSCat:n,compteOrigine:s}=e.payload;t.data.push({idProvision:r,idSCat:n,compteOrigine:s,compteDestination:null,categorieDestination:null,sousCategorieDestination:null,delaiInterbancaire:0,idPeriodicite:null,joursProvision:null,dernierProvision:null,inactif:0,dateInactif:null})}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.status="loading"}).addCase(wo.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(wo.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(ra.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idProvision===r.payload.provision.idProvision);n!==-1?e.data[n]={...e.data[n],...r.payload.provision}:console.error("Provision ID not found in the state:",r.payload.provision.idProvision)}).addCase(ra.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Eu.fulfilled,(e,r)=>{const n=r.payload.provision;if(n&&n.idProvision){const s=e.data.findIndex(o=>o.idProvision===n.idProvision);s!==-1&&(e.data[s]={...e.data[s],...n})}})}}),LS=t=>t.provisions.data,{updateProvisionData:BS,addProvisionToStore:US}=Mu.actions,VS=Mu.reducer,zS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}ecritures/tableau-ecritures?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch ecritures:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching ecritures: ${s} - ${o}`)}},HS=async(t,e)=>{try{const r=`${Ne}ecritures`,n=await he.post(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(r){throw console.error("Error submitting data:",r),r}},GS=async(t,e,r)=>{try{const n=`${Ne}ecritures/${e}/togglePointer`,s={idEcriture:e,pointer:r},o=await he.patch(n,s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return Pe(o.data)}catch(n){throw console.error("Error pointing data:",n),n}},$S=async(t,e)=>{try{const r=`${Ne}ecritures/${e.idSaisieDepense}`,n=await he.patch(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(r){throw console.error("Erreur lors de la mise à jour de l'écriture:",r),r}},WS=async(t,e)=>{try{const r=`${Ne}ecritures/${encodeURIComponent(e)}`,n=await he.delete(r,{headers:{Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(r){throw console.error("Error deleting data:",r),r}},jo=Me("ecritures/fetchEcritures",async({prenomUtilisateur:t},{getState:e})=>{const r=e().auth.token;return(await zS(r,t)).map(o=>({...o,montantCredit:parseFloat(o.montantCredit),montantDebit:parseFloat(o.montantDebit),montantTR:parseFloat(o.montantTR),aPartager:!!o.aPartager,partTitulaire1:parseFloat(o.partTitulaire1),partTitulaire2:parseFloat(o.partTitulaire2),partageFait:!!o.partageFait,pointer:!!o.pointer,validationFait:!!o.validationFait}))}),Wn=Me("ecritures/pointerEcriture",async({idEcriture:t,pointer:e},{getState:r,rejectWithValue:n})=>{try{const s=r().auth.token,i=(await GS(s,t,e)).newPointer===1;return{idEcriture:t,newPointer:i}}catch(s){return n(s.message)}}),Ou=Me("ecritures/updateEcriture",async({updatedEcritureData:t},{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await $S(n,t)}catch(n){return r(n.message)}}),ku=Me("ecritures/updateEcrituresAfterPartage",async t=>t),Ga=Me("ecritures/deleteEcriture",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await WS(n,t),t}catch(n){return r(n.message)}}),ln=Me("ecritures/submitFormData",async(t,{getState:e,rejectWithValue:r,dispatch:n})=>{try{const s=e().auth.token,o=await HS(s,t);return o.nCheque!==null&&n(Vx({idCompte:t.idCompte,nCheque:o.nCheque})),[{...o,montantCredit:parseFloat(o.montantCredit),montantDebit:parseFloat(o.montantDebit),montantTR:parseFloat(o.montantTR),aPartager:!!o.aPartager,partTitulaire1:parseFloat(o.partTitulaire1),partTitulaire2:parseFloat(o.partTitulaire2),partageFait:!!o.partageFait,pointer:!!o.pointer,validationFait:!!o.validationFait}]}catch(s){return r(s.message)}}),Au=Rt({name:"ecritures",initialState:{data:[],loading:!1,error:null,lastCreatedId:null},reducers:{addMultipleEcritures:(t,e)=>{const r=e.payload.map(n=>({...n,montantCredit:parseFloat(n.montantCredit),montantDebit:parseFloat(n.montantDebit),montantTR:parseFloat(n.montantTR),aPartager:!!n.aPartager,partTitulaire1:parseFloat(n.partTitulaire1),partTitulaire2:parseFloat(n.partTitulaire2),partageFait:!!n.partageFait,pointer:!!n.pointer,validationFait:!!n.validationFait}));t.data.push(...r)},updateEcrituresData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(jo.pending,e=>{e.loading=!0}).addCase(jo.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1}).addCase(jo.rejected,(e,r)=>{e.error=r.error.message,e.loading=!1}).addCase(ln.pending,e=>{e.loading=!0}).addCase(ln.fulfilled,(e,r)=>{e.loading=!1;const n=e.data.findIndex(s=>s.idSaisieDepense===r.payload[0].idSaisieDepense);n!==-1?e.data[n]={...e.data[n],...r.payload[0]}:e.data.push(r.payload[0]),e.lastCreatedId=r.payload[0].idSaisieDepense}).addCase(ln.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Ga.pending,e=>{e.loading=!0}).addCase(Ga.fulfilled,(e,r)=>{e.loading=!1,e.data=e.data.filter(n=>n.idSaisieDepense!==Number(r.payload))}).addCase(Ga.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Wn.pending,e=>{e.loading=!0}).addCase(Wn.fulfilled,(e,r)=>{e.loading=!1;const{idEcriture:n,newPointer:s}=r.payload;e.data=e.data.map(o=>o.idSaisieDepense===Number(n)?{...o,pointer:s}:o)}).addCase(Wn.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(Ou.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idSaisieDepense===r.payload.ecriture.idSaisieDepense);n!==-1&&(e.data[n]={...e.data[n],dateSaisie:r.payload.ecriture.dateSaisie,dateReelle:r.payload.ecriture.dateReelle,montantCredit:r.payload.ecriture.montantCredit,montantDebit:r.payload.ecriture.montantDebit,aPartager:r.payload.ecriture.aPartager,partTitulaire1:r.payload.ecriture.partTitulaire1,partTitulaire2:r.payload.ecriture.partTitulaire2})}).addCase(ku.fulfilled,(e,r)=>{r.payload.forEach(n=>{const s=e.data.findIndex(o=>o.idSaisieDepense===n.idSaisieDepense);s!==-1&&(e.data[s]={...e.data[s],...n})})})}}),KS=Au.reducer,{addMultipleEcritures:XS,updateEcrituresData:YS}=Au.actions,JS=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}validation-partage?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Partage:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Partage: ${s} - ${o}`)}},QS=async(t,e)=>{try{const r=`${Ne}validation-partage`,n=await he.post(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(r){console.error("Could not update Partage:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error updating Partage: ${n} - ${s}`)}},ZS=async(t,e)=>{try{const r=`${Ne}validation-partage`,n=await he.post(r,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(r){console.error("Could not update Partage:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error updating Partage: ${n} - ${s}`)}},Ro=Me("validationPartages/fetchValidationPartages",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await JS(n,t)).map(i=>({...i,partTitulaire2:parseFloat(i.partTitulaire2),partTitulaire1:parseFloat(i.partTitulaire1),soldeTitulaire2:parseFloat(i.soldeTitulaire2),soldeTitulaire1:parseFloat(i.soldeTitulaire1),statutPartage:!!i.statutPartage,statutSaisie:!!i.statutSaisie}))}catch(n){return r(n.message)}}),$a=Me("validationPartages/createValidationPartages",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await QS(n,t)}catch(n){return r(n.message)}}),To=Me("validationPartages/updateValidationPartages",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await ZS(n,t)}catch(n){return r(n.message)}}),Fu=Rt({name:"validationPartages",initialState:{data:[],status:"idle",error:null},reducers:{updateValidationPartageData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Ro.pending,e=>{e.status="loading"}).addCase(Ro.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(Ro.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase($a.pending,e=>{e.loadingComptes=!0}).addCase($a.fulfilled,(e,r)=>{e.data.push(r.payload.partage),e.loadingComptes=!1}).addCase($a.rejected,(e,r)=>{e.error=r.payload,e.loadingComptes=!1}).addCase(To.pending,e=>{e.status="updating"}).addCase(To.fulfilled,(e,r)=>{e.status="succeeded",e.error=null;const n=e.data.findIndex(s=>s.idPartage===r.payload.partage.idPartage);n!==-1?e.data[n]={...e.data[n],...r.payload.partage}:e.data.push(r.payload.partage)}).addCase(To.rejected,(e,r)=>{e.status="failed",e.error=r.payload})}}),{updateValidationPartageData:ew}=Fu.actions,tw=Fu.reducer,rw=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}validation-periode?prenomUtilisateur=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch Periode:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error fetching Periode: ${s} - ${o}`)}},No=Me("validationPeriodes/fetchValidationPeriodes",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await rw(n,t)).map(i=>({...i,statutValiderTitulaire1:!!i.statutValiderTitulaire1,statutValiderTitulaire2:!!i.statutValiderTitulaire2,statutValiderCompteJoint:!!i.statutValiderCompteJoint}))}catch(n){return r(n.message)}}),Iu=Rt({name:"validationPeriodes",initialState:{data:[],status:"idle",error:null},reducers:{updateValidationPeriodeData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(No.pending,e=>{e.status="loading"}).addCase(No.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload.map(n=>({...n}))}).addCase(No.rejected,(e,r)=>{e.status="failed",e.error=r.payload})}}),{updateValidationPeriodeData:nw}=Iu.actions,aw=Iu.reducer,sw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}version`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe({...r.data,dateOutil:di(r.data.Date_Outil)})}catch(r){console.error("Error fetching version data:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching version data: ${n} - ${s}`)}},Po=Me("version/fetchVersion",async(t,{getState:e,rejectWithValue:r})=>{const n=e().auth.token;if(!n)return r("No auth token provided.");try{return await sw(n)}catch(s){return r(s.message)}}),qu=Rt({name:"version",initialState:{data:[],loading:!1,error:null,dataLoaded:!1},reducers:{setSelectedVersion:(t,e)=>{t.selectedVersion=e.payload},updateVersionData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Po.pending,e=>{e.loading=!0}).addCase(Po.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1,e.dataLoaded=!0}).addCase(Po.rejected,(e,r)=>{e.error=r.error.message,e.loading=!1})}}),{setSelectedVersion:Q1,updateVersionData:ow}=qu.actions,iw=qu.reducer,lw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/statut`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch statut:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching statut: ${n} - ${s}`)}},Do=Me("statut/fetchStatut",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await lw(n)}catch(n){return r(n.message)}}),_u=Rt({name:"statut",initialState:{data:[],loading:!1,error:null},reducers:{updateStatutData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Do.pending,e=>{e.loading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(Do.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{updateStatutData:cw}=_u.actions,dw=_u.reducer,uw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/modereglement`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch Mode Reglement:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching Mode Reglement: ${n} - ${s}`)}},pw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Mode de règlement data is required");const r=`${Ne}modereglement`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create mode de règlement:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating mode de règlement: ${s} - ${o}`)}},mw=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!t)throw new Error("Mode de règlement data is required");if(!e)throw new Error("Mode de règlement ID is required");const n=`${Ne}modereglement/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update mode de règlement:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating mode de règlement: ${o} - ${i}`)}},fw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Mode de règlement ID is required");const r=`${Ne}modereglement/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete mode de règlement:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting mode de règlement: ${s} - ${o}`)}},Eo=Me("modeReglement/fetchModeReglement",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await uw(n)).map(i=>Pe(i))}catch(n){return r(n.message)}}),Wa=Me("modeReglement/createNewModeReglement",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token,s=await pw(t,n);return Pe(s)}catch(n){return r(n.message)}}),Ka=Me("modeReglement/updateModeReglement",async({idModeReglement:t,modeReglementData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await mw(e,t,s);return{...o,idModeReglement:parseInt(o.idModeReglement)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),Xa=Me("modeReglement/deleteModeReglement",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await fw(t,n),t}catch(n){return r(n.message)}}),Lu=Rt({name:"modeReglement",initialState:{data:[],status:"idle",error:null},reducers:{updateModeReglementData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Eo.pending,e=>{e.status="loading"}).addCase(Eo.fulfilled,(e,r)=>{e.data=r.payload,e.status="succeeded"}).addCase(Eo.rejected,(e,r)=>{e.error=r.payload,e.status="failed"}).addCase(Wa.pending,e=>{e.status="loading"}).addCase(Wa.fulfilled,(e,r)=>{r.payload.modeReglements.forEach(n=>{e.data.push({idModeReglement:n.idModeReglement,codeModeReglement:n.codeModeReglement,libelleModeReglement:n.libelleModeReglement,idTypeCompte:n.idTypeCompte})})}).addCase(Wa.rejected,(e,r)=>{e.error=r.payload,e.status="failed"}).addCase(Ka.pending,e=>{e.status="loading"}).addCase(Ka.fulfilled,(e,r)=>{const n=e.data.reduce((s,o,i)=>(o.idModeReglement===r.payload[0].idModeReglement&&s.push(i),s),[]);for(let s=n.length-1;s>=0;s--)e.data.splice(n[s],1);r.payload.forEach(s=>{e.data.push({idModeReglement:s.idModeReglement,codeModeReglement:s.codeModeReglement,libelleModeReglement:s.libelleModeReglement,locked:s.locked,idTypeCompte:s.idTypeCompte})}),e.status="succeeded"}).addCase(Ka.rejected,(e,r)=>{e.error=r.payload,e.status="failed"}).addCase(Xa.pending,e=>{e.status="loading"}).addCase(Xa.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idModeReglement!==r.payload),e.status="succeeded"}).addCase(Xa.rejected,(e,r)=>{e.error=r.payload,e.status="failed"})}}),{updateModeReglementData:hw}=Lu.actions,gw=Lu.reducer,bw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/type-debit`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch type débit:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching type débit: ${n} - ${s}`)}},Cw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("TypeDebit data is required");const r=`${Ne}type-debit`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create type débit:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating type débit: ${s} - ${o}`)}},yw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("TypeDebit ID is required");const r=`${Ne}type-debit/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete type débit:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting type débit: ${s} - ${o}`)}},Mo=Me("typeDebit/fetchTypeDebit",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await bw(n)}catch(n){return r(n.message)}}),Ya=Me("typeDebit/createNewTypeDebit",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Cw(t,n)}catch(n){return r(n.message)}}),Ja=Me("typeDebit/deleteTypeDebit",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await yw(t,n),t}catch(n){return r(n.message)}}),Bu=Rt({name:"typeDebit",initialState:{data:[],loading:!1,error:null},reducers:{updateTypeDebitData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Mo.pending,e=>{e.loading=!0,e.error=null}).addCase(Mo.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(Mo.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Ya.pending,e=>{e.loading=!0}).addCase(Ya.fulfilled,(e,r)=>{e.data.push(r.payload),e.loading=!1}).addCase(Ya.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(Ja.pending,e=>{e.loading=!0}).addCase(Ja.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idTypeDebit!==r.payload),e.loading=!1}).addCase(Ja.rejected,(e,r)=>{e.error=r.payload,e.loading=!1})}}),{updateTypeDebitData:vw}=Bu.actions,xw=Bu.reducer,Sw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/types-saisies`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch type saisies:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching type saisies: ${n} - ${s}`)}},ww=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("TypeSaisie data is required");const r=`${Ne}types-saisies`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create type saisie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating type saisie: ${s} - ${o}`)}},jw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("TypeSaisie ID is required");const r=`${Ne}types-saisies/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete type saisie:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting type saisie: ${s} - ${o}`)}},Qa=Me("typeSaisies/fetchTypeSaisies",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token,s=await Sw(n);return Pe(s)}catch(n){return r(n.message)}}),Za=Me("typeSaisies/createNewTypeSaisie",async(t,{getState:e,rejectWithValue:r})=>{const n=e().auth.token;if(!n)return r("No auth token provided.");try{return await ww(t,n)}catch(s){return r(s.message)}}),es=Me("typeSaisies/deleteTypeSaisie",async(t,{getState:e,rejectWithValue:r})=>{const n=e().auth.token;if(!n)return r("No auth token provided.");try{return await jw(t,n),t}catch(s){return r(s.message)}}),Rw=pr("typeSaisies/reset"),Uu=Rt({name:"typeSaisies",initialState:{data:[],loading:!1,error:null},reducers:{updateTypeSaisiesData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Qa.pending,e=>{e.loading=!0,e.error=null}).addCase(Qa.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(Qa.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(Za.pending,e=>{e.loading=!0}).addCase(Za.fulfilled,(e,r)=>{e.data.push(r.payload),e.loading=!1}).addCase(Za.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(es.pending,e=>{e.loading=!0}).addCase(es.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idTypeSaisie!==r.payload),e.loading=!1}).addCase(es.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(Rw,e=>{e.data=[],e.loading=!1,e.error=null,e.dataLoaded=!1})}}),{updateTypeSaisiesData:Tw}=Uu.actions,Nw=Uu.reducer,Pw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/groupes`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch groupes:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching groupes: ${n} - ${s}`)}},Dw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Groupe data is required");const r=`${Ne}groupes`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create groupe:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating groupe: ${s} - ${o}`)}},Ew=async(t,e,r)=>{if(!r)throw new Error("Authentication token is required");if(!t)throw new Error("Group data is required");if(!e)throw new Error("Group ID is required");const n=`${Ne}groupes/${e}`;try{const s=await he.patch(n,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update groupe :",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating groupe: ${o} - ${i}`)}},Mw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Groupe ID is required");const r=`${Ne}groupes/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete groupe:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting groupe: ${s} - ${o}`)}},ts=Me("groupe/fetchGroupes",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token,s=await Pw(n);return Pe(s)}catch(n){return r(n.message)}}),rs=Me("groupes/createNewGroupe",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token,s=await Dw(t,n);return Pe(s)}catch(n){return r(n.message)}}),ns=Me("groupe/updateGroupe",async({idGroupe:t,groupeData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await Ew(e,t,s);return{...o,idGroupe:parseInt(o.idGroupe)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),as=Me("groupes/deleteGroupe",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Mw(t,n),t}catch(n){return r(n.message)}}),Vu=Rt({name:"groupes",initialState:{data:[],loading:!1,error:null},reducers:{updateGroupesData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(ts.pending,e=>{e.loading=!0,e.error=null}).addCase(ts.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(ts.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(rs.pending,e=>{e.loading=!0}).addCase(rs.fulfilled,(e,r)=>{e.data.push(r.payload),e.loading=!1}).addCase(rs.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(ns.pending,e=>{e.loading=!0}).addCase(ns.fulfilled,(e,r)=>{const n=e.data.findIndex(s=>s.idGroupe===r.payload.idGroupe);n!==-1?e.data[n]=r.payload:e.data.push(r.payload),e.loading=!1}).addCase(ns.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(as.pending,e=>{e.loading=!0}).addCase(as.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idGroupe!==r.payload),e.loading=!1}).addCase(as.rejected,(e,r)=>{e.error=r.payload,e.loading=!1})}}),{updateGroupesData:Ow}=Vu.actions,kw=Vu.reducer,Aw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/periodicites`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch periodicites:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching periodicites: ${n} - ${s}`)}},Fw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Periodicite data is required");const r=`${Ne}periodicites`;try{const n=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not create periodicite:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error creating periodicite: ${s} - ${o}`)}},Iw=async(t,e,r)=>{if(!t)throw new Error("Authentication token is required");if(!e)throw new Error("Periodicite ID is required");if(!r)throw new Error("Periodicite data is required");const n=`${Ne}periodicites/${e}`;try{const s=await he.patch(n,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json",Accept:"application/json"}});return Pe(s.data)}catch(s){console.error("Could not update periodicite:",s.response||s);const o=s.response?s.response.status:"Network or CORS error",i=s.response?s.response.data.message:s.message;throw new Error(`Error updating periodicite: ${o} - ${i}`)}},qw=async(t,e)=>{if(!e)throw new Error("Authentication token is required");if(!t)throw new Error("Periodicite ID is required");const r=`${Ne}periodicites/${t}`;try{return(await he.delete(r,{headers:{Authorization:`Bearer ${e}`}})).data}catch(n){console.error("Could not delete periodicite:",n.response||n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:n.message;throw new Error(`Error deleting periodicite: ${s} - ${o}`)}},Oo=Me("periodicites/fetchPeriodicites",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return(await Aw(n)).map(i=>Pe(i))}catch(n){return r(n.message)}}),ss=Me("periodicites/createNewPeriodicite",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token,s=await Fw(t,n);return Pe(s)}catch(n){return r(n.message)}}),os=Me("periodicites/updatePeriodiciteAction",async({idPeriodicite:t,periodiciteData:e},{getState:r,rejectWithValue:n})=>{const s=r().auth.token;if(!s)return n("No auth token provided.");try{const o=await Iw(s,t,e);return{...o,idPeriodicite:parseInt(o.idPeriodicite)}}catch(o){return console.error("Update failed:",o),n(o.message)}}),is=Me("periodicites/deletePeriodicite",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await qw(t,n),t}catch(n){return r(n.message)}}),_w={data:[],status:"idle",error:null},zu=Rt({name:"periodicites",initialState:_w,reducers:{updatePeriodicitesData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Oo.pending,e=>{e.status="loading"}).addCase(Oo.fulfilled,(e,r)=>{e.status="succeeded",e.data=r.payload}).addCase(Oo.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(ss.pending,e=>{e.status="loading"}).addCase(ss.fulfilled,(e,r)=>{e.data.push(r.payload),e.status="succeeded"}).addCase(ss.rejected,(e,r)=>{e.status="failed",e.error=r.payload}).addCase(os.pending,e=>{e.loading=!0}).addCase(os.fulfilled,(e,r)=>{const n=r.payload;if(n&&n.idPeriodicite){const s=e.data.findIndex(o=>o.idPeriodicite===n.idPeriodicite);s!==-1&&(e.data[s]={...e.data[s],...n})}}).addCase(os.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(is.pending,e=>{e.status="loading"}).addCase(is.fulfilled,(e,r)=>{e.data=e.data.filter(n=>n.idPeriodicite!==r.payload),e.status="succeeded"}).addCase(is.rejected,(e,r)=>{e.status="failed",e.error=r.payload})}}),{updatePeriodicitesData:Lw}=zu.actions,Bw=zu.reducer,Uw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/type-compte`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch type compte:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching type compte: ${n} - ${s}`)}},ko=Me("typeCompte/fetchTypeCompte",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Uw(n)}catch(n){return r(n.message)}}),Hu=Rt({name:"typeCompte",initialState:{data:[],loading:!1,error:null},reducers:{updateTypeCompteData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(ko.pending,e=>{e.loading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(ko.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{updateTypeCompteData:Vw}=Hu.actions,zw=Hu.reducer,Hw=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}listes/type-epargne`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch type epargne:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching type epargne: ${n} - ${s}`)}},Ao=Me("typeEpargne/fetchTypeEpargne",async(t,{getState:e,rejectWithValue:r})=>{try{const n=e().auth.token;return await Hw(n)}catch(n){return r(n.message)}}),Gu=Rt({name:"typeEpargne",initialState:{data:[],loading:!1,error:null},reducers:{updateTypeEpargneData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.loading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.loading=!1,e.data=r.payload}).addCase(Ao.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{updateTypeEpargneData:Gw}=Gu.actions,$w=Gu.reducer,Ww=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}dashboardGlobal`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch global dashboard data:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching global dashboard data: ${n} - ${s}`)}},Kw=async(t,e,r,n)=>{if(!t)throw new Error("Authentication token is required");const s=`${Ne}dashboardUserSpecific?prenomUtilisateur=${encodeURIComponent(e)}&idExercice=${r}&partageAvec=${encodeURIComponent(n)}`;try{const o=await he.get(s,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(o.data)}catch(o){console.error("Could not fetch dashboard:",o.response||o);const i=o.response?o.response.status:"Network or CORS error",c=o.response?o.response.data.message:o.message;throw new Error(`Error fetching dashboard: ${i} - ${c}`)}},Xw=Me("dashboard/fetchGlobalDashboardData",async(t,{getState:e,rejectWithValue:r})=>{const n=e().auth.token;try{return await Ww(n)}catch(s){return console.error("Erreur lors de la récupération des données globales du dashboard:",s),r("Erreur lors de la récupération des données globales du tableau de bord")}}),Yw=Me("dashboard/fetchUserSpecificDashboardData",async({prenomUtilisateur:t,idExercice:e,partageAvec:r},{getState:n,rejectWithValue:s})=>{const o=n().auth.token;try{return await Kw(o,t,e,r)}catch(i){return console.error("Erreur lors de la récupération des données spécifiques de l'utilisateur:",i),s("Erreur lors de la récupération des données spécifiques de l'utilisateur")}}),Jw=(t={},e)=>{switch(e.type){case"FETCH_VERSION_SUCCESS":return e.payload;default:return t}},Qw=(t={},e)=>{switch(e.type){case"FETCH_STATUT_SUCCESS":return e.payload;default:return t}};ki({version:Jw,statut:Qw});const Zw=async(t,e)=>{if(!t)throw new Error("Authentication token is required");const r=`${Ne}ecritures-partagees?partageAvec=${encodeURIComponent(e)}`;try{const n=await he.get(r,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(n.data)}catch(n){console.error("Could not fetch ecritures partagees:",n);const s=n.response?n.response.status:"Network or CORS error",o=n.response?n.response.data.message:"Unknown error occurred";throw new Error(`Error fetching ecritures partagees: ${s} - ${o}`)}},ls=Me("ecrituresPartagees/fetchEcrituresPartagees",async({partageAvec:t},{getState:e,rejectWithValue:r})=>{try{console.log("partageAvec",t);const n=e().auth.token;return await Zw(n,t)}catch(n){return r(n.message)}}),$u=Rt({name:"ecrituresPartagees",initialState:{data:[],loading:!1,error:null},reducers:{updateEcrituresPartageesData:(t,e)=>{t.data=e.payload}},extraReducers:t=>{t.addCase(ls.pending,e=>{e.loading=!0}).addCase(ls.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1}).addCase(ls.rejected,(e,r)=>{e.error=r.payload,e.loading=!1})}}),{updateEcrituresPartageesData:e0}=$u.actions,t0=$u.reducer,r0=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}user-settings`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch user settings:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching user settings: ${n} - ${s}`)}},n0=async(t,e)=>{var n,s;const r=`${Ne}user-settings`;try{const o=await he.post(r,t,{headers:{Authorization:`Bearer ${e}`}});return Pe(o.data)}catch(o){throw new Error(((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||o.message)}},cs=Me("userSettings/fetchSettings",async(t,{getState:e,rejectWithValue:r})=>{var n;try{const{auth:s}=e(),o=s.token,i=await r0(o);return{...i,avecPartage:!!Number(i.avecPartage)}}catch(s){return r(((n=s.response)==null?void 0:n.data)||s.message)}}),ds=Me("userSettings/saveSettings",async(t,{getState:e,rejectWithValue:r})=>{try{const{auth:n}=e(),s=n.token;return await n0(t,s)}catch(n){return r(n.message)}}),a0={data:{},loading:!1,error:null},Wu=Rt({name:"userSettings",initialState:a0,reducers:{updateUserSettingsData:(t,e)=>{t.data=e.payload,t.loading=!1}},extraReducers:t=>{t.addCase(cs.pending,e=>{e.loading=!0,e.error=null}).addCase(cs.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1}).addCase(cs.rejected,(e,r)=>{e.error=r.payload,e.loading=!1}).addCase(ds.pending,e=>{e.loading=!0,e.error=null}).addCase(ds.fulfilled,(e,r)=>{e.data=r.payload,e.loading=!1}).addCase(ds.rejected,(e,r)=>{e.error=r.payload,e.loading=!1})}});Wu.actions;const s0=Wu.reducer,o0=async t=>{const e=`${Ne}users`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(r.data)}catch(r){throw console.error("Erreur lors de la récupération de la liste des utilisateurs: ",r.response||r),r}},us=Me("users/fetchUsers",async(t,{rejectWithValue:e})=>{var r;try{return await o0(t)}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),Ku=Rt({name:"users",initialState:{list:[],loading:!1,error:null},reducers:{updateUsersList:(t,e)=>{t.list=e.payload,t.loading=!1}},extraReducers:t=>{t.addCase(us.pending,e=>{e.loading=!0,e.error=null}).addCase(us.fulfilled,(e,r)=>{e.loading=!1,e.list=r.payload}).addCase(us.rejected,(e,r)=>{e.loading=!1,e.error=r.payload})}}),{updateUsersList:i0}=Ku.actions,l0=Ku.reducer;function c0(t,e,r){const n=e.filter(i=>i.idTypeCompte===3),s=r.filter(i=>i.idStatut!==2),o=n.flatMap(i=>s.map(c=>t(zn({compte:i.idCompte,exercice:c.idExercice}))));try{return Promise.all(o)}catch(i){console.error("Erreur lors de la récupération des dates différées :",i)}}const d0=async(t,e)=>{try{const r=await t(Xw()).unwrap();r&&await Promise.all([t(ow(r.version)),t(cw(r.statuts)),t(hw(r.modeReglements)),t(vw(r.typeDebits)),t(Tw(r.typeSaisies)),t(Ow(r.groupes)),t(Lw(r.periodicites)),t(Vw(r.typeComptes)),t(Gw(r.typeEpargnes))]);const n=await t(on()),s=await t(Hn(e));await c0(t,s.payload,n.payload);let o=null,i=!1;(n.payload.length===0||s.payload.length===1)&&(i=!0,o=n.payload.length===0?"/SetupExercices":"/SetupComptes");const c=n.payload.find(h=>h.exerciceParDefaut);c&&t(gu(c.idExercice));const d=c?c.idExercice:null,m=(await t(cs())).payload.identifiant;if(e&&d){const h=await t(Yw({prenomUtilisateur:e,idExercice:d,partageAvec:m})).unwrap();await Promise.all([t(i0(h.userList)),t(Yx(h.categories)),t(nS(h.sousCategories)),t(dS(h.details)),t(NS(h.virements)),t(CS(h.prelevements)),t(xS(h.recurrents)),t(BS(h.provisions)),t(AS(h.mvtInternes)),t(YS(h.tableauEcritures)),t(e0(h.ecrituresPartagees)),t(ew(h.validationPartages)),t(nw(h.validationPeriodes))])}return{setupRequired:null,isFirstLogin:i,redirectPath:o}}catch(r){return console.error("Erreur lors de la récupération des données du tableau de bord:",r),{isFirstLogin:!1,redirectPath:null}}};var Xu={exports:{}};(()=>{var t={296:(s,o,i)=>{var c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt,y=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,x=typeof self=="object"&&self&&self.Object===Object&&self,b=y||x||Function("return this")(),R=Object.prototype.toString,g=Math.max,P=Math.min,S=function(){return b.Date.now()};function v(N){var _=typeof N;return!!N&&(_=="object"||_=="function")}function I(N){if(typeof N=="number")return N;if(function(j){return typeof j=="symbol"||function(k){return!!k&&typeof k=="object"}(j)&&R.call(j)=="[object Symbol]"}(N))return NaN;if(v(N)){var _=typeof N.valueOf=="function"?N.valueOf():N;N=v(_)?_+"":_}if(typeof N!="string")return N===0?N:+N;N=N.replace(c,"");var O=l.test(N);return O||m.test(N)?h(N.slice(2),O?2:8):d.test(N)?NaN:+N}s.exports=function(N,_,O){var j,k,q,$,L,z,M=0,V=!1,E=!1,T=!0;if(typeof N!="function")throw new TypeError("Expected a function");function G(te){var ge=j,ue=k;return j=k=void 0,M=te,$=N.apply(ue,ge)}function Z(te){var ge=te-z;return z===void 0||ge>=_||ge<0||E&&te-M>=q}function Y(){var te=S();if(Z(te))return ne(te);L=setTimeout(Y,function(ge){var ue=_-(ge-z);return E?P(ue,q-(ge-M)):ue}(te))}function ne(te){return L=void 0,T&&j?G(te):(j=k=void 0,$)}function K(){var te=S(),ge=Z(te);if(j=arguments,k=this,z=te,ge){if(L===void 0)return function(ue){return M=ue,L=setTimeout(Y,_),V?G(ue):$}(z);if(E)return L=setTimeout(Y,_),G(z)}return L===void 0&&(L=setTimeout(Y,_)),$}return _=I(_)||0,v(O)&&(V=!!O.leading,q=(E="maxWait"in O)?g(I(O.maxWait)||0,_):q,T="trailing"in O?!!O.trailing:T),K.cancel=function(){L!==void 0&&clearTimeout(L),M=0,j=z=k=L=void 0},K.flush=function(){return L===void 0?$:ne(S())},K}},96:(s,o,i)=>{var c="Expected a function",d=NaN,l="[object Symbol]",m=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,x=/^0o[0-7]+$/i,b=parseInt,R=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g,g=typeof self=="object"&&self&&self.Object===Object&&self,P=R||g||Function("return this")(),S=Object.prototype.toString,v=Math.max,I=Math.min,N=function(){return P.Date.now()};function _(j){var k=typeof j;return!!j&&(k=="object"||k=="function")}function O(j){if(typeof j=="number")return j;if(function($){return typeof $=="symbol"||function(L){return!!L&&typeof L=="object"}($)&&S.call($)==l}(j))return d;if(_(j)){var k=typeof j.valueOf=="function"?j.valueOf():j;j=_(k)?k+"":k}if(typeof j!="string")return j===0?j:+j;j=j.replace(m,"");var q=y.test(j);return q||x.test(j)?b(j.slice(2),q?2:8):h.test(j)?d:+j}s.exports=function(j,k,q){var $=!0,L=!0;if(typeof j!="function")throw new TypeError(c);return _(q)&&($="leading"in q?!!q.leading:$,L="trailing"in q?!!q.trailing:L),function(z,M,V){var E,T,G,Z,Y,ne,K=0,te=!1,ge=!1,ue=!0;if(typeof z!="function")throw new TypeError(c);function Q(ce){var we=E,fe=T;return E=T=void 0,K=ce,Z=z.apply(fe,we)}function Ae(ce){var we=ce-ne;return ne===void 0||we>=M||we<0||ge&&ce-K>=G}function Ue(){var ce=N();if(Ae(ce))return Ve(ce);Y=setTimeout(Ue,function(we){var fe=M-(we-ne);return ge?I(fe,G-(we-K)):fe}(ce))}function Ve(ce){return Y=void 0,ue&&E?Q(ce):(E=T=void 0,Z)}function nt(){var ce=N(),we=Ae(ce);if(E=arguments,T=this,ne=ce,we){if(Y===void 0)return function(fe){return K=fe,Y=setTimeout(Ue,M),te?Q(fe):Z}(ne);if(ge)return Y=setTimeout(Ue,M),Q(ne)}return Y===void 0&&(Y=setTimeout(Ue,M)),Z}return M=O(M)||0,_(V)&&(te=!!V.leading,G=(ge="maxWait"in V)?v(O(V.maxWait)||0,M):G,ue="trailing"in V?!!V.trailing:ue),nt.cancel=function(){Y!==void 0&&clearTimeout(Y),K=0,E=ne=T=Y=void 0},nt.flush=function(){return Y===void 0?Z:Ve(N())},nt}(j,k,{leading:$,maxWait:k,trailing:L})}},703:(s,o,i)=>{var c=i(414);function d(){}function l(){}l.resetWarningCache=d,s.exports=function(){function m(x,b,R,g,P,S){if(S!==c){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}function h(){return m}m.isRequired=m;var y={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:h,element:m,elementType:m,instanceOf:h,node:m,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:l,resetWarningCache:d};return y.PropTypes=y,y}},697:(s,o,i)=>{s.exports=i(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function r(s){var o=e[s];if(o!==void 0)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,r),i.exports}r.n=s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return r.d(o,{a:o}),o},r.d=(s,o)=>{for(var i in o)r.o(o,i)&&!r.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:o[i]})},r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(s,o)=>Object.prototype.hasOwnProperty.call(s,o),r.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{LazyLoadComponent:()=>H,LazyLoadImage:()=>er,trackWindowScroll:()=>ne});const s=p;var o=r.n(s),i=r(697);const c=yi;var d=r.n(c);function l(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(de){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},m(de)}function h(de,W){var pe=Object.keys(de);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(de);W&&(ie=ie.filter(function(Le){return Object.getOwnPropertyDescriptor(de,Le).enumerable})),pe.push.apply(pe,ie)}return pe}function y(de,W,pe){return(W=b(W))in de?Object.defineProperty(de,W,{value:pe,enumerable:!0,configurable:!0,writable:!0}):de[W]=pe,de}function x(de,W){for(var pe=0;pe<W.length;pe++){var ie=W[pe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(de,b(ie.key),ie)}}function b(de){var W=function(pe,ie){if(m(pe)!=="object"||pe===null)return pe;var Le=pe[Symbol.toPrimitive];if(Le!==void 0){var Ze=Le.call(pe,"string");if(m(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(de);return m(W)==="symbol"?W:String(W)}function R(de,W){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ie){return pe.__proto__=ie,pe},R(de,W)}function g(de){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},g(de)}var P=function(de){de.forEach(function(W){W.isIntersecting&&W.target.onVisible()})},S={},v=function(de){(function(X,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),se&&R(X,se)})(De,de);var W,pe,ie,Le,Ze=(ie=De,Le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var X,se=g(ie);if(Le){var Ee=g(this).constructor;X=Reflect.construct(se,arguments,Ee)}else X=se.apply(this,arguments);return function(be,Te){if(Te&&(m(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}(be)}(this,X)});function De(X){var se;if(function(be,Te){if(!(be instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,De),(se=Ze.call(this,X)).supportsObserver=!X.scrollPosition&&X.useIntersectionObserver&&l(),se.supportsObserver){var Ee=X.threshold;se.observer=function(be){return S[be]=S[be]||new IntersectionObserver(P,{rootMargin:be+"px"}),S[be]}(Ee)}return se}return W=De,pe=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,se=this.placeholder.getBoundingClientRect(),Ee=d().findDOMNode(this.placeholder).style,be=parseInt(Ee.getPropertyValue("margin-left"),10)||0,Te=parseInt(Ee.getPropertyValue("margin-top"),10)||0;return{bottom:X.y+se.bottom+Te,left:X.x+se.left+be,right:X.x+se.right+be,top:X.y+se.top+Te}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var X=this.props,se=X.scrollPosition,Ee=X.threshold,be=this.getPlaceholderBoundingBox(se),Te=se.y+window.innerHeight,Xe=se.x,St=se.x+window.innerWidth,mt=se.y;return mt-Ee<=be.bottom&&Te+Ee>=be.top&&Xe-Ee<=be.right&&St+Ee>=be.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var X=this,se=this.props,Ee=se.className,be=se.height,Te=se.placeholder,Xe=se.style,St=se.width;if(Te&&typeof Te.type!="function")return o().cloneElement(Te,{ref:function(Be){return X.placeholder=Be}});var mt=function(Be){for(var Tt=1;Tt<arguments.length;Tt++){var wt=arguments[Tt]!=null?arguments[Tt]:{};Tt%2?h(Object(wt),!0).forEach(function(Nt){y(Be,Nt,wt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(wt)):h(Object(wt)).forEach(function(Nt){Object.defineProperty(Be,Nt,Object.getOwnPropertyDescriptor(wt,Nt))})}return Be}({display:"inline-block"},Xe);return St!==void 0&&(mt.width=St),be!==void 0&&(mt.height=be),o().createElement("span",{className:Ee,ref:function(Be){return X.placeholder=Be},style:mt},Te)}}],pe&&x(W.prototype,pe),Object.defineProperty(W,"prototype",{writable:!1}),De}(o().Component);v.propTypes={onVisible:i.PropTypes.func.isRequired,className:i.PropTypes.string,height:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),placeholder:i.PropTypes.element,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,scrollPosition:i.PropTypes.shape({x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired}),width:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])},v.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const I=v;var N=r(296),_=r.n(N),O=r(96),j=r.n(O),k=function(de){var W=getComputedStyle(de,null);return W.getPropertyValue("overflow")+W.getPropertyValue("overflow-y")+W.getPropertyValue("overflow-x")};const q=function(de){if(!(de instanceof HTMLElement))return window;for(var W=de;W&&W instanceof HTMLElement;){if(/(scroll|auto)/.test(k(W)))return W;W=W.parentNode}return window};function $(de){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},$(de)}var L=["delayMethod","delayTime"];function z(){return z=Object.assign?Object.assign.bind():function(de){for(var W=1;W<arguments.length;W++){var pe=arguments[W];for(var ie in pe)Object.prototype.hasOwnProperty.call(pe,ie)&&(de[ie]=pe[ie])}return de},z.apply(this,arguments)}function M(de,W){for(var pe=0;pe<W.length;pe++){var ie=W[pe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(de,(Le=function(Ze,De){if($(Ze)!=="object"||Ze===null)return Ze;var X=Ze[Symbol.toPrimitive];if(X!==void 0){var se=X.call(Ze,"string");if($(se)!=="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ze)}(ie.key),$(Le)==="symbol"?Le:String(Le)),ie)}var Le}function V(de,W){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ie){return pe.__proto__=ie,pe},V(de,W)}function E(de,W){if(W&&($(W)==="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(de)}function T(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function G(de){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},G(de)}var Z=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},Y=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const ne=function(de){var W=function(pe){(function(Ee,be){if(typeof be!="function"&&be!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(be&&be.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),be&&V(Ee,be)})(se,pe);var ie,Le,Ze,De,X=(Ze=se,De=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ee,be=G(Ze);if(De){var Te=G(this).constructor;Ee=Reflect.construct(be,arguments,Te)}else Ee=be.apply(this,arguments);return E(this,Ee)});function se(Ee){var be;if(function(Xe,St){if(!(Xe instanceof St))throw new TypeError("Cannot call a class as a function")}(this,se),(be=X.call(this,Ee)).useIntersectionObserver=Ee.useIntersectionObserver&&l(),be.useIntersectionObserver)return E(be);var Te=be.onChangeScroll.bind(T(be));return Ee.delayMethod==="debounce"?be.delayedScroll=_()(Te,Ee.delayTime):Ee.delayMethod==="throttle"&&(be.delayedScroll=j()(Te,Ee.delayTime)),be.state={scrollPosition:{x:Z(),y:Y()}},be.baseComponentRef=o().createRef(),be}return ie=se,(Le=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||q(d().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=q(d().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:Z(),y:Y()}})}},{key:"render",value:function(){var Ee=this.props,be=(Ee.delayMethod,Ee.delayTime,function(Xe,St){if(Xe==null)return{};var mt,Be,Tt=function(Nt,$t){if(Nt==null)return{};var At,xr,Vr={},zr=Object.keys(Nt);for(xr=0;xr<zr.length;xr++)At=zr[xr],$t.indexOf(At)>=0||(Vr[At]=Nt[At]);return Vr}(Xe,St);if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(Xe);for(Be=0;Be<wt.length;Be++)mt=wt[Be],St.indexOf(mt)>=0||Object.prototype.propertyIsEnumerable.call(Xe,mt)&&(Tt[mt]=Xe[mt])}return Tt}(Ee,L)),Te=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(de,z({forwardRef:this.baseComponentRef,scrollPosition:Te},be))}}])&&M(ie.prototype,Le),Object.defineProperty(ie,"prototype",{writable:!1}),se}(o().Component);return W.propTypes={delayMethod:i.PropTypes.oneOf(["debounce","throttle"]),delayTime:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool},W.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},W};function K(de){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},K(de)}function te(de,W){for(var pe=0;pe<W.length;pe++){var ie=W[pe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(de,(Le=function(Ze,De){if(K(Ze)!=="object"||Ze===null)return Ze;var X=Ze[Symbol.toPrimitive];if(X!==void 0){var se=X.call(Ze,"string");if(K(se)!=="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ze)}(ie.key),K(Le)==="symbol"?Le:String(Le)),ie)}var Le}function ge(de,W){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ie){return pe.__proto__=ie,pe},ge(de,W)}function ue(de){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},ue(de)}var Q=function(de){(function(X,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),se&&ge(X,se)})(De,de);var W,pe,ie,Le,Ze=(ie=De,Le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var X,se=ue(ie);if(Le){var Ee=ue(this).constructor;X=Reflect.construct(se,arguments,Ee)}else X=se.apply(this,arguments);return function(be,Te){if(Te&&(K(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}(be)}(this,X)});function De(X){return function(se,Ee){if(!(se instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,De),Ze.call(this,X)}return W=De,(pe=[{key:"render",value:function(){return o().createElement(I,this.props)}}])&&te(W.prototype,pe),Object.defineProperty(W,"prototype",{writable:!1}),De}(o().Component);const Ae=ne(Q);function Ue(de){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},Ue(de)}function Ve(de,W){for(var pe=0;pe<W.length;pe++){var ie=W[pe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(de,(Le=function(Ze,De){if(Ue(Ze)!=="object"||Ze===null)return Ze;var X=Ze[Symbol.toPrimitive];if(X!==void 0){var se=X.call(Ze,"string");if(Ue(se)!=="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ze)}(ie.key),Ue(Le)==="symbol"?Le:String(Le)),ie)}var Le}function nt(de,W){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ie){return pe.__proto__=ie,pe},nt(de,W)}function ce(de){if(de===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de}function we(de){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},we(de)}var fe=function(de){(function(X,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),se&&nt(X,se)})(De,de);var W,pe,ie,Le,Ze=(ie=De,Le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var X,se=we(ie);if(Le){var Ee=we(this).constructor;X=Reflect.construct(se,arguments,Ee)}else X=se.apply(this,arguments);return function(be,Te){if(Te&&(Ue(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ce(be)}(this,X)});function De(X){var se;(function(St,mt){if(!(St instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,De),se=Ze.call(this,X);var Ee=X.afterLoad,be=X.beforeLoad,Te=X.scrollPosition,Xe=X.visibleByDefault;return se.state={visible:Xe},Xe&&(be(),Ee()),se.onVisible=se.onVisible.bind(ce(se)),se.isScrollTracked=!!(Te&&Number.isFinite(Te.x)&&Te.x>=0&&Number.isFinite(Te.y)&&Te.y>=0),se}return W=De,(pe=[{key:"componentDidUpdate",value:function(X,se){se.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var X=this.props,se=X.className,Ee=X.delayMethod,be=X.delayTime,Te=X.height,Xe=X.placeholder,St=X.scrollPosition,mt=X.style,Be=X.threshold,Tt=X.useIntersectionObserver,wt=X.width;return this.isScrollTracked||Tt&&l()?o().createElement(I,{className:se,height:Te,onVisible:this.onVisible,placeholder:Xe,scrollPosition:St,style:mt,threshold:Be,useIntersectionObserver:Tt,width:wt}):o().createElement(Ae,{className:se,delayMethod:Ee,delayTime:be,height:Te,onVisible:this.onVisible,placeholder:Xe,style:mt,threshold:Be,width:wt})}}])&&Ve(W.prototype,pe),Object.defineProperty(W,"prototype",{writable:!1}),De}(o().Component);fe.propTypes={afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool},fe.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const H=fe;function oe(de){return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},oe(de)}var xe=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ke(de,W){var pe=Object.keys(de);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(de);W&&(ie=ie.filter(function(Le){return Object.getOwnPropertyDescriptor(de,Le).enumerable})),pe.push.apply(pe,ie)}return pe}function ht(de){for(var W=1;W<arguments.length;W++){var pe=arguments[W]!=null?arguments[W]:{};W%2?ke(Object(pe),!0).forEach(function(ie){_e(de,ie,pe[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(pe)):ke(Object(pe)).forEach(function(ie){Object.defineProperty(de,ie,Object.getOwnPropertyDescriptor(pe,ie))})}return de}function _e(de,W,pe){return(W=et(W))in de?Object.defineProperty(de,W,{value:pe,enumerable:!0,configurable:!0,writable:!0}):de[W]=pe,de}function Ke(){return Ke=Object.assign?Object.assign.bind():function(de){for(var W=1;W<arguments.length;W++){var pe=arguments[W];for(var ie in pe)Object.prototype.hasOwnProperty.call(pe,ie)&&(de[ie]=pe[ie])}return de},Ke.apply(this,arguments)}function je(de,W){for(var pe=0;pe<W.length;pe++){var ie=W[pe];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(de,et(ie.key),ie)}}function et(de){var W=function(pe,ie){if(oe(pe)!=="object"||pe===null)return pe;var Le=pe[Symbol.toPrimitive];if(Le!==void 0){var Ze=Le.call(pe,"string");if(oe(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(de);return oe(W)==="symbol"?W:String(W)}function ut(de,W){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,ie){return pe.__proto__=ie,pe},ut(de,W)}function Ot(de){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},Ot(de)}var Lt=function(de){(function(X,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),se&&ut(X,se)})(De,de);var W,pe,ie,Le,Ze=(ie=De,Le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var X,se=Ot(ie);if(Le){var Ee=Ot(this).constructor;X=Reflect.construct(se,arguments,Ee)}else X=se.apply(this,arguments);return function(be,Te){if(Te&&(oe(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}(be)}(this,X)});function De(X){var se;return function(Ee,be){if(!(Ee instanceof be))throw new TypeError("Cannot call a class as a function")}(this,De),(se=Ze.call(this,X)).state={loaded:!1},se}return W=De,(pe=[{key:"onImageLoad",value:function(){var X=this;return this.state.loaded?null:function(se){X.props.onLoad(se),X.props.afterLoad(),X.setState({loaded:!0})}}},{key:"getImg",value:function(){var X=this.props,se=(X.afterLoad,X.beforeLoad,X.delayMethod,X.delayTime,X.effect,X.placeholder,X.placeholderSrc,X.scrollPosition,X.threshold,X.useIntersectionObserver,X.visibleByDefault,X.wrapperClassName,X.wrapperProps,function(Ee,be){if(Ee==null)return{};var Te,Xe,St=function(Be,Tt){if(Be==null)return{};var wt,Nt,$t={},At=Object.keys(Be);for(Nt=0;Nt<At.length;Nt++)wt=At[Nt],Tt.indexOf(wt)>=0||($t[wt]=Be[wt]);return $t}(Ee,be);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ee);for(Xe=0;Xe<mt.length;Xe++)Te=mt[Xe],be.indexOf(Te)>=0||Object.prototype.propertyIsEnumerable.call(Ee,Te)&&(St[Te]=Ee[Te])}return St}(X,xe));return o().createElement("img",Ke({},se,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var X=this.props,se=X.beforeLoad,Ee=X.className,be=X.delayMethod,Te=X.delayTime,Xe=X.height,St=X.placeholder,mt=X.scrollPosition,Be=X.style,Tt=X.threshold,wt=X.useIntersectionObserver,Nt=X.visibleByDefault,$t=X.width;return o().createElement(H,{beforeLoad:se,className:Ee,delayMethod:be,delayTime:Te,height:Xe,placeholder:St,scrollPosition:mt,style:Be,threshold:Tt,useIntersectionObserver:wt,visibleByDefault:Nt,width:$t},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(X){var se=this.props,Ee=se.effect,be=se.height,Te=se.placeholderSrc,Xe=se.width,St=se.wrapperClassName,mt=se.wrapperProps,Be=this.state.loaded,Tt=Be?" lazy-load-image-loaded":"",wt=Be||!Te?{}:{backgroundImage:"url(".concat(Te,")"),backgroundSize:"100% 100%"};return o().createElement("span",Ke({className:St+" lazy-load-image-background "+Ee+Tt,style:ht(ht({},wt),{},{color:"transparent",display:"inline-block",height:be,width:Xe})},mt),X)}},{key:"render",value:function(){var X=this.props,se=X.effect,Ee=X.placeholderSrc,be=X.visibleByDefault,Te=X.wrapperClassName,Xe=X.wrapperProps,St=this.getLazyLoadImage();return(se||Ee)&&!be||Te||Xe?this.getWrappedLazyLoadImage(St):St}}])&&je(W.prototype,pe),Object.defineProperty(W,"prototype",{writable:!1}),De}(o().Component);Lt.propTypes={onLoad:i.PropTypes.func,afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,delayMethod:i.PropTypes.string,delayTime:i.PropTypes.number,effect:i.PropTypes.string,placeholderSrc:i.PropTypes.string,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool,wrapperClassName:i.PropTypes.string,wrapperProps:i.PropTypes.object},Lt.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const er=Lt})(),Xu.exports=n})();var u0=Xu.exports;function p0(t){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function m0(t){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function f0(t){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function h0(t){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Tc(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function g0(t){return yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function b0(t){return yt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function Fo(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function C0(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function y0(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(t)}function Fr(t){return yt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function v0(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-83.6 290.5c4.8 4.8 4.8 12.6 0 17.4l-40.5 40.5c-4.8 4.8-12.6 4.8-17.4 0L256 313.3l-66.5 67.1c-4.8 4.8-12.6 4.8-17.4 0l-40.5-40.5c-4.8-4.8-4.8-12.6 0-17.4l67.1-66.5-67.1-66.5c-4.8-4.8-4.8-12.6 0-17.4l40.5-40.5c4.8-4.8 12.6-4.8 17.4 0l66.5 67.1 66.5-67.1c4.8-4.8 12.6-4.8 17.4 0l40.5 40.5c4.8 4.8 4.8 12.6 0 17.4L313.3 256l67.1 66.5z"},child:[]}]})(t)}function x0(){const[t,e]=p.useState(!1);p.useEffect(()=>{const n=()=>{window.scrollY>10?e(!0):e(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx("button",{className:`back-to-top ${t?"is-visible":""}`,onClick:r,children:a.jsx(f0,{})})}const Ds=({title:t,classname:e,children:r})=>{const[n,s]=p.useState(!1),o=()=>s(!n);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:e,onClick:o,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&o()},role:"button",tabIndex:"0","aria-expanded":n,children:[a.jsx("h3",{children:t}),a.jsx(g0,{className:`chevron ${n?"rotated":""}`})]}),n&&a.jsx("div",{className:"collapsible-content",children:r})]})};Ds.propTypes={title:f.string.isRequired,classname:f.string,children:f.node};const S0=()=>a.jsx("div",{className:"loader__container",children:a.jsx("div",{className:"loader"})}),Wi=({title:t})=>(p.useEffect(()=>{document.title=t},[t]),null);Wi.propTypes={title:f.string.isRequired};const kt=({className:t,children:e,pageTitle:r,showLoader:n,showMenu:s=!0})=>a.jsxs("div",{className:t,children:[a.jsx(Wi,{title:`${Pi} - ${r}`}),n&&a.jsx(S0,{}),a.jsx(a.Fragment,{children:a.jsx(x0,{})}),a.jsx(t1,{}),a.jsxs("div",{className:"Container",children:[s&&a.jsx("div",{className:"menu-container",children:a.jsx(e1,{})}),e]}),a.jsx(zp,{})]});kt.propTypes={className:f.string.isRequired,children:f.node.isRequired,pageTitle:f.string.isRequired,showLoader:f.bool,showMenu:f.bool};const Nc="https://apibudgetpersodemo.fabwebprojects.fr/profile_images/";function w0(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5a2 2 0 0 0-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(t)}function Pc(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function Es(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"},child:[]}]})(t)}function j0(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m13.783 15.172 2.121-2.121 5.996 5.996-2.121 2.121zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49a3 3 0 0 0-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21z"},child:[]}]})(t)}function R0(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.5 10h-2v7h2v-7zm6 0h-2v7h2v-7zm8.5 9H2v2h19v-2zm-2.5-9h-2v7h2v-7zm-7-6.74L16.71 6H6.29l5.21-2.74m0-2.26L2 6v2h19V6l-9.5-5z"},child:[]}]})(t)}function Wt(t){return yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(t)}function Yu(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Ju(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function T0(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Qu(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(t)}function da(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.75 7.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"},child:[]},{tag:"path",attr:{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"},child:[]}]})(t)}var Ki="persist:",Zu="persist/FLUSH",$s="persist/REHYDRATE",ep="persist/PAUSE",tp="persist/PERSIST",rp="persist/PURGE",np="persist/REGISTER",N0=-1;function ps(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ps=function(r){return typeof r}:ps=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ps(t)}function Dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function P0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dc(r,!0).forEach(function(n){D0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dc(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E0(t,e,r,n){n.debug;var s=P0({},r);return t&&ps(t)==="object"&&Object.keys(t).forEach(function(o){o!=="_persist"&&e[o]===r[o]&&(s[o]=t[o])}),s}function M0(t){var e=t.blacklist||null,r=t.whitelist||null,n=t.transforms||[],s=t.throttle||0,o="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ki).concat(t.key),i=t.storage,c;t.serialize===!1?c=function(N){return N}:typeof t.serialize=="function"?c=t.serialize:c=O0;var d=t.writeFailHandler||null,l={},m={},h=[],y=null,x=null,b=function(N){Object.keys(N).forEach(function(_){P(_)&&l[_]!==N[_]&&h.indexOf(_)===-1&&h.push(_)}),Object.keys(l).forEach(function(_){N[_]===void 0&&P(_)&&h.indexOf(_)===-1&&l[_]!==void 0&&h.push(_)}),y===null&&(y=setInterval(R,s)),l=N};function R(){if(h.length===0){y&&clearInterval(y),y=null;return}var I=h.shift(),N=n.reduce(function(_,O){return O.in(_,I,l)},l[I]);if(N!==void 0)try{m[I]=c(N)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete m[I];h.length===0&&g()}function g(){Object.keys(m).forEach(function(I){l[I]===void 0&&delete m[I]}),x=i.setItem(o,c(m)).catch(S)}function P(I){return!(r&&r.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function S(I){d&&d(I)}var v=function(){for(;h.length!==0;)R();return x||Promise.resolve()};return{update:b,flush:v}}function O0(t){return JSON.stringify(t)}function k0(t){var e=t.transforms||[],r="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ki).concat(t.key),n=t.storage;t.debug;var s;return t.deserialize===!1?s=function(i){return i}:typeof t.deserialize=="function"?s=t.deserialize:s=A0,n.getItem(r).then(function(o){if(o)try{var i={},c=s(o);return Object.keys(c).forEach(function(d){i[d]=e.reduceRight(function(l,m){return m.out(l,d,c)},s(c[d]))}),i}catch(d){throw d}else return})}function A0(t){return JSON.parse(t)}function F0(t){var e=t.storage,r="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ki).concat(t.key);return e.removeItem(r,I0)}function I0(t){}function Ec(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ec(r,!0).forEach(function(n){q0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ec(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _0(t,e){if(t==null)return{};var r=L0(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L0(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var B0=5e3;function U0(t,e){var r=t.version!==void 0?t.version:N0;t.debug;var n=t.stateReconciler===void 0?E0:t.stateReconciler,s=t.getStoredState||k0,o=t.timeout!==void 0?t.timeout:B0,i=null,c=!1,d=!0,l=function(h){return h._persist.rehydrated&&i&&!d&&i.update(h),h};return function(m,h){var y=m||{},x=y._persist,b=_0(y,["_persist"]),R=b;if(h.type===tp){var g=!1,P=function(j,k){g||(h.rehydrate(t.key,j,k),g=!0)};if(o&&setTimeout(function(){!g&&P(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},o),d=!1,i||(i=M0(t)),x)return qr({},e(R,h),{_persist:x});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(O){var j=t.migrate||function(k,q){return Promise.resolve(k)};j(O,r).then(function(k){P(k)},function(k){P(void 0,k)})},function(O){P(void 0,O)}),qr({},e(R,h),{_persist:{version:r,rehydrated:!1}})}else{if(h.type===rp)return c=!0,h.result(F0(t)),qr({},e(R,h),{_persist:x});if(h.type===Zu)return h.result(i&&i.flush()),qr({},e(R,h),{_persist:x});if(h.type===ep)d=!0;else if(h.type===$s){if(c)return qr({},R,{_persist:qr({},x,{rehydrated:!0})});if(h.key===t.key){var S=e(R,h),v=h.payload,I=n!==!1&&v!==void 0?n(v,m,S,t):S,N=qr({},I,{_persist:qr({},x,{rehydrated:!0})});return l(N)}}}if(!x)return e(m,h);var _=e(R,h);return _===R?m:l(qr({},_,{_persist:x}))}}function Mc(t){return H0(t)||z0(t)||V0()}function V0(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function z0(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function H0(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function Oc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oc(r,!0).forEach(function(n){G0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oc(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G0(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ap={registry:[],bootstrapped:!1},$0=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ap,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case np:return pi({},e,{registry:[].concat(Mc(e.registry),[r.key])});case $s:var n=e.registry.indexOf(r.key),s=Mc(e.registry);return s.splice(n,1),pi({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function W0(t,e,r){var n=r||!1,s=Oi($0,ap,e&&e.enhancer?e.enhancer:void 0),o=function(l){s.dispatch({type:np,key:l})},i=function(l,m,h){var y={type:$s,payload:m,err:h,key:l};t.dispatch(y),s.dispatch(y),n&&c.getState().bootstrapped&&(n(),n=!1)},c=pi({},s,{purge:function(){var l=[];return t.dispatch({type:rp,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Zu,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:ep})},persist:function(){t.dispatch({type:tp,register:o,rehydrate:i})}});return e&&e.manualPersist||c.persist(),c}var Xi={},Yi={};Yi.__esModule=!0;Yi.default=Y0;function ms(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(r){return typeof r}:ms=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ms(t)}function Io(){}var K0={getItem:Io,setItem:Io,removeItem:Io};function X0(t){if((typeof self>"u"?"undefined":ms(self))!=="object"||!(t in self))return!1;try{var e=self[t],r="redux-persist ".concat(t," test");e.setItem(r,"test"),e.getItem(r),e.removeItem(r)}catch{return!1}return!0}function Y0(t){var e="".concat(t,"Storage");return X0(e)?self[e]:K0}Xi.__esModule=!0;Xi.default=Z0;var J0=Q0(Yi);function Q0(t){return t&&t.__esModule?t:{default:t}}function Z0(t){var e=(0,J0.default)(t);return{getItem:function(n){return new Promise(function(s,o){s(e.getItem(n))})},setItem:function(n,s){return new Promise(function(o,i){o(e.setItem(n,s))})},removeItem:function(n){return new Promise(function(s,o){s(e.removeItem(n))})}}}var sp=void 0,ej=tj(Xi);function tj(t){return t&&t.__esModule?t:{default:t}}var rj=(0,ej.default)("local");sp=rj;const nj=async(t,e)=>{const r=`${Ne}login`;try{const n=await he.post(r,{Identifiant:t,Password:e});return Pe(n.data)}catch(n){throw console.error("Could not login utilisateur: ",n.response||n),n}},aj=async t=>{const e=`${Ne}register`;try{const r=await he.post(e,t,{headers:{"Content-Type":"multipart/form-data"}});return Pe(r.data)}catch(r){throw r.response&&r.response.status===422?(console.error("Validation error: ",r.response.data),new Error("Validation error: "+JSON.stringify(r.response.data.errors))):(console.error("Could not register utilisateur: ",r.response||r),r)}},sj=async t=>{const e=`${Ne}password/email`;try{const r=await he.post(e,{email:t});return Pe(r.data)}catch(r){throw console.error("Could not send password reset email: ",r.response||r),r}},oj=async t=>{const e=`${Ne}password/reset`;try{const r=await he.post(e,{email:t.email,token:t.token,password:t.password,password_confirmation:t.passwordConfirmation});return Pe(r.data)}catch(r){throw console.error("Could not reset password: ",r.response||r),r}},ij=async t=>{var r;const e=`${Ne}logout`;try{const n=await he.post(e,{},{headers:{Authorization:`Bearer ${t}`}});return Pe(n.data)}catch(n){return console.error("Erreur lors de la déconnexion:",n.response||n),{success:!1,error:Pe(((r=n.response)==null?void 0:r.data)||{message:n.message})}}},lj=async t=>{const e=`${Ne}check-status`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(r.data)}catch(r){throw console.error("Erreur lors de la vérification du statut de l'utilisateur: ",r.response||r),r}},cj=async t=>{const e=`${Ne}online-users`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return Pe(r.data)}catch(r){throw console.error("Erreur lors de la récupération des utilisateurs connectés: ",r.response||r),r}},dj=(t,e)=>async r=>{try{r(ip());const n=await nj(t,e);return n.success?(r(hj(n)),{success:!0,data:n}):(r(mi("Échec de la connexion.")),{success:!1,error:"Échec de la connexion."})}catch(n){return r(mi(n.message||"Une erreur est survenue lors de la connexion.")),{success:!1,error:n.message||"Une erreur est survenue lors de la connexion."}}},uj=t=>async e=>{var r,n;try{e(bj());const s=await aj(t);return s.success?(e(Cj(s)),{success:!0,data:s}):(e(kc("Échec de l'inscription.")),{success:!1,error:"Échec de l'inscription."})}catch(s){const o=((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message||"Une erreur est survenue lors de l'inscription.";return e(kc(o)),{success:!1,error:o}}},pj=t=>async e=>{try{const r=await ij(t);return r.success?(e(gj()),{success:!0}):(console.error("Échec de la déconnexion :",r.error),{success:!1,error:r.error})}catch(r){return console.error("Erreur lors de la déconnexion:",r),{success:!1,error:r.message||"Une erreur est survenue lors de la déconnexion."}}},mj=t=>async e=>{try{return e(ip()),(await lj(t)).isConnected===1?{success:!0,isConnected:!0}:{success:!1,isConnected:!1}}catch(r){return e(mi(r.message||"Une erreur est survenue lors de la vérification du statut de l'utilisateur.")),{success:!1,isConnected:!1,error:r.message||"Une erreur est survenue lors de la vérification du statut de l'utilisateur."}}},fj={isAuthenticated:!1,token:null,user:null,loading:!1,error:null},op=Rt({name:"auth",initialState:fj,reducers:{loginStart:t=>{t.loading=!0,t.error=null},loginSuccess:(t,e)=>{t.isAuthenticated=!0,t.token=e.payload.token,t.user={idUser:e.payload.idUser,prenomUtilisateur:e.payload.prenomUtilisateur,cheminImageProfil:e.payload.cheminImageProfil,permission:e.payload.permission},t.loading=!1,t.error=null},loginFailure:(t,e)=>{t.loading=!1,t.error=e.payload,t.isAuthenticated=!1,t.token=null,t.user=null},registerStart:t=>{t.loading=!0,t.error=null},registerSuccess:t=>{t.loading=!1,t.error=null},registerFailure:(t,e)=>{t.loading=!1,t.registerError=e.payload},logout:t=>{t.isAuthenticated=!1,t.token=null,t.user=null,t.loading=!1}}}),{loginStart:ip,loginSuccess:hj,loginFailure:mi,logout:gj,registerStart:bj,registerSuccess:Cj,registerFailure:kc}=op.actions,yj=op.reducer,Kn=Me("onlineUsers/getOnlineUsers",async(t,{rejectWithValue:e})=>{try{return await cj(t)}catch(r){return console.error("Error fetching online users:",r),e(r.message||"Failed to fetch online users.")}}),vj={users:[],loading:!1,error:null},xj=Rt({name:"onlineUsers",initialState:vj,reducers:{},extraReducers:t=>{t.addCase(Kn.pending,e=>{e.loading=!0}).addCase(Kn.fulfilled,(e,r)=>{e.loading=!1,e.users=Array.isArray(r.payload)?r.payload:[],e.error=null}).addCase(Kn.rejected,(e,r)=>{e.loading=!1,e.error=r.payload||"Error occurred"})}}),Sj=xj.reducer,wj={rehydrated:!1},jj=Rt({name:"app",initialState:wj,reducers:{},extraReducers:t=>{t.addCase($s,e=>{e.rehydrated=!0})}}),Rj=jj.reducer,Tj={key:"auth",storage:sp},Nj=U0(Tj,yj);function lp(){const t=vy({reducer:{auth:Nj,app:Rj,onlineUsers:Sj,users:l0,userSettings:s0,selections:Mx,version:iw,statuts:dw,exercices:Dx,comptes:zx,dateDifferer:Lx,typeSaisies:Nw,groupes:kw,categories:Kx,sousCategories:tS,details:lS,modeReglement:gw,typeDebit:xw,typeCompte:zw,typeEpargne:$w,periodicites:Bw,recurrents:wS,prelevements:vS,virements:DS,mvtInternes:FS,provisions:VS,filtres:Rx,ecritures:KS,ecrituresPartagees:t0,validationPartage:tw,validationPeriode:aw},middleware:r=>r({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/PAUSE","persist/PURGE","persist/REGISTER","persist/FLUSH"]}})}),e=W0(t);return{store:t,persistor:e}}const Ji=({isOpen:t,children:e,onClose:r,className:n,overlayClassName:s,backgroundClassName:o,containerClass:i})=>a.jsx(wd,{isOpen:t,onRequestClose:r,className:n||"modal-container",overlayClassName:s||"modal-overlay",closeTimeoutMS:250,"aria-labelledby":"modalTitle",role:"dialog","aria-modal":"true",children:a.jsx("div",{className:o,children:a.jsxs("div",{className:i,children:[a.jsx("div",{className:"modal-close-container",children:a.jsx(v0,{className:"button-icon-green",onClick:r,"aria-label":"Fermer"})}),e]})})});Ji.propTypes={isOpen:f.bool.isRequired,onClose:f.func.isRequired,children:f.node.isRequired,className:f.string,overlayClassName:f.string,backgroundClassName:f.string,containerClass:f.string};const jt=({isOpen:t=!1,children:e,onClose:r,isUserModal:n=!1,isSetupModal:s=!1,isSaisieModal:o=!1,isRecurrentModal:i=!1,additionalClass:c=""})=>{let d="modal-container";return n&&(d+=" user-modal"),s&&(d+=" setup-modal"),o&&(d+=" saisie-modal"),i&&(d+=" reccurent-modal"),c&&(d+=` ${c}`),a.jsx(Ji,{isOpen:t,onClose:r,overlayClassName:"modal-overlay",backgroundClassName:"modal-background-common modal-background-feature",containerClass:d,children:e})};jt.propTypes={isOpen:f.bool,children:f.node.isRequired,onClose:f.func.isRequired,isUserModal:f.bool,isSetupModal:f.bool,isSaisieModal:f.bool,isRecurrentModal:f.bool,additionalClass:f.string};function cp({isOpen:t,onClose:e,title:r,message:n,message2:s,prenomUtilisateur:o,icon:i,icon2:c,onConfirm:d,onCancel:l,confirmText:m="Oui",cancelText:h="Non",closeButtonText:y="Ok"}){const x=d||l;return a.jsxs(Ji,{isOpen:t,onClose:e,containerClass:"modal-container modal-interaction",backgroundClassName:"modal-background-common modal-background-interaction",children:[a.jsx("div",{className:"modal-title",children:a.jsx("h3",{id:"modalTitle",children:r})}),a.jsxs("div",{className:"modal-message",children:[i,o&&a.jsxs("p",{children:["Bonjour, ",o,"!"]}),a.jsx("div",{children:n})]}),s&&a.jsxs("div",{className:"modal-alert",children:[c,a.jsx("p",{children:s})]}),a.jsxs("div",{className:"modal-footer",children:[!x&&a.jsxs("button",{className:"modal-button",onClick:e,children:[a.jsx(Il,{className:"button-icon-text-modal"}),y]}),d&&a.jsxs("button",{className:"modal-button modal-button-confirm",onClick:d,children:[a.jsx(Il,{className:"button-icon-text-modal"}),m]}),l&&a.jsxs("button",{className:"modal-button modal-button-cancel",onClick:l,children:[a.jsx(ig,{className:"button-icon-text-modal"}),h]})]})]})}cp.propTypes={isOpen:f.bool.isRequired,onClose:f.func.isRequired,title:f.string.isRequired,message:f.oneOfType([f.string,f.element]).isRequired,message2:f.string,prenomUtilisateur:f.string,icon:f.element,icon2:f.element,onConfirm:f.func,onCancel:f.func,confirmText:f.string,cancelText:f.string,closeButtonText:f.string};const lt=({modalConfig:t})=>!t||t.length===0?null:a.jsx(a.Fragment,{children:t.map((e,r)=>a.jsx(cp,{...e,closeButtonText:e.closeButtonText||"Ok"},r))}),Pj=f.shape({isOpen:f.bool.isRequired,onClose:f.func.isRequired,title:f.string.isRequired,message:f.oneOfType([f.string,f.element]).isRequired,onConfirm:f.func,onCancel:f.func,closeButtonText:f.string});lt.propTypes={modalConfig:f.arrayOf(Pj).isRequired};function dp(){const[t,e]=p.useState({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,isDesktop:window.innerWidth>1024});return p.useEffect(()=>{const r=()=>{e({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,isDesktop:window.innerWidth>1024})};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}const kn=()=>{const t=pt(),e=A(R=>R.comptes.data),r=A(R=>R.comptes.loadingComptes),n=A(R=>R.selections.selectedCompte),s=A(R=>R.typeCompte.data),o=A(R=>R.typeEpargne.data),i=A(WC),c=p.useCallback(R=>{t(jc(R))},[t]),[d,l]=p.useState(!1),m=R=>{l(R.target.checked);const g=R.target.checked?e:e.filter(P=>!P.inactif);t(ca(g))},h=p.useCallback(R=>{const g=parseInt(R.target.value,10);isNaN(g)||t(jc(g))},[t]),y=p.useMemo(()=>[...e].sort((g,P)=>g.idTypeCompte!==P.idTypeCompte?g.idTypeCompte-P.idTypeCompte:g.ordre-P.ordre).filter(g=>d?!0:!g.inactif).map(g=>{var I,N;let P;const S=((I=s.find(_=>_.idTypeCompte===g.idTypeCompte))==null?void 0:I.libelleTypeCompte)||"",v=((N=o.find(_=>_.idTypeLivret===g.idTypeLivret))==null?void 0:N.libelleTypeLivret)||"";return parseInt(g.idCompte,10)===1?P=g.libelleCompte:S!=="(Epargne)"?P=`${g.libelleCompte} ${S}`:P=`${g.libelleCompte} ${v} ${S}`,P=g.inactif?`${P} (Inactif)`:P,{id:g.idCompte,value:g.idCompte,label:P}}),[e,d,s,o]),x=p.useMemo(()=>[...e].sort((g,P)=>g.idTypeCompte!==P.idTypeCompte?g.idTypeCompte-P.idTypeCompte:g.ordre-P.ordre).filter(g=>!g.inactif&&g.idCompte!==1).map(g=>{var I,N;let P;const S=((I=s.find(_=>_.idTypeCompte===g.idTypeCompte))==null?void 0:I.libelleTypeCompte)||"",v=((N=o.find(_=>_.idTypeLivret===g.idTypeLivret))==null?void 0:N.libelleTypeLivret)||"";return v!=="(Epargne)"?P=`${g.libelleCompte} ${S}`:P=`${g.libelleCompte} ${v} ${S}`,{id:g.idCompte,value:g.idCompte,label:P}}),[e,s,o]),b=p.useMemo(()=>[...e].sort((g,P)=>g.idTypeCompte!==P.idTypeCompte?g.idTypeCompte-P.idTypeCompte:g.ordre-P.ordre).filter(g=>!g.inactif&&(g.idTypeCompte===2||g.idTypeCompte===3)).map(g=>{var v;let P;const S=((v=s.find(I=>I.idTypeCompte===g.idTypeCompte))==null?void 0:v.libelleTypeCompte)||"";return P=`${g.libelleCompte} ${S}`,{id:g.idCompte,value:g.idCompte,label:P}}),[e,s]);return r?a.jsx("div",{children:"Chargement des données..."}):{dataComptes:e,loadingComptes:r,selectedCompte:n,selectCompte:c,afficherInactifs:d,handleCheckboxChange:m,handleCompteChange:h,optionsComptesAll:y,optionsComptes:x,optionsComptesRecurrent:i,optionsComptesCourantDifferer:b}},Cr=()=>{const t=A(i=>i.comptes.data),e=A(i=>i.ecritures.data),r=A(i=>i.categories.data),n=A(i=>i.statuts.data),s=A(i=>i.typeCompte.data),o=A(i=>i.typeEpargne.data);return p.useMemo(()=>{const i=[2,3,4,5];return t.filter(c=>c.idCompte!==1).map(c=>{var P,S;const d=n.find(v=>v.idStatut===c.idStatut),l=((P=s.find(v=>v.idTypeCompte===c.idTypeCompte))==null?void 0:P.libelleTypeCompte)||"",m=((S=o.find(v=>v.idTypeLivret===c.idTypeLivret))==null?void 0:S.libelleTypeLivret)||"",h=`${c.libelleCompte}`,y=`${c.libelleCompte}${m?" "+m:""} ${l}`,x=d.libelleStatut,b=e.some(v=>v.idCompte===c.idCompte),R=r.some(v=>v.idCompte===c.idCompte);return{...c,libelleCompte:h,libelleCompteType:y,libelleStatut:x,typeCompteLabel:l,isDeletable:!b&&!R}}).sort((c,d)=>{const l=i.indexOf(c.idTypeCompte),m=i.indexOf(d.idTypeCompte);return l!==m?l-m:c.ordre-d.ordre})},[t,e,r,s,o,n])},Ws=()=>{const t=pt(),e=A(l=>l.exercices.data),r=A(l=>l.exercices.loading),n=A(l=>l.statuts.data),s=A(l=>l.selections.selectedExercice);p.useEffect(()=>{s&&s.debutExercice&&s.finExercice&&(t(Yr(s.debutExercice)),t(Jr(s.finExercice)))},[s,t]);const o=p.useCallback(l=>{t(gu(l))},[t]),i=p.useCallback(l=>{const m=parseInt(l.target.value,10),h=e.find(y=>y.idExercice===m);h&&o(h.idExercice)},[e,o]);if(r)return a.jsx("div",{children:"Chargement des données..."});const c=e.map(l=>{const m=n.find(h=>h.idStatut===l.statutExercice);return{id:parseInt(l.idExercice,10),value:parseInt(l.idExercice,10),label:`${l.libelleExercice} ${m.libelleStatut}`}}),d=e.filter(l=>{const m=n.find(h=>h.idStatut===l.statutExercice);return m?m.libelleStatut!=="(Clôturé)":!1}).map(l=>{const m=n.find(h=>h.idStatut===l.statutExercice);return{id:parseInt(l.idExercice,10),value:parseInt(l.idExercice,10),label:`${l.libelleExercice} ${m.libelleStatut}`}});return{dataExercices:e,loadingExercices:r,selectedExercice:s,selectExercice:o,handleExerciceChange:i,optionsExercicesAll:c,optionsExercices:d}},Dj=()=>{const t=A(i=>i.exercices.data),e=A(i=>i.statuts.data),r=A(i=>i.ecritures.data),n=p.useMemo(()=>t.some(i=>i.exerciceParDefaut),[t]),s=p.useMemo(()=>t.map(i=>{const c=e.find(l=>l.idStatut===i.statutExercice),d=r.some(l=>l.idExercice===i.idExercice);return{...i,isDeletable:!d,libelleStatut:c.libelleStatut}}),[t,r,e]),o=p.useMemo(()=>s.filter(i=>i.libelleStatut==="(En Cours)").length,[s]);return{dataExercicesWithDeletable:s,hasDefaultExercice:n,numberOfOngoingExercices:o}},Ej=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(null),[s,o]=p.useState(null),[i,c]=p.useState(null),d=p.useCallback(()=>{e(null),n(null),o(null),c(null)},[]);return{currentIdEcriture:t,setCurrentIdEcriture:e,idEcritureToEdit:r,setIdEcritureToEdit:n,pointerValue:s,setPointerValue:o,selectedIdEcriture:i,setSelectedIdEcriture:c,resetEcritureState:d}},Mj=()=>{const t=pt(),{isCreateModalOpen:e,setCreateModalOpen:r,isUpdateModalOpen:n,setIsUpdateModalOpen:s,isConfirmModalOpen:o,setConfirmModalOpen:i,isSharingModalOpen:c,setSharingModalOpen:d}=ot(),{currentIdEcriture:l,setCurrentIdEcriture:m,idEcritureToEdit:h,setIdEcritureToEdit:y,pointerValue:x,setPointerValue:b,selectedIdEcriture:R,setSelectedIdEcriture:g}=Ej(),[P,S]=p.useState(""),{modalConfig:v,setModalConfig:I,successModalConfig:N,errorModalConfig:_,confirmationModalConfig:O}=ot(),j=()=>{r(!0)},k=()=>{d(!0)},q=async V=>{const E=V.map(T=>{const G=!T.pointer;return t(Wn({idEcriture:T.id,pointer:G}))});try{await Promise.all(E),I([N("Toutes les écritures ont été mises à jour avec succès.")])}catch(T){console.error("Erreur lors de la mise à jour des écritures",T),I([_("Erreur lors de la mise à jour des écritures.")])}},$=p.useCallback((V,E)=>{I([O("Voulez-vous vraiment pointer/dé-pointer cette écriture ?","",async()=>{try{await t(Wn({idEcriture:V,pointer:E})),I([N("L'écriture a été mise à jour avec succès.")])}catch(T){console.error("Erreur lors de l’édition",T),I([_("Erreur lors de l'édition de l'écriture.")])}},()=>I([]),()=>I([]))])},[t,I,N,_,O]),L=V=>{g(V),s(!0)},z=p.useCallback(V=>{I([O(`Êtes-vous sûr de vouloir supprimer l'écriture n° ${V} ?`,"Cette action est irréversible.",async()=>{try{await t(Ga(V)),I([N("L'écriture a été supprimée avec succès.")])}catch(E){console.error("Erreur lors de la suppression:",E),I([_("Erreur lors de la suppression de l'écriture.")])}})])},[t,I,N,_,O]),M=p.useCallback(()=>{r(!1),s(!1),i(!1),d(!1),I([])},[r,s,i,d,I]);return{modalConfig:v,handleUpdate:L,handleButtonClick:q,handleDoubleClick:$,handleDeleteAction:z,handleCloseBothModals:M,handleOpenCreateModal:j,modalMessage:P,setModalMessage:S,currentIdEcriture:l,setCurrentIdEcriture:m,idEcritureToEdit:h,setIdEcritureToEdit:y,pointerValue:x,setPointerValue:b,selectedIdEcriture:R,setSelectedIdEcriture:g,isCreateModalOpen:e,isUpdateModalOpen:n,isConfirmModalOpen:o,setConfirmModalOpen:i,isSharingModalOpen:c,setSharingModalOpen:d,handleOpenSharingModal:k}},Oj=()=>{const[t,e]=p.useState([]),r=p.useCallback((o,i,c)=>{console.log("idSaisieDepense",o),e(d=>i?[...d,{id:o,pointer:c}]:d.filter(m=>m.id!==o))},[]),n=p.useCallback((o,i)=>{if(o){const c=i.map(d=>({id:d.id,pointer:d.pointer==="P"}));e(c)}else e([])},[]),s=p.useCallback(()=>{e([])},[]);return{selectedRows:t,setSelectedRows:e,handleRowCheck:r,handleSelectAllClick:n,resetSelectedRows:s}},kj=(t,e)=>{const{selectedCompte:r,selectCompte:n}=kn(),{selectedExercice:s}=Ws(),o=A(De=>De.dateDifferer.data),[i,c]=p.useState(new Date().toISOString().split("T")[0]),[d,l]=p.useState(i),[m,h]=p.useState(!1),[y,x]=p.useState(!1),[b,R]=p.useState(""),[g,P]=p.useState("0.00"),[S,v]=p.useState({idModeReglement:0,libelleModeReglement:"Sélectionner un Mode de Règlement"}),[I,N]=p.useState("0.00"),[_,O]=p.useState(""),[j,k]=p.useState(""),[q,$]=p.useState(""),[L,z]=p.useState(""),[M,V]=p.useState("0"),[E,T]=p.useState(1),[G,Z]=p.useState(""),[Y,ne]=p.useState(!1),[K,te]=p.useState("0.00"),[ge,ue]=p.useState("0.00"),[,Q]=p.useState(!1),[Ae,Ue]=p.useState("0.00"),[Ve,nt]=p.useState("0.00"),ce=De=>te(De),we=De=>ue(De),fe=p.useCallback(De=>{v(De)},[v]),H=De=>{Z(De)},oe=De=>{T(De)},xe=(De,X=!1)=>{X&&(Q(!0),ne(De))},ke=p.useCallback(()=>{x(!1),R(""),P("0.00"),v({idModeReglement:0,libelleModeReglement:"Sélectionner un Mode de Règlement"}),N("0.00")},[]),ht=p.useCallback(()=>{O(""),k(""),$(""),z(""),V("0")},[]),_e=p.useCallback(()=>{ke(),ht()},[ke,ht]),Ke=p.useCallback(()=>{t()},[t]),je=p.useCallback(De=>{const X=parseInt(De.target.value,10);n(X),_e()},[n,_e]),et=p.useCallback(De=>{const X=De.target.value;c(X),l(X),h(!0)},[]),ut=p.useCallback(De=>{const X=De.target.value;l(X)},[]),Ot=p.useCallback(De=>{V(De.target.value.toString())},[]),Lt=p.useCallback(De=>{$(""),k(""),O(""),z(De.target.value.toString())},[]),er=p.useCallback(De=>{$(De.target.value.toString())},[]),de=p.useCallback(De=>{k(De.target.value.toString()),O("0")},[]),W=p.useCallback(De=>{O(De.target.value.toString())},[]),pe=p.useCallback(De=>{const X=De.target?De.target.value:De;N(X)},[]),ie=p.useCallback(()=>{ke(),ht(),e([])},[ke,ht,e]),Le=p.useCallback(()=>{e([]),t()},[e,t]),Ze=p.useMemo(()=>I=="0.00"||r===0||s.idExercice===0||i===""||d===""||!M||!L||!q||!j||!_||S.idModeReglement===0||S.idModeReglement===3&&!G||!I||y&&(!Ae||Ae==="0.00"),[r,s,i,d,M,L,q,j,_,S,G,I,y,Ae]);return p.useEffect(()=>{const De=new Date,X=De.getFullYear();if(s&&s.debutExercice){const Ee=new Date(s.debutExercice).getFullYear();let be;X===Ee?be=De.toISOString().split("T")[0]:be=s.debutExercice,c(be),m||l(be)}},[s,m]),p.useEffect(()=>{(()=>{if(r&&s&&o.length>0){const X=o.filter(be=>be.idCompte===r&&be.idExercice===s),se=new Date(i).getMonth();let Ee=null;X.forEach(be=>{const Te=be.mois,Xe=new Date(be.dateArreteFactures);Te===se&&new Date(i)<=Xe&&(Ee=be.datePrelevement)}),l(Ee||i)}})()},[r,s,o,i]),{ticketRestaurantChecked:y,nbreTickets:b,montantTotal:g,modeReglement:S,montant:I,montantTR:Ae,montantTicket:Ve,selectedDetailId:_,selectedSousCategoriesId:j,selectedCategoriesId:q,selectedGroupeId:L,selectedTypeSaisieId:M,dateSaisie:i,dateReelle:d,selectedTypeDebit:E,chequeNumber:G,A_Partager:Y,partTitulaire1:K,partTitulaire2:ge,updatePartTitulaire1:ce,updatePartTitulaire2:we,handleCompteChange:je,handleDateSaisieChange:et,handleRealDateChange:ut,handleReinitialiserClick:_e,handleAnnulerSaisieClick:Ke,handleTypeSaisieChange:Ot,handleGroupeChange:Lt,handleCategoriesChange:er,handleSousCategoriesChange:de,handleDetailChange:W,handleConfirmCreateAnother:ie,handleCancelCreateAnother:Le,setTicketRestaurantChecked:x,setNbreTickets:R,setMontantTotal:P,setModeReglement:v,setMontant:N,handleMontantChange:pe,handleModeReglementChange:fe,handleChequeNumberChange:H,handleTypeDebitChange:oe,handlePartageChange:xe,setSelectedDetailId:O,setSelectedSousCategoriesId:k,setSelectedCategoriesId:$,setSelectedGroupeId:z,setSelectedTypeSaisieId:V,setIsPartageUserModified:Q,setSelectedTypeDebit:T,setChequeNumber:Z,setA_Partager:ne,setPartTitulaire1:te,setPartTitulaire2:ue,setMontantTR:Ue,setMontantTicket:nt,isButtonDisabled:Ze}},ir=({shouldShowCompteFilter:t=!1,shouldShowExerciceFilter:e=!1,shouldShowTypeSaisieFilter:r=!1,shouldShowGroupesFilter:n=!1,shouldShowCatFilter:s=!1})=>{const o=fn(),i=pt(),c=p.useCallback(()=>{o("/Setup")},[o]),d=Cr(),l=A(j=>j.exercices.data),m=A(j=>j.typeSaisies.data),h=A(j=>j.groupes.data),y=A(j=>j.categories.data),x=p.useMemo(()=>{const j=[],k=t,q=t,$=t||r,L=t||r||n;if(t){const z=[{id:"0",value:"0",label:"Sélectionner un Compte"},...d.map(M=>({id:M.idCompte.toString(),value:M.idCompte.toString(),label:M.libelleCompteType,key:`compte_${M.idCompte}`}))];j.push({id:"compteFilter",name:"compteFilter",options:z,selectedValue:"0",disabled:!k,label:"Filtrer par Compte"})}if(e){const z=l.find(V=>V.exerciceParDefaut===!0),M=l.filter(V=>V.statutExercice===1).map((V,E)=>({id:V.idExercice.toString(),value:V.idExercice.toString(),label:V.libelleExercice,key:`exercice_${E}`}));j.push({id:"exerciceFilter",name:"exerciceFilter",options:M,selectedValue:z?z.idExercice.toString():M.length>0?M[0].value:"0",disabled:!1,label:"Filtrer par Exercice"})}if(r&&j.push({id:"typeSaisieFilter",name:"typeSaisieFilter",options:[{id:"0",value:"0",label:"Sélectionner un Type de Saisie"},...m.filter(z=>z.idTypeSaisie!==0).map(z=>({id:z.idTypeSaisie.toString(),value:z.idTypeSaisie.toString(),label:z.libelleTypeSaisie}))],selectedValue:"0",disabled:q,label:"Filtrer par Type de Saisie"}),n){const z=[{id:"0",value:"0",label:"Sélectionner un Groupe"},...h.map((M,V)=>({id:M.idGroupe.toString(),value:M.idGroupe.toString(),label:M.libelleGroupe,key:`groupe_${V}`}))];j.push({id:"groupeFilter",name:"groupeFilter",options:z,selectedValue:"0",disabled:$,label:"Filtrer par Groupe"})}if(s){const z=[{id:"0",value:"0",label:"Sélectionner une Catégorie"},...y.map((M,V)=>({id:M.idCat.toString(),value:M.idCat.toString(),label:M.libelleCategorie,key:`cat_${V}`}))];j.push({id:"catFilter",name:"catFilter",options:z,selectedValue:"0",disabled:L,label:"Filtrer par Catégorie"})}return j},[d,l,m,h,y,t,e,r,n,s]),[b,R]=p.useState(x),g=p.useCallback((j,k)=>{R(q=>{var E,T,G;let $=[...q];const L=$.findIndex(Z=>Z.id===j);L!==-1&&($[L].selectedValue=k);const z=(E=$.find(Z=>Z.id==="compteFilter"))==null?void 0:E.selectedValue,M=(T=$.find(Z=>Z.id==="typeSaisieFilter"))==null?void 0:T.selectedValue,V=(G=$.find(Z=>Z.id==="groupeFilter"))==null?void 0:G.selectedValue;if($=$.map(Z=>{switch(Z.id){case"typeSaisieFilter":return{...Z,disabled:z==="0",selectedValue:z==="0"?"0":Z.selectedValue};case"groupeFilter":return{...Z,disabled:M==="0"||z==="0",selectedValue:M==="0"?"0":Z.selectedValue};case"catFilter":return{...Z,disabled:V==="0"||M==="0"||z==="0",selectedValue:V==="0"?"0":Z.selectedValue};default:return Z}}),j==="typeSaisieFilter"||j==="compteFilter"){const Z=$.findIndex(Y=>Y.id==="groupeFilter");Z!==-1&&($[Z].options=[{id:"0",value:"0",label:"Sélectionner un Groupe"},...h.filter(Y=>Y.idTypeSaisie.toString()===M).map(Y=>({id:Y.idGroupe.toString(),value:Y.idGroupe.toString(),label:Y.libelleGroupe}))])}if(j==="groupeFilter"||j==="typeSaisieFilter"||j==="compteFilter"){const Z=$.findIndex(Y=>Y.id==="catFilter");Z!==-1&&($[Z].options=[{id:"0",value:"0",label:"Sélectionner une Catégorie"},...y.filter(Y=>Y.idCompte.toString()===z&&h.find(ne=>ne.idGroupe.toString()===Y.idGroupe.toString()&&ne.idTypeSaisie.toString()===M)).map(Y=>({id:Y.idCat.toString(),value:Y.idCat.toString(),label:Y.libelleCategorie}))])}return $})},[h,y]),P=p.useMemo(()=>b,[b]),S=p.useCallback(j=>{o(`/SetupDifferer/${j}`)},[o]),v=p.useCallback(()=>{},[]),I=p.useCallback((j,k,q)=>async $=>{try{await i(j($)).unwrap(),k&&k()}catch(L){console.error("Échec de la suppression:",L),q&&q(L)}},[i]),N=p.useCallback(async()=>{},[]),_=p.useCallback(()=>{},[]),O=p.useCallback(()=>{},[]);return{filterConfig:P,handleFilterChange:g,handleCalendar:S,handleUpdate:v,handleGenericDelete:I,handleButtonClick:N,handleOpenCreateModal:_,handleCloture:O,handleRedirect:c}},Aj=(t,e=10*60*1e3,r=!0,n=!1)=>{const[s,o]=p.useState(e);p.useEffect(()=>{if(!r&&!n)return;const i=()=>{o(e)},c=setInterval(()=>{o(d=>{const l=d-1e3;return l<=0?(clearInterval(c),t(e),e):l})},1e3);return window.addEventListener("mousemove",i),window.addEventListener("click",i),()=>{clearInterval(c),window.removeEventListener("mousemove",i),window.removeEventListener("click",i)}},[t,e,r,n])};var up={exports:{}},fi={exports:{}};(function(t,e){(function(r,n){n(e,p)})(mh,function(r,n){function s(u,C,w,D,B,F,U){try{var ee=u[F](U),ae=ee.value}catch(le){return void w(le)}ee.done?C(ae):Promise.resolve(ae).then(D,B)}function o(u){return function(){var C=this,w=arguments;return new Promise(function(D,B){var F=u.apply(C,w);function U(ae){s(F,D,B,U,ee,"next",ae)}function ee(ae){s(F,D,B,U,ee,"throw",ae)}U(void 0)})}}function i(){return(i=Object.assign||function(u){for(var C=1;C<arguments.length;C++){var w=arguments[C];for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(u[D]=w[D])}return u}).apply(this,arguments)}function c(u,C){if(u==null)return{};var w,D,B={},F=Object.keys(u);for(D=0;D<F.length;D++)w=F[D],C.indexOf(w)>=0||(B[w]=u[w]);return B}function d(u){var C=function(w,D){if(typeof w!="object"||w===null)return w;var B=w[Symbol.toPrimitive];if(B!==void 0){var F=B.call(w,D||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(w)}(u,"string");return typeof C=="symbol"?C:String(C)}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={init:"init"},m=function(u){var C=u.value;return C===void 0?"":C},h=function(){return n.createElement(n.Fragment,null," ")},y={Cell:m,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function x(){for(var u=arguments.length,C=new Array(u),w=0;w<u;w++)C[w]=arguments[w];return C.reduce(function(D,B){var F=B.style,U=B.className;return D=i({},D,{},c(B,["style","className"])),F&&(D.style=D.style?i({},D.style||{},{},F||{}):F),U&&(D.className=D.className?D.className+" "+U:U),D.className===""&&delete D.className,D},{})}var b=function(u,C){return C===void 0&&(C={}),function(w){return w===void 0&&(w={}),[].concat(u,[w]).reduce(function(D,B){return function F(U,ee,ae){return typeof ee=="function"?F({},ee(U,ae)):Array.isArray(ee)?x.apply(void 0,[U].concat(ee)):x(U,ee)}(D,B,i({},C,{userProps:w}))},{})}},R=function(u,C,w,D){return w===void 0&&(w={}),u.reduce(function(B,F){return F(B,w)},C)},g=function(u,C,w){return w===void 0&&(w={}),u.forEach(function(D){D(C,w)})};function P(u,C,w,D){u.findIndex(function(B){return B.pluginName===w}),C.forEach(function(B){u.findIndex(function(F){return F.pluginName===B})})}function S(u,C){return typeof u=="function"?u(C):u}function v(u){var C=n.useRef();return C.current=u,n.useCallback(function(){return C.current},[])}var I=typeof document<"u"?n.useLayoutEffect:n.useEffect;function N(u,C){var w=n.useRef(!1);I(function(){w.current&&u(),w.current=!0},C)}function _(u,C,w){return w===void 0&&(w={}),function(D,B){B===void 0&&(B={});var F=typeof D=="string"?C[D]:D;if(F===void 0)throw console.info(C),new Error("Renderer Error ☝️");return O(F,i({},u,{column:C},w,{},B))}}function O(u,C){return function(D){return typeof D=="function"&&(B=Object.getPrototypeOf(D)).prototype&&B.prototype.isReactComponent;var B}(w=u)||typeof w=="function"||function(D){return typeof D=="object"&&typeof D.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(D.$$typeof.description)}(w)?n.createElement(u,C):u;var w}function j(u,C,w){return w===void 0&&(w=0),u.map(function(D){return q(D=i({},D,{parent:C,depth:w})),D.columns&&(D.columns=j(D.columns,D,w+1)),D})}function k(u){return E(u,"columns")}function q(u){var C=u.id,w=u.accessor,D=u.Header;if(typeof w=="string"){C=C||w;var B=w.split(".");w=function(F){return function(U,ee,ae){if(!ee)return U;var le,Se=typeof ee=="function"?ee:JSON.stringify(ee),Ce=z.get(Se)||function(){var ye=function(me){return function ve(Oe,Ie){if(Ie===void 0&&(Ie=[]),Array.isArray(Oe))for(var $e=0;$e<Oe.length;$e+=1)ve(Oe[$e],Ie);else Ie.push(Oe);return Ie}(me).map(function(ve){return String(ve).replace(".","_")}).join(".").replace(K,".").replace(te,"").split(".")}(ee);return z.set(Se,ye),ye}();try{le=Ce.reduce(function(ye,me){return ye[me]},U)}catch{}return le!==void 0?le:ae}(F,B)}}if(!C&&typeof D=="string"&&D&&(C=D),!C&&u.columns)throw console.error(u),new Error('A column ID (or unique "Header" value) is required!');if(!C)throw console.error(u),new Error("A column ID (or string accessor) is required!");return Object.assign(u,{id:C,accessor:w}),u}function $(u,C){if(!C)throw new Error;return Object.assign(u,i({Header:h,Footer:h},y,{},C,{},u)),Object.assign(u,{originalWidth:u.width}),u}function L(u,C,w){w===void 0&&(w=function(){return{}});for(var D=[],B=u,F=0,U=function(){return F++},ee=function(){var ae={headers:[]},le=[],Se=B.some(function(Ce){return Ce.parent});B.forEach(function(Ce){var ye,me=[].concat(le).reverse()[0];Se&&(Ce.parent?ye=i({},Ce.parent,{originalId:Ce.parent.id,id:Ce.parent.id+"_"+U(),headers:[Ce]},w(Ce)):ye=$(i({originalId:Ce.id+"_placeholder",id:Ce.id+"_placeholder_"+U(),placeholderOf:Ce,headers:[Ce]},w(Ce)),C),me&&me.originalId===ye.originalId?me.headers.push(Ce):le.push(ye)),ae.headers.push(Ce)}),D.push(ae),B=le};B.length;)ee();return D.reverse()}var z=new Map;function M(){for(var u=arguments.length,C=new Array(u),w=0;w<u;w++)C[w]=arguments[w];for(var D=0;D<C.length;D+=1)if(C[D]!==void 0)return C[D]}function V(u){if(typeof u=="function")return u}function E(u,C){var w=[];return function D(B){B.forEach(function(F){F[C]?D(F[C]):w.push(F)})}(u),w}function T(u,C){var w=C.manualExpandedKey,D=C.expanded,B=C.expandSubRows,F=B===void 0||B,U=[];return u.forEach(function(ee){return function ae(le,Se){Se===void 0&&(Se=!0),le.isExpanded=le.original&&le.original[w]||D[le.id],le.canExpand=le.subRows&&!!le.subRows.length,Se&&U.push(le),le.subRows&&le.subRows.length&&le.isExpanded&&le.subRows.forEach(function(Ce){return ae(Ce,F)})}(ee)}),U}function G(u,C,w){return V(u)||C[u]||w[u]||w.text}function Z(u,C,w){return u?u(C,w):C===void 0}function Y(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var ne=null,K=/\[/g,te=/\]/g,ge=function(u){return i({role:"table"},u)},ue=function(u){return i({role:"rowgroup"},u)},Q=function(u,C){var w=C.column;return i({key:"header_"+w.id,colSpan:w.totalVisibleHeaderCount,role:"columnheader"},u)},Ae=function(u,C){var w=C.column;return i({key:"footer_"+w.id,colSpan:w.totalVisibleHeaderCount},u)},Ue=function(u,C){return i({key:"headerGroup_"+C.index,role:"row"},u)},Ve=function(u,C){return i({key:"footerGroup_"+C.index},u)},nt=function(u,C){return i({key:"row_"+C.row.id,role:"row"},u)},ce=function(u,C){var w=C.cell;return i({key:"cell_"+w.row.id+"_"+w.column.id,role:"cell"},u)};function we(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[ge],getTableBodyProps:[ue],getHeaderGroupProps:[Ue],getFooterGroupProps:[Ve],getHeaderProps:[Q],getFooterProps:[Ae],getRowProps:[nt],getCellProps:[ce],useFinalInstance:[]}}l.resetHiddenColumns="resetHiddenColumns",l.toggleHideColumn="toggleHideColumn",l.setHiddenColumns="setHiddenColumns",l.toggleHideAllColumns="toggleHideAllColumns";var fe=function(u){u.getToggleHiddenProps=[H],u.getToggleHideAllColumnsProps=[oe],u.stateReducers.push(xe),u.useInstanceBeforeDimensions.push(ke),u.headerGroupsDeps.push(function(C,w){var D=w.instance;return[].concat(C,[D.state.hiddenColumns])}),u.useInstance.push(ht)};fe.pluginName="useColumnVisibility";var H=function(u,C){var w=C.column;return[u,{onChange:function(D){w.toggleHidden(!D.target.checked)},style:{cursor:"pointer"},checked:w.isVisible,title:"Toggle Column Visible"}]},oe=function(u,C){var w=C.instance;return[u,{onChange:function(D){w.toggleHideAllColumns(!D.target.checked)},style:{cursor:"pointer"},checked:!w.allColumnsHidden&&!w.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!w.allColumnsHidden&&w.state.hiddenColumns.length}]};function xe(u,C,w,D){if(C.type===l.init)return i({hiddenColumns:[]},u);if(C.type===l.resetHiddenColumns)return i({},u,{hiddenColumns:D.initialState.hiddenColumns||[]});if(C.type===l.toggleHideColumn){var B=(C.value!==void 0?C.value:!u.hiddenColumns.includes(C.columnId))?[].concat(u.hiddenColumns,[C.columnId]):u.hiddenColumns.filter(function(F){return F!==C.columnId});return i({},u,{hiddenColumns:B})}return C.type===l.setHiddenColumns?i({},u,{hiddenColumns:S(C.value,u.hiddenColumns)}):C.type===l.toggleHideAllColumns?i({},u,{hiddenColumns:(C.value!==void 0?C.value:!u.hiddenColumns.length)?D.allColumns.map(function(F){return F.id}):[]}):void 0}function ke(u){var C=u.headers,w=u.state.hiddenColumns;n.useRef(!1).current;var D=0;C.forEach(function(B){return D+=function F(U,ee){U.isVisible=ee&&!w.includes(U.id);var ae=0;return U.headers&&U.headers.length?U.headers.forEach(function(le){return ae+=F(le,U.isVisible)}):ae=U.isVisible?1:0,U.totalVisibleHeaderCount=ae,ae}(B,!0)})}function ht(u){var C=u.columns,w=u.flatHeaders,D=u.dispatch,B=u.allColumns,F=u.getHooks,U=u.state.hiddenColumns,ee=u.autoResetHiddenColumns,ae=ee===void 0||ee,le=v(u),Se=B.length===U.length,Ce=n.useCallback(function(Ie,$e){return D({type:l.toggleHideColumn,columnId:Ie,value:$e})},[D]),ye=n.useCallback(function(Ie){return D({type:l.setHiddenColumns,value:Ie})},[D]),me=n.useCallback(function(Ie){return D({type:l.toggleHideAllColumns,value:Ie})},[D]),ve=b(F().getToggleHideAllColumnsProps,{instance:le()});w.forEach(function(Ie){Ie.toggleHidden=function($e){D({type:l.toggleHideColumn,columnId:Ie.id,value:$e})},Ie.getToggleHiddenProps=b(F().getToggleHiddenProps,{instance:le(),column:Ie})});var Oe=v(ae);N(function(){Oe()&&D({type:l.resetHiddenColumns})},[D,C]),Object.assign(u,{allColumnsHidden:Se,toggleHideColumn:Ce,setHiddenColumns:ye,toggleHideAllColumns:me,getToggleHideAllColumnsProps:ve})}var _e={},Ke={},je=function(u,C,w){return u},et=function(u,C){return u.subRows||[]},ut=function(u,C,w){return""+(w?[w.id,C].join("."):C)},Ot=function(u){return u};function Lt(u){var C=u.initialState,w=C===void 0?_e:C,D=u.defaultColumn,B=D===void 0?Ke:D,F=u.getSubRows,U=F===void 0?et:F,ee=u.getRowId,ae=ee===void 0?ut:ee,le=u.stateReducer,Se=le===void 0?je:le,Ce=u.useControlledState,ye=Ce===void 0?Ot:Ce;return i({},c(u,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:w,defaultColumn:B,getSubRows:U,getRowId:ae,stateReducer:Se,useControlledState:ye})}function er(u,C){C===void 0&&(C=0);var w=0,D=0,B=0,F=0;return u.forEach(function(U){var ee=U.headers;if(U.totalLeft=C,ee&&ee.length){var ae=er(ee,C),le=ae[0],Se=ae[1],Ce=ae[2],ye=ae[3];U.totalMinWidth=le,U.totalWidth=Se,U.totalMaxWidth=Ce,U.totalFlexWidth=ye}else U.totalMinWidth=U.minWidth,U.totalWidth=Math.min(Math.max(U.minWidth,U.width),U.maxWidth),U.totalMaxWidth=U.maxWidth,U.totalFlexWidth=U.canResize?U.totalWidth:0;U.isVisible&&(C+=U.totalWidth,w+=U.totalMinWidth,D+=U.totalWidth,B+=U.totalMaxWidth,F+=U.totalFlexWidth)}),[w,D,B,F]}function de(u){var C=u.data,w=u.rows,D=u.flatRows,B=u.rowsById,F=u.column,U=u.getRowId,ee=u.getSubRows,ae=u.accessValueHooks,le=u.getInstance;C.forEach(function(Se,Ce){return function ye(me,ve,Oe,Ie,$e){Oe===void 0&&(Oe=0);var ct=me,ze=U(me,ve,Ie),Re=B[ze];if(Re)Re.subRows&&Re.originalSubRows.forEach(function(qe,rt){return ye(qe,rt,Oe+1,Re)});else if((Re={id:ze,original:ct,index:ve,depth:Oe,cells:[{}]}).cells.map=Y,Re.cells.filter=Y,Re.cells.forEach=Y,Re.cells[0].getCellProps=Y,Re.values={},$e.push(Re),D.push(Re),B[ze]=Re,Re.originalSubRows=ee(me,ve),Re.originalSubRows){var st=[];Re.originalSubRows.forEach(function(qe,rt){return ye(qe,rt,Oe+1,Re,st)}),Re.subRows=st}F.accessor&&(Re.values[F.id]=F.accessor(me,ve,Re,$e,C)),Re.values[F.id]=R(ae,Re.values[F.id],{row:Re,column:F,instance:le()})}(Se,Ce,0,void 0,w)})}l.resetExpanded="resetExpanded",l.toggleRowExpanded="toggleRowExpanded",l.toggleAllRowsExpanded="toggleAllRowsExpanded";var W=function(u){u.getToggleAllRowsExpandedProps=[pe],u.getToggleRowExpandedProps=[ie],u.stateReducers.push(Le),u.useInstance.push(Ze),u.prepareRow.push(De)};W.pluginName="useExpanded";var pe=function(u,C){var w=C.instance;return[u,{onClick:function(D){w.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},ie=function(u,C){var w=C.row;return[u,{onClick:function(){w.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function Le(u,C,w,D){if(C.type===l.init)return i({expanded:{}},u);if(C.type===l.resetExpanded)return i({},u,{expanded:D.initialState.expanded||{}});if(C.type===l.toggleAllRowsExpanded){var B=C.value,F=D.rowsById,U=Object.keys(F).length===Object.keys(u.expanded).length;if(B!==void 0?B:!U){var ee={};return Object.keys(F).forEach(function(ve){ee[ve]=!0}),i({},u,{expanded:ee})}return i({},u,{expanded:{}})}if(C.type===l.toggleRowExpanded){var ae,le=C.id,Se=C.value,Ce=u.expanded[le],ye=Se!==void 0?Se:!Ce;if(!Ce&&ye)return i({},u,{expanded:i({},u.expanded,(ae={},ae[le]=!0,ae))});if(Ce&&!ye){var me=u.expanded;return me[le],i({},u,{expanded:c(me,[le].map(d))})}return u}}function Ze(u){var C=u.data,w=u.rows,D=u.rowsById,B=u.manualExpandedKey,F=B===void 0?"expanded":B,U=u.paginateExpandedRows,ee=U===void 0||U,ae=u.expandSubRows,le=ae===void 0||ae,Se=u.autoResetExpanded,Ce=Se===void 0||Se,ye=u.getHooks,me=u.plugins,ve=u.state.expanded,Oe=u.dispatch;P(me,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var Ie=v(Ce),$e=!!(Object.keys(D).length&&Object.keys(ve).length);$e&&Object.keys(D).some(function(ft){return!ve[ft]})&&($e=!1),N(function(){Ie()&&Oe({type:l.resetExpanded})},[Oe,C]);var ct=n.useCallback(function(ft,Ye){Oe({type:l.toggleRowExpanded,id:ft,value:Ye})},[Oe]),ze=n.useCallback(function(ft){return Oe({type:l.toggleAllRowsExpanded,value:ft})},[Oe]),Re=n.useMemo(function(){return ee?T(w,{manualExpandedKey:F,expanded:ve,expandSubRows:le}):w},[ee,w,F,ve,le]),st=n.useMemo(function(){return function(ft){var Ye=0;return Object.keys(ft).forEach(function(tt){var xt=tt.split(".");Ye=Math.max(Ye,xt.length)}),Ye}(ve)},[ve]),qe=v(u),rt=b(ye().getToggleAllRowsExpandedProps,{instance:qe()});Object.assign(u,{preExpandedRows:w,expandedRows:Re,rows:Re,expandedDepth:st,isAllRowsExpanded:$e,toggleRowExpanded:ct,toggleAllRowsExpanded:ze,getToggleAllRowsExpandedProps:rt})}function De(u,C){var w=C.instance.getHooks,D=C.instance;u.toggleRowExpanded=function(B){return D.toggleRowExpanded(u.id,B)},u.getToggleRowExpandedProps=b(w().getToggleRowExpandedProps,{instance:D,row:u})}var X=function(u,C,w){return u=u.filter(function(D){return C.some(function(B){var F=D.values[B];return String(F).toLowerCase().includes(String(w).toLowerCase())})})};X.autoRemove=function(u){return!u};var se=function(u,C,w){return u.filter(function(D){return C.some(function(B){var F=D.values[B];return F===void 0||String(F).toLowerCase()===String(w).toLowerCase()})})};se.autoRemove=function(u){return!u};var Ee=function(u,C,w){return u.filter(function(D){return C.some(function(B){var F=D.values[B];return F===void 0||String(F)===String(w)})})};Ee.autoRemove=function(u){return!u};var be=function(u,C,w){return u.filter(function(D){return C.some(function(B){return D.values[B].includes(w)})})};be.autoRemove=function(u){return!u||!u.length};var Te=function(u,C,w){return u.filter(function(D){return C.some(function(B){var F=D.values[B];return F&&F.length&&w.every(function(U){return F.includes(U)})})})};Te.autoRemove=function(u){return!u||!u.length};var Xe=function(u,C,w){return u.filter(function(D){return C.some(function(B){var F=D.values[B];return F&&F.length&&w.some(function(U){return F.includes(U)})})})};Xe.autoRemove=function(u){return!u||!u.length};var St=function(u,C,w){return u.filter(function(D){return C.some(function(B){var F=D.values[B];return w.includes(F)})})};St.autoRemove=function(u){return!u||!u.length};var mt=function(u,C,w){return u.filter(function(D){return C.some(function(B){return D.values[B]===w})})};mt.autoRemove=function(u){return u===void 0};var Be=function(u,C,w){return u.filter(function(D){return C.some(function(B){return D.values[B]==w})})};Be.autoRemove=function(u){return u==null};var Tt=function(u,C,w){var D=w||[],B=D[0],F=D[1];if((B=typeof B=="number"?B:-1/0)>(F=typeof F=="number"?F:1/0)){var U=B;B=F,F=U}return u.filter(function(ee){return C.some(function(ae){var le=ee.values[ae];return le>=B&&le<=F})})};Tt.autoRemove=function(u){return!u||typeof u[0]!="number"&&typeof u[1]!="number"};var wt=Object.freeze({__proto__:null,text:X,exactText:se,exactTextCase:Ee,includes:be,includesAll:Te,includesSome:Xe,includesValue:St,exact:mt,equals:Be,between:Tt});l.resetFilters="resetFilters",l.setFilter="setFilter",l.setAllFilters="setAllFilters";var Nt=function(u){u.stateReducers.push($t),u.useInstance.push(At)};function $t(u,C,w,D){if(C.type===l.init)return i({filters:[]},u);if(C.type===l.resetFilters)return i({},u,{filters:D.initialState.filters||[]});if(C.type===l.setFilter){var B=C.columnId,F=C.filterValue,U=D.allColumns,ee=D.filterTypes,ae=U.find(function(Oe){return Oe.id===B});if(!ae)throw new Error("React-Table: Could not find a column with id: "+B);var le=G(ae.filter,ee||{},wt),Se=u.filters.find(function(Oe){return Oe.id===B}),Ce=S(F,Se&&Se.value);return Z(le.autoRemove,Ce,ae)?i({},u,{filters:u.filters.filter(function(Oe){return Oe.id!==B})}):i({},u,Se?{filters:u.filters.map(function(Oe){return Oe.id===B?{id:B,value:Ce}:Oe})}:{filters:[].concat(u.filters,[{id:B,value:Ce}])})}if(C.type===l.setAllFilters){var ye=C.filters,me=D.allColumns,ve=D.filterTypes;return i({},u,{filters:S(ye,u.filters).filter(function(Oe){var Ie=me.find(function($e){return $e.id===Oe.id});return!Z(G(Ie.filter,ve||{},wt).autoRemove,Oe.value,Ie)})})}}function At(u){var C=u.data,w=u.rows,D=u.flatRows,B=u.rowsById,F=u.allColumns,U=u.filterTypes,ee=u.manualFilters,ae=u.defaultCanFilter,le=ae!==void 0&&ae,Se=u.disableFilters,Ce=u.state.filters,ye=u.dispatch,me=u.autoResetFilters,ve=me===void 0||me,Oe=n.useCallback(function(qe,rt){ye({type:l.setFilter,columnId:qe,filterValue:rt})},[ye]),Ie=n.useCallback(function(qe){ye({type:l.setAllFilters,filters:qe})},[ye]);F.forEach(function(qe){var rt=qe.id,ft=qe.accessor,Ye=qe.defaultCanFilter,tt=qe.disableFilters;qe.canFilter=ft?M(tt!==!0&&void 0,Se!==!0&&void 0,!0):M(Ye,le,!1),qe.setFilter=function(at){return Oe(qe.id,at)};var xt=Ce.find(function(at){return at.id===rt});qe.filterValue=xt&&xt.value});var $e=n.useMemo(function(){if(ee||!Ce.length)return[w,D,B];var qe=[],rt={};return[function ft(Ye,tt){tt===void 0&&(tt=0);var xt=Ye;return(xt=Ce.reduce(function(at,vt){var bt=vt.id,Mt=vt.value,We=F.find(function(qt){return qt.id===bt});if(!We)return at;tt===0&&(We.preFilteredRows=at);var gt=G(We.filter,U||{},wt);return gt?(We.filteredRows=gt(at,[bt],Mt),We.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+We.id+"."),at)},Ye)).forEach(function(at){qe.push(at),rt[at.id]=at,at.subRows&&(at.subRows=at.subRows&&at.subRows.length>0?ft(at.subRows,tt+1):at.subRows)}),xt}(w),qe,rt]},[ee,Ce,w,D,B,F,U]),ct=$e[0],ze=$e[1],Re=$e[2];n.useMemo(function(){F.filter(function(qe){return!Ce.find(function(rt){return rt.id===qe.id})}).forEach(function(qe){qe.preFilteredRows=ct,qe.filteredRows=ct})},[ct,Ce,F]);var st=v(ve);N(function(){st()&&ye({type:l.resetFilters})},[ye,ee?null:C]),Object.assign(u,{preFilteredRows:w,preFilteredFlatRows:D,preFilteredRowsById:B,filteredRows:ct,filteredFlatRows:ze,filteredRowsById:Re,rows:ct,flatRows:ze,rowsById:Re,setFilter:Oe,setAllFilters:Ie})}Nt.pluginName="useFilters",l.resetGlobalFilter="resetGlobalFilter",l.setGlobalFilter="setGlobalFilter";var xr=function(u){u.stateReducers.push(Vr),u.useInstance.push(zr)};function Vr(u,C,w,D){if(C.type===l.resetGlobalFilter)return i({},u,{globalFilter:D.initialState.globalFilter||void 0});if(C.type===l.setGlobalFilter){var B=C.filterValue,F=D.userFilterTypes,U=G(D.globalFilter,F||{},wt),ee=S(B,u.globalFilter);return Z(U.autoRemove,ee)?(u.globalFilter,c(u,["globalFilter"])):i({},u,{globalFilter:ee})}}function zr(u){var C=u.data,w=u.rows,D=u.flatRows,B=u.rowsById,F=u.allColumns,U=u.filterTypes,ee=u.globalFilter,ae=u.manualGlobalFilter,le=u.state.globalFilter,Se=u.dispatch,Ce=u.autoResetGlobalFilter,ye=Ce===void 0||Ce,me=u.disableGlobalFilter,ve=n.useCallback(function(Re){Se({type:l.setGlobalFilter,filterValue:Re})},[Se]),Oe=n.useMemo(function(){if(ae||le===void 0)return[w,D,B];var Re=[],st={},qe=G(ee,U||{},wt);if(!qe)return console.warn("Could not find a valid 'globalFilter' option."),w;F.forEach(function(ft){var Ye=ft.disableGlobalFilter;ft.canFilter=M(Ye!==!0&&void 0,me!==!0&&void 0,!0)});var rt=F.filter(function(ft){return ft.canFilter===!0});return[function ft(Ye){return(Ye=qe(Ye,rt.map(function(tt){return tt.id}),le)).forEach(function(tt){Re.push(tt),st[tt.id]=tt,tt.subRows=tt.subRows&&tt.subRows.length?ft(tt.subRows):tt.subRows}),Ye}(w),Re,st]},[ae,le,ee,U,F,w,D,B,me]),Ie=Oe[0],$e=Oe[1],ct=Oe[2],ze=v(ye);N(function(){ze()&&Se({type:l.resetGlobalFilter})},[Se,ae?null:C]),Object.assign(u,{preGlobalFilteredRows:w,preGlobalFilteredFlatRows:D,preGlobalFilteredRowsById:B,globalFilteredRows:Ie,globalFilteredFlatRows:$e,globalFilteredRowsById:ct,rows:Ie,flatRows:$e,rowsById:ct,setGlobalFilter:ve,disableGlobalFilter:me})}function gn(u,C){return C.reduce(function(w,D){return w+(typeof D=="number"?D:0)},0)}xr.pluginName="useGlobalFilter";var bn=Object.freeze({__proto__:null,sum:gn,min:function(u){var C=u[0]||0;return u.forEach(function(w){typeof w=="number"&&(C=Math.min(C,w))}),C},max:function(u){var C=u[0]||0;return u.forEach(function(w){typeof w=="number"&&(C=Math.max(C,w))}),C},minMax:function(u){var C=u[0]||0,w=u[0]||0;return u.forEach(function(D){typeof D=="number"&&(C=Math.min(C,D),w=Math.max(w,D))}),C+".."+w},average:function(u){return gn(0,u)/u.length},median:function(u){if(!u.length)return null;var C=Math.floor(u.length/2),w=[].concat(u).sort(function(D,B){return D-B});return u.length%2!=0?w[C]:(w[C-1]+w[C])/2},unique:function(u){return Array.from(new Set(u).values())},uniqueCount:function(u){return new Set(u).size},count:function(u){return u.length}}),An=[],Cn={};l.resetGroupBy="resetGroupBy",l.setGroupBy="setGroupBy",l.toggleGroupBy="toggleGroupBy";var Ge=function(u){u.getGroupByToggleProps=[J],u.stateReducers.push(It),u.visibleColumnsDeps.push(function(C,w){var D=w.instance;return[].concat(C,[D.state.groupBy])}),u.visibleColumns.push(Ar),u.useInstance.push(ff),u.prepareRow.push(hf)};Ge.pluginName="useGroupBy";var J=function(u,C){var w=C.header;return[u,{onClick:w.canGroupBy?function(D){D.persist(),w.toggleGroupBy()}:void 0,style:{cursor:w.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function It(u,C,w,D){if(C.type===l.init)return i({groupBy:[]},u);if(C.type===l.resetGroupBy)return i({},u,{groupBy:D.initialState.groupBy||[]});if(C.type===l.setGroupBy)return i({},u,{groupBy:C.value});if(C.type===l.toggleGroupBy){var B=C.columnId,F=C.value,U=F!==void 0?F:!u.groupBy.includes(B);return i({},u,U?{groupBy:[].concat(u.groupBy,[B])}:{groupBy:u.groupBy.filter(function(ee){return ee!==B})})}}function Ar(u,C){var w=C.instance.state.groupBy,D=w.map(function(F){return u.find(function(U){return U.id===F})}).filter(Boolean),B=u.filter(function(F){return!w.includes(F.id)});return(u=[].concat(D,B)).forEach(function(F){F.isGrouped=w.includes(F.id),F.groupedIndex=w.indexOf(F.id)}),u}var mf={};function ff(u){var C=u.data,w=u.rows,D=u.flatRows,B=u.rowsById,F=u.allColumns,U=u.flatHeaders,ee=u.groupByFn,ae=ee===void 0?sl:ee,le=u.manualGroupBy,Se=u.aggregations,Ce=Se===void 0?mf:Se,ye=u.plugins,me=u.state.groupBy,ve=u.dispatch,Oe=u.autoResetGroupBy,Ie=Oe===void 0||Oe,$e=u.disableGroupBy,ct=u.defaultCanGroupBy,ze=u.getHooks;P(ye,["useColumnOrder","useFilters"],"useGroupBy");var Re=v(u);F.forEach(function(We){var gt=We.accessor,qt=We.defaultGroupBy,nr=We.disableGroupBy;We.canGroupBy=gt?M(We.canGroupBy,nr!==!0&&void 0,$e!==!0&&void 0,!0):M(We.canGroupBy,qt,ct,!1),We.canGroupBy&&(We.toggleGroupBy=function(){return u.toggleGroupBy(We.id)}),We.Aggregated=We.Aggregated||We.Cell});var st=n.useCallback(function(We,gt){ve({type:l.toggleGroupBy,columnId:We,value:gt})},[ve]),qe=n.useCallback(function(We){ve({type:l.setGroupBy,value:We})},[ve]);U.forEach(function(We){We.getGroupByToggleProps=b(ze().getGroupByToggleProps,{instance:Re(),header:We})});var rt=n.useMemo(function(){if(le||!me.length)return[w,D,B,An,Cn,D,B];var We=me.filter(function(Gt){return F.find(function(Hr){return Hr.id===Gt})}),gt=[],qt={},nr=[],Je={},Ft=[],Bt={},ar=function Gt(Hr,Ir,wl){if(Ir===void 0&&(Ir=0),Ir===We.length)return Hr.map(function(ma){return i({},ma,{depth:Ir})});var ro=We[Ir],nh=ae(Hr,ro);return Object.entries(nh).map(function(ma,ah){var jl=ma[0],fa=ma[1],ha=ro+":"+jl,Rl=Gt(fa,Ir+1,ha=wl?wl+">"+ha:ha),Tl=Ir?E(fa,"leafRows"):fa,sh=function(hr,no,ih){var ga={};return F.forEach(function(Ut){if(We.includes(Ut.id))ga[Ut.id]=no[0]?no[0].values[Ut.id]:null;else{var Nl=typeof Ut.aggregate=="function"?Ut.aggregate:Ce[Ut.aggregate]||bn[Ut.aggregate];if(Nl){var lh=no.map(function(ba){return ba.values[Ut.id]}),ch=hr.map(function(ba){var ao=ba.values[Ut.id];if(!ih&&Ut.aggregateValue){var Pl=typeof Ut.aggregateValue=="function"?Ut.aggregateValue:Ce[Ut.aggregateValue]||bn[Ut.aggregateValue];if(!Pl)throw console.info({column:Ut}),new Error("React Table: Invalid column.aggregateValue option for column listed above");ao=Pl(ao,ba,Ut)}return ao});ga[Ut.id]=Nl(ch,lh)}else{if(Ut.aggregate)throw console.info({column:Ut}),new Error("React Table: Invalid column.aggregate option for column listed above");ga[Ut.id]=null}}}),ga}(Tl,fa,Ir),oh={id:ha,isGrouped:!0,groupByID:ro,groupByVal:jl,values:sh,subRows:Rl,leafRows:Tl,depth:Ir,index:ah};return Rl.forEach(function(hr){gt.push(hr),qt[hr.id]=hr,hr.isGrouped?(nr.push(hr),Je[hr.id]=hr):(Ft.push(hr),Bt[hr.id]=hr)}),oh})}(w);return ar.forEach(function(Gt){gt.push(Gt),qt[Gt.id]=Gt,Gt.isGrouped?(nr.push(Gt),Je[Gt.id]=Gt):(Ft.push(Gt),Bt[Gt.id]=Gt)}),[ar,gt,qt,nr,Je,Ft,Bt]},[le,me,w,D,B,F,Ce,ae]),ft=rt[0],Ye=rt[1],tt=rt[2],xt=rt[3],at=rt[4],vt=rt[5],bt=rt[6],Mt=v(Ie);N(function(){Mt()&&ve({type:l.resetGroupBy})},[ve,le?null:C]),Object.assign(u,{preGroupedRows:w,preGroupedFlatRow:D,preGroupedRowsById:B,groupedRows:ft,groupedFlatRows:Ye,groupedRowsById:tt,onlyGroupedFlatRows:xt,onlyGroupedRowsById:at,nonGroupedFlatRows:vt,nonGroupedRowsById:bt,rows:ft,flatRows:Ye,rowsById:tt,toggleGroupBy:st,setGroupBy:qe})}function hf(u){u.allCells.forEach(function(C){var w;C.isGrouped=C.column.isGrouped&&C.column.id===u.groupByID,C.isPlaceholder=!C.isGrouped&&C.column.isGrouped,C.isAggregated=!C.isGrouped&&!C.isPlaceholder&&((w=u.subRows)==null?void 0:w.length)})}function sl(u,C){return u.reduce(function(w,D,B){var F=""+D.values[C];return w[F]=Array.isArray(w[F])?w[F]:[],w[F].push(D),w},{})}var ol=/([0-9]+)/gm;function Ys(u,C){return u===C?0:u>C?1:-1}function Fn(u,C,w){return[u.values[w],C.values[w]]}function il(u){return typeof u=="number"?isNaN(u)||u===1/0||u===-1/0?"":String(u):typeof u=="string"?u:""}var gf=Object.freeze({__proto__:null,alphanumeric:function(u,C,w){var D=Fn(u,C,w),B=D[0],F=D[1];for(B=il(B),F=il(F),B=B.split(ol).filter(Boolean),F=F.split(ol).filter(Boolean);B.length&&F.length;){var U=B.shift(),ee=F.shift(),ae=parseInt(U,10),le=parseInt(ee,10),Se=[ae,le].sort();if(isNaN(Se[0])){if(U>ee)return 1;if(ee>U)return-1}else{if(isNaN(Se[1]))return isNaN(ae)?-1:1;if(ae>le)return 1;if(le>ae)return-1}}return B.length-F.length},datetime:function(u,C,w){var D=Fn(u,C,w),B=D[0],F=D[1];return Ys(B=B.getTime(),F=F.getTime())},basic:function(u,C,w){var D=Fn(u,C,w);return Ys(D[0],D[1])},string:function(u,C,w){var D=Fn(u,C,w),B=D[0],F=D[1];for(B=B.split("").filter(Boolean),F=F.split("").filter(Boolean);B.length&&F.length;){var U=B.shift(),ee=F.shift(),ae=U.toLowerCase(),le=ee.toLowerCase();if(ae>le)return 1;if(le>ae)return-1;if(U>ee)return 1;if(ee>U)return-1}return B.length-F.length},number:function(u,C,w){var D=Fn(u,C,w),B=D[0],F=D[1],U=/[^0-9.]/gi;return Ys(B=Number(String(B).replace(U,"")),F=Number(String(F).replace(U,"")))}});l.resetSortBy="resetSortBy",l.setSortBy="setSortBy",l.toggleSortBy="toggleSortBy",l.clearSortBy="clearSortBy",y.sortType="alphanumeric",y.sortDescFirst=!1;var ll=function(u){u.getSortByToggleProps=[bf],u.stateReducers.push(Cf),u.useInstance.push(yf)};ll.pluginName="useSortBy";var bf=function(u,C){var w=C.instance,D=C.column,B=w.isMultiSortEvent,F=B===void 0?function(U){return U.shiftKey}:B;return[u,{onClick:D.canSort?function(U){U.persist(),D.toggleSortBy(void 0,!w.disableMultiSort&&F(U))}:void 0,style:{cursor:D.canSort?"pointer":void 0},title:D.canSort?"Toggle SortBy":void 0}]};function Cf(u,C,w,D){if(C.type===l.init)return i({sortBy:[]},u);if(C.type===l.resetSortBy)return i({},u,{sortBy:D.initialState.sortBy||[]});if(C.type===l.clearSortBy)return i({},u,{sortBy:u.sortBy.filter(function(Re){return Re.id!==C.columnId})});if(C.type===l.setSortBy)return i({},u,{sortBy:C.sortBy});if(C.type===l.toggleSortBy){var B,F=C.columnId,U=C.desc,ee=C.multi,ae=D.allColumns,le=D.disableMultiSort,Se=D.disableSortRemove,Ce=D.disableMultiRemove,ye=D.maxMultiSortColCount,me=ye===void 0?Number.MAX_SAFE_INTEGER:ye,ve=u.sortBy,Oe=ae.find(function(Re){return Re.id===F}).sortDescFirst,Ie=ve.find(function(Re){return Re.id===F}),$e=ve.findIndex(function(Re){return Re.id===F}),ct=U!=null,ze=[];return(B=!le&&ee?Ie?"toggle":"add":$e!==ve.length-1||ve.length!==1?"replace":Ie?"toggle":"replace")!="toggle"||Se||ct||ee&&Ce||!(Ie&&Ie.desc&&!Oe||!Ie.desc&&Oe)||(B="remove"),B==="replace"?ze=[{id:F,desc:ct?U:Oe}]:B==="add"?(ze=[].concat(ve,[{id:F,desc:ct?U:Oe}])).splice(0,ze.length-me):B==="toggle"?ze=ve.map(function(Re){return Re.id===F?i({},Re,{desc:ct?U:!Ie.desc}):Re}):B==="remove"&&(ze=ve.filter(function(Re){return Re.id!==F})),i({},u,{sortBy:ze})}}function yf(u){var C=u.data,w=u.rows,D=u.flatRows,B=u.allColumns,F=u.orderByFn,U=F===void 0?cl:F,ee=u.sortTypes,ae=u.manualSortBy,le=u.defaultCanSort,Se=u.disableSortBy,Ce=u.flatHeaders,ye=u.state.sortBy,me=u.dispatch,ve=u.plugins,Oe=u.getHooks,Ie=u.autoResetSortBy,$e=Ie===void 0||Ie;P(ve,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var ct=n.useCallback(function(Ye){me({type:l.setSortBy,sortBy:Ye})},[me]),ze=n.useCallback(function(Ye,tt,xt){me({type:l.toggleSortBy,columnId:Ye,desc:tt,multi:xt})},[me]),Re=v(u);Ce.forEach(function(Ye){var tt=Ye.accessor,xt=Ye.canSort,at=Ye.disableSortBy,vt=Ye.id,bt=tt?M(at!==!0&&void 0,Se!==!0&&void 0,!0):M(le,xt,!1);Ye.canSort=bt,Ye.canSort&&(Ye.toggleSortBy=function(We,gt){return ze(Ye.id,We,gt)},Ye.clearSortBy=function(){me({type:l.clearSortBy,columnId:Ye.id})}),Ye.getSortByToggleProps=b(Oe().getSortByToggleProps,{instance:Re(),column:Ye});var Mt=ye.find(function(We){return We.id===vt});Ye.isSorted=!!Mt,Ye.sortedIndex=ye.findIndex(function(We){return We.id===vt}),Ye.isSortedDesc=Ye.isSorted?Mt.desc:void 0});var st=n.useMemo(function(){if(ae||!ye.length)return[w,D];var Ye=[],tt=ye.filter(function(xt){return B.find(function(at){return at.id===xt.id})});return[function xt(at){var vt=U(at,tt.map(function(bt){var Mt=B.find(function(qt){return qt.id===bt.id});if(!Mt)throw new Error("React-Table: Could not find a column with id: "+bt.id+" while sorting");var We=Mt.sortType,gt=V(We)||(ee||{})[We]||gf[We];if(!gt)throw new Error("React-Table: Could not find a valid sortType of '"+We+"' for column '"+bt.id+"'.");return function(qt,nr){return gt(qt,nr,bt.id,bt.desc)}}),tt.map(function(bt){var Mt=B.find(function(We){return We.id===bt.id});return Mt&&Mt.sortInverted?bt.desc:!bt.desc}));return vt.forEach(function(bt){Ye.push(bt),bt.subRows&&bt.subRows.length!==0&&(bt.subRows=xt(bt.subRows))}),vt}(w),Ye]},[ae,ye,w,D,B,U,ee]),qe=st[0],rt=st[1],ft=v($e);N(function(){ft()&&me({type:l.resetSortBy})},[ae?null:C]),Object.assign(u,{preSortedRows:w,preSortedFlatRows:D,sortedRows:qe,sortedFlatRows:rt,rows:qe,flatRows:rt,setSortBy:ct,toggleSortBy:ze})}function cl(u,C,w){return[].concat(u).sort(function(D,B){for(var F=0;F<C.length;F+=1){var U=C[F],ee=w[F]===!1||w[F]==="desc",ae=U(D,B);if(ae!==0)return ee?-ae:ae}return w[0]?D.index-B.index:B.index-D.index})}l.resetPage="resetPage",l.gotoPage="gotoPage",l.setPageSize="setPageSize";var dl=function(u){u.stateReducers.push(vf),u.useInstance.push(xf)};function vf(u,C,w,D){if(C.type===l.init)return i({pageSize:10,pageIndex:0},u);if(C.type===l.resetPage)return i({},u,{pageIndex:D.initialState.pageIndex||0});if(C.type===l.gotoPage){var B=D.pageCount,F=D.page,U=S(C.pageIndex,u.pageIndex),ee=!1;return U>u.pageIndex?ee=B===-1?F.length>=u.pageSize:U<B:U<u.pageIndex&&(ee=U>-1),ee?i({},u,{pageIndex:U}):u}if(C.type===l.setPageSize){var ae=C.pageSize,le=u.pageSize*u.pageIndex;return i({},u,{pageIndex:Math.floor(le/ae),pageSize:ae})}}function xf(u){var C=u.rows,w=u.autoResetPage,D=w===void 0||w,B=u.manualExpandedKey,F=B===void 0?"expanded":B,U=u.plugins,ee=u.pageCount,ae=u.paginateExpandedRows,le=ae===void 0||ae,Se=u.expandSubRows,Ce=Se===void 0||Se,ye=u.state,me=ye.pageSize,ve=ye.pageIndex,Oe=ye.expanded,Ie=ye.globalFilter,$e=ye.filters,ct=ye.groupBy,ze=ye.sortBy,Re=u.dispatch,st=u.data,qe=u.manualPagination;P(U,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var rt=v(D);N(function(){rt()&&Re({type:l.resetPage})},[Re,qe?null:st,Ie,$e,ct,ze]);var ft=qe?ee:Math.ceil(C.length/me),Ye=n.useMemo(function(){return ft>0?[].concat(new Array(ft)).fill(null).map(function(gt,qt){return qt}):[]},[ft]),tt=n.useMemo(function(){var gt;if(qe)gt=C;else{var qt=me*ve,nr=qt+me;gt=C.slice(qt,nr)}return le?gt:T(gt,{manualExpandedKey:F,expanded:Oe,expandSubRows:Ce})},[Ce,Oe,F,qe,ve,me,le,C]),xt=ve>0,at=ft===-1?tt.length>=me:ve<ft-1,vt=n.useCallback(function(gt){Re({type:l.gotoPage,pageIndex:gt})},[Re]),bt=n.useCallback(function(){return vt(function(gt){return gt-1})},[vt]),Mt=n.useCallback(function(){return vt(function(gt){return gt+1})},[vt]),We=n.useCallback(function(gt){Re({type:l.setPageSize,pageSize:gt})},[Re]);Object.assign(u,{pageOptions:Ye,pageCount:ft,page:tt,canPreviousPage:xt,canNextPage:at,gotoPage:vt,previousPage:bt,nextPage:Mt,setPageSize:We})}dl.pluginName="usePagination",l.resetPivot="resetPivot",l.togglePivot="togglePivot";var ul=function(u){u.getPivotToggleProps=[Sf],u.stateReducers.push(wf),u.useInstanceAfterData.push(jf),u.allColumns.push(Rf),u.accessValue.push(Tf),u.materializedColumns.push(Nf),u.materializedColumnsDeps.push(Pf),u.visibleColumns.push(Df),u.visibleColumnsDeps.push(Ef),u.useInstance.push(Mf),u.prepareRow.push(Of)};ul.pluginName="usePivotColumns";var pl=[],Sf=function(u,C){var w=C.header;return[u,{onClick:w.canPivot?function(D){D.persist(),w.togglePivot()}:void 0,style:{cursor:w.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function wf(u,C,w,D){if(C.type===l.init)return i({pivotColumns:pl},u);if(C.type===l.resetPivot)return i({},u,{pivotColumns:D.initialState.pivotColumns||pl});if(C.type===l.togglePivot){var B=C.columnId,F=C.value,U=F!==void 0?F:!u.pivotColumns.includes(B);return i({},u,U?{pivotColumns:[].concat(u.pivotColumns,[B])}:{pivotColumns:u.pivotColumns.filter(function(ee){return ee!==B})})}}function jf(u){u.allColumns.forEach(function(C){C.isPivotSource=u.state.pivotColumns.includes(C.id)})}function Rf(u,C){var w=C.instance;return u.forEach(function(D){D.isPivotSource=w.state.pivotColumns.includes(D.id),D.uniqueValues=new Set}),u}function Tf(u,C){var w=C.column;return w.uniqueValues&&u!==void 0&&w.uniqueValues.add(u),u}function Nf(u,C){var w=C.instance,D=w.allColumns,B=w.state;if(!B.pivotColumns.length||!B.groupBy||!B.groupBy.length)return u;var F=B.pivotColumns.map(function(ae){return D.find(function(le){return le.id===ae})}).filter(Boolean),U=D.filter(function(ae){return!ae.isPivotSource&&!B.groupBy.includes(ae.id)&&!B.pivotColumns.includes(ae.id)}),ee=k(function ae(le,Se,Ce){le===void 0&&(le=0),Ce===void 0&&(Ce=[]);var ye=F[le];return ye?Array.from(ye.uniqueValues).sort().map(function(me){var ve=i({},ye,{Header:ye.PivotHeader||typeof ye.header=="string"?ye.Header+": "+me:me,isPivotGroup:!0,parent:Se,depth:le,id:Se?Se.id+"."+ye.id+"."+me:ye.id+"."+me,pivotValue:me});return ve.columns=ae(le+1,ve,[].concat(Ce,[function(Oe){return Oe.values[ye.id]===me}])),ve}):U.map(function(me){return i({},me,{canPivot:!1,isPivoted:!0,parent:Se,depth:le,id:""+(Se?Se.id+"."+me.id:me.id),accessor:function(ve,Oe,Ie){if(Ce.every(function($e){return $e(Ie)}))return Ie.values[me.id]}})})}());return[].concat(u,ee)}function Pf(u,C){var w=C.instance.state,D=w.pivotColumns,B=w.groupBy;return[].concat(u,[D,B])}function Df(u,C){var w=C.instance.state;return u=u.filter(function(D){return!D.isPivotSource}),w.pivotColumns.length&&w.groupBy&&w.groupBy.length&&(u=u.filter(function(D){return D.isGrouped||D.isPivoted})),u}function Ef(u,C){var w=C.instance;return[].concat(u,[w.state.pivotColumns,w.state.groupBy])}function Mf(u){var C=u.columns,w=u.allColumns,D=u.flatHeaders,B=u.getHooks,F=u.plugins,U=u.dispatch,ee=u.autoResetPivot,ae=ee===void 0||ee,le=u.manaulPivot,Se=u.disablePivot,Ce=u.defaultCanPivot;P(F,["useGroupBy"],"usePivotColumns");var ye=v(u);w.forEach(function(ve){var Oe=ve.accessor,Ie=ve.defaultPivot,$e=ve.disablePivot;ve.canPivot=Oe?M(ve.canPivot,$e!==!0&&void 0,Se!==!0&&void 0,!0):M(ve.canPivot,Ie,Ce,!1),ve.canPivot&&(ve.togglePivot=function(){return u.togglePivot(ve.id)}),ve.Aggregated=ve.Aggregated||ve.Cell}),D.forEach(function(ve){ve.getPivotToggleProps=b(B().getPivotToggleProps,{instance:ye(),header:ve})});var me=v(ae);N(function(){me()&&U({type:l.resetPivot})},[U,le?null:C]),Object.assign(u,{togglePivot:function(ve,Oe){U({type:l.togglePivot,columnId:ve,value:Oe})}})}function Of(u){u.allCells.forEach(function(C){C.isPivoted=C.column.isPivoted})}l.resetSelectedRows="resetSelectedRows",l.toggleAllRowsSelected="toggleAllRowsSelected",l.toggleRowSelected="toggleRowSelected",l.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ml=function(u){u.getToggleRowSelectedProps=[kf],u.getToggleAllRowsSelectedProps=[Af],u.getToggleAllPageRowsSelectedProps=[Ff],u.stateReducers.push(If),u.useInstance.push(qf),u.prepareRow.push(_f)};ml.pluginName="useRowSelect";var kf=function(u,C){var w=C.instance,D=C.row,B=w.manualRowSelectedKey,F=B===void 0?"isSelected":B;return[u,{onChange:function(U){D.toggleRowSelected(U.target.checked)},style:{cursor:"pointer"},checked:!(!D.original||!D.original[F])||D.isSelected,title:"Toggle Row Selected",indeterminate:D.isSomeSelected}]},Af=function(u,C){var w=C.instance;return[u,{onChange:function(D){w.toggleAllRowsSelected(D.target.checked)},style:{cursor:"pointer"},checked:w.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!w.isAllRowsSelected&&Object.keys(w.state.selectedRowIds).length)}]},Ff=function(u,C){var w=C.instance;return[u,{onChange:function(D){w.toggleAllPageRowsSelected(D.target.checked)},style:{cursor:"pointer"},checked:w.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!w.isAllPageRowsSelected&&w.page.some(function(D){var B=D.id;return w.state.selectedRowIds[B]}))}]};function If(u,C,w,D){if(C.type===l.init)return i({selectedRowIds:{}},u);if(C.type===l.resetSelectedRows)return i({},u,{selectedRowIds:D.initialState.selectedRowIds||{}});if(C.type===l.toggleAllRowsSelected){var B=C.value,F=D.isAllRowsSelected,U=D.rowsById,ee=D.nonGroupedRowsById,ae=ee===void 0?U:ee,le=B!==void 0?B:!F,Se=Object.assign({},u.selectedRowIds);return le?Object.keys(ae).forEach(function(vt){Se[vt]=!0}):Object.keys(ae).forEach(function(vt){delete Se[vt]}),i({},u,{selectedRowIds:Se})}if(C.type===l.toggleRowSelected){var Ce=C.id,ye=C.value,me=D.rowsById,ve=D.selectSubRows,Oe=ve===void 0||ve,Ie=D.getSubRows,$e=u.selectedRowIds[Ce],ct=ye!==void 0?ye:!$e;if($e===ct)return u;var ze=i({},u.selectedRowIds);return function vt(bt){var Mt=me[bt];if(Mt&&(Mt.isGrouped||(ct?ze[bt]=!0:delete ze[bt]),Oe&&Ie(Mt)))return Ie(Mt).forEach(function(We){return vt(We.id)})}(Ce),i({},u,{selectedRowIds:ze})}if(C.type===l.toggleAllPageRowsSelected){var Re=C.value,st=D.page,qe=D.rowsById,rt=D.selectSubRows,ft=rt===void 0||rt,Ye=D.isAllPageRowsSelected,tt=D.getSubRows,xt=Re!==void 0?Re:!Ye,at=i({},u.selectedRowIds);return st.forEach(function(vt){return function bt(Mt){var We=qe[Mt];if(We.isGrouped||(xt?at[Mt]=!0:delete at[Mt]),ft&&tt(We))return tt(We).forEach(function(gt){return bt(gt.id)})}(vt.id)}),i({},u,{selectedRowIds:at})}return u}function qf(u){var C=u.data,w=u.rows,D=u.getHooks,B=u.plugins,F=u.rowsById,U=u.nonGroupedRowsById,ee=U===void 0?F:U,ae=u.autoResetSelectedRows,le=ae===void 0||ae,Se=u.state.selectedRowIds,Ce=u.selectSubRows,ye=Ce===void 0||Ce,me=u.dispatch,ve=u.page,Oe=u.getSubRows;P(B,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var Ie=n.useMemo(function(){var tt=[];return w.forEach(function(xt){var at=ye?function vt(bt,Mt,We){if(Mt[bt.id])return!0;var gt=We(bt);if(gt&&gt.length){var qt=!0,nr=!1;return gt.forEach(function(Je){nr&&!qt||(vt(Je,Mt,We)?nr=!0:qt=!1)}),!!qt||!!nr&&null}return!1}(xt,Se,Oe):!!Se[xt.id];xt.isSelected=!!at,xt.isSomeSelected=at===null,at&&tt.push(xt)}),tt},[w,ye,Se,Oe]),$e=!!(Object.keys(ee).length&&Object.keys(Se).length),ct=$e;$e&&Object.keys(ee).some(function(tt){return!Se[tt]})&&($e=!1),$e||ve&&ve.length&&ve.some(function(tt){var xt=tt.id;return!Se[xt]})&&(ct=!1);var ze=v(le);N(function(){ze()&&me({type:l.resetSelectedRows})},[me,C]);var Re=n.useCallback(function(tt){return me({type:l.toggleAllRowsSelected,value:tt})},[me]),st=n.useCallback(function(tt){return me({type:l.toggleAllPageRowsSelected,value:tt})},[me]),qe=n.useCallback(function(tt,xt){return me({type:l.toggleRowSelected,id:tt,value:xt})},[me]),rt=v(u),ft=b(D().getToggleAllRowsSelectedProps,{instance:rt()}),Ye=b(D().getToggleAllPageRowsSelectedProps,{instance:rt()});Object.assign(u,{selectedFlatRows:Ie,isAllRowsSelected:$e,isAllPageRowsSelected:ct,toggleRowSelected:qe,toggleAllRowsSelected:Re,getToggleAllRowsSelectedProps:ft,getToggleAllPageRowsSelectedProps:Ye,toggleAllPageRowsSelected:st})}function _f(u,C){var w=C.instance;u.toggleRowSelected=function(D){return w.toggleRowSelected(u.id,D)},u.getToggleRowSelectedProps=b(w.getHooks().getToggleRowSelectedProps,{instance:w,row:u})}var fl=function(u){return{}},hl=function(u){return{}};l.setRowState="setRowState",l.setCellState="setCellState",l.resetRowState="resetRowState";var gl=function(u){u.stateReducers.push(Lf),u.useInstance.push(Bf),u.prepareRow.push(Uf)};function Lf(u,C,w,D){var B=D.initialRowStateAccessor,F=B===void 0?fl:B,U=D.initialCellStateAccessor,ee=U===void 0?hl:U,ae=D.rowsById;if(C.type===l.init)return i({rowState:{}},u);if(C.type===l.resetRowState)return i({},u,{rowState:D.initialState.rowState||{}});if(C.type===l.setRowState){var le,Se=C.rowId,Ce=C.value,ye=u.rowState[Se]!==void 0?u.rowState[Se]:F(ae[Se]);return i({},u,{rowState:i({},u.rowState,(le={},le[Se]=S(Ce,ye),le))})}if(C.type===l.setCellState){var me,ve,Oe,Ie,$e,ct=C.rowId,ze=C.columnId,Re=C.value,st=u.rowState[ct]!==void 0?u.rowState[ct]:F(ae[ct]),qe=(st==null||(me=st.cellState)==null?void 0:me[ze])!==void 0?st.cellState[ze]:ee((ve=ae[ct])==null||(Oe=ve.cells)==null?void 0:Oe.find(function(rt){return rt.column.id===ze}));return i({},u,{rowState:i({},u.rowState,($e={},$e[ct]=i({},st,{cellState:i({},st.cellState||{},(Ie={},Ie[ze]=S(Re,qe),Ie))}),$e))})}}function Bf(u){var C=u.autoResetRowState,w=C===void 0||C,D=u.data,B=u.dispatch,F=n.useCallback(function(ae,le){return B({type:l.setRowState,rowId:ae,value:le})},[B]),U=n.useCallback(function(ae,le,Se){return B({type:l.setCellState,rowId:ae,columnId:le,value:Se})},[B]),ee=v(w);N(function(){ee()&&B({type:l.resetRowState})},[D]),Object.assign(u,{setRowState:F,setCellState:U})}function Uf(u,C){var w=C.instance,D=w.initialRowStateAccessor,B=D===void 0?fl:D,F=w.initialCellStateAccessor,U=F===void 0?hl:F,ee=w.state.rowState;u&&(u.state=ee[u.id]!==void 0?ee[u.id]:B(u),u.setState=function(ae){return w.setRowState(u.id,ae)},u.cells.forEach(function(ae){u.state.cellState||(u.state.cellState={}),ae.state=u.state.cellState[ae.column.id]!==void 0?u.state.cellState[ae.column.id]:U(ae),ae.setState=function(le){return w.setCellState(u.id,ae.column.id,le)}}))}gl.pluginName="useRowState",l.resetColumnOrder="resetColumnOrder",l.setColumnOrder="setColumnOrder";var bl=function(u){u.stateReducers.push(Vf),u.visibleColumnsDeps.push(function(C,w){var D=w.instance;return[].concat(C,[D.state.columnOrder])}),u.visibleColumns.push(zf),u.useInstance.push(Hf)};function Vf(u,C,w,D){return C.type===l.init?i({columnOrder:[]},u):C.type===l.resetColumnOrder?i({},u,{columnOrder:D.initialState.columnOrder||[]}):C.type===l.setColumnOrder?i({},u,{columnOrder:S(C.columnOrder,u.columnOrder)}):void 0}function zf(u,C){var w=C.instance.state.columnOrder;if(!w||!w.length)return u;for(var D=[].concat(w),B=[].concat(u),F=[],U=function(){var ee=D.shift(),ae=B.findIndex(function(le){return le.id===ee});ae>-1&&F.push(B.splice(ae,1)[0])};B.length&&D.length;)U();return[].concat(F,B)}function Hf(u){var C=u.dispatch;u.setColumnOrder=n.useCallback(function(w){return C({type:l.setColumnOrder,columnOrder:w})},[C])}bl.pluginName="useColumnOrder",y.canResize=!0,l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize";var Cl=function(u){u.getResizerProps=[Gf],u.getHeaderProps.push({style:{position:"relative"}}),u.stateReducers.push($f),u.useInstance.push(Kf),u.useInstanceBeforeDimensions.push(Wf)},Gf=function(u,C){var w=C.instance,D=C.header,B=w.dispatch,F=function(U,ee){var ae=!1;if(U.type==="touchstart"){if(U.touches&&U.touches.length>1)return;ae=!0}var le,Se,Ce=function(ze){var Re=[];return function st(qe){qe.columns&&qe.columns.length&&qe.columns.map(st),Re.push(qe)}(ze),Re}(ee).map(function(ze){return[ze.id,ze.totalWidth]}),ye=ae?Math.round(U.touches[0].clientX):U.clientX,me=function(){window.cancelAnimationFrame(le),le=null,B({type:l.columnDoneResizing})},ve=function(){window.cancelAnimationFrame(le),le=null,B({type:l.columnResizing,clientX:Se})},Oe=function(ze){Se=ze,le||(le=window.requestAnimationFrame(ve))},Ie={mouse:{moveEvent:"mousemove",moveHandler:function(ze){return Oe(ze.clientX)},upEvent:"mouseup",upHandler:function(ze){document.removeEventListener("mousemove",Ie.mouse.moveHandler),document.removeEventListener("mouseup",Ie.mouse.upHandler),me()}},touch:{moveEvent:"touchmove",moveHandler:function(ze){return ze.cancelable&&(ze.preventDefault(),ze.stopPropagation()),Oe(ze.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(ze){document.removeEventListener(Ie.touch.moveEvent,Ie.touch.moveHandler),document.removeEventListener(Ie.touch.upEvent,Ie.touch.moveHandler),me()}}},$e=ae?Ie.touch:Ie.mouse,ct=!!function(){if(typeof ne=="boolean")return ne;var ze=!1;try{var Re={get passive(){return ze=!0,!1}};window.addEventListener("test",null,Re),window.removeEventListener("test",null,Re)}catch{ze=!1}return ne=ze}()&&{passive:!1};document.addEventListener($e.moveEvent,$e.moveHandler,ct),document.addEventListener($e.upEvent,$e.upHandler,ct),B({type:l.columnStartResizing,columnId:ee.id,columnWidth:ee.totalWidth,headerIdWidths:Ce,clientX:ye})};return[u,{onMouseDown:function(U){return U.persist()||F(U,D)},onTouchStart:function(U){return U.persist()||F(U,D)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function $f(u,C){if(C.type===l.init)return i({columnResizing:{columnWidths:{}}},u);if(C.type===l.resetResize)return i({},u,{columnResizing:{columnWidths:{}}});if(C.type===l.columnStartResizing){var w=C.clientX,D=C.columnId,B=C.columnWidth,F=C.headerIdWidths;return i({},u,{columnResizing:i({},u.columnResizing,{startX:w,headerIdWidths:F,columnWidth:B,isResizingColumn:D})})}if(C.type===l.columnResizing){var U=C.clientX,ee=u.columnResizing,ae=ee.startX,le=ee.columnWidth,Se=ee.headerIdWidths,Ce=(U-ae)/le,ye={};return(Se===void 0?[]:Se).forEach(function(me){var ve=me[0],Oe=me[1];ye[ve]=Math.max(Oe+Oe*Ce,0)}),i({},u,{columnResizing:i({},u.columnResizing,{columnWidths:i({},u.columnResizing.columnWidths,{},ye)})})}return C.type===l.columnDoneResizing?i({},u,{columnResizing:i({},u.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Cl.pluginName="useResizeColumns";var Wf=function(u){var C=u.flatHeaders,w=u.disableResizing,D=u.getHooks,B=u.state.columnResizing,F=v(u);C.forEach(function(U){var ee=M(U.disableResizing!==!0&&void 0,w!==!0&&void 0,!0);U.canResize=ee,U.width=B.columnWidths[U.id]||U.originalWidth||U.width,U.isResizing=B.isResizingColumn===U.id,ee&&(U.getResizerProps=b(D().getResizerProps,{instance:F(),header:U}))})};function Kf(u){var C=u.plugins,w=u.dispatch,D=u.autoResetResize,B=D===void 0||D,F=u.columns;P(C,["useAbsoluteLayout"],"useResizeColumns");var U=v(B);N(function(){U()&&w({type:l.resetResize})},[F]);var ee=n.useCallback(function(){return w({type:l.resetResize})},[w]);Object.assign(u,{resetResizing:ee})}var Js={position:"absolute",top:0},yl=function(u){u.getTableBodyProps.push(pa),u.getRowProps.push(pa),u.getHeaderGroupProps.push(pa),u.getFooterGroupProps.push(pa),u.getHeaderProps.push(function(C,w){var D=w.column;return[C,{style:i({},Js,{left:D.totalLeft+"px",width:D.totalWidth+"px"})}]}),u.getCellProps.push(function(C,w){var D=w.cell;return[C,{style:i({},Js,{left:D.column.totalLeft+"px",width:D.column.totalWidth+"px"})}]}),u.getFooterProps.push(function(C,w){var D=w.column;return[C,{style:i({},Js,{left:D.totalLeft+"px",width:D.totalWidth+"px"})}]})};yl.pluginName="useAbsoluteLayout";var pa=function(u,C){return[u,{style:{position:"relative",width:C.instance.totalColumnsWidth+"px"}}]},Qs={display:"inline-block",boxSizing:"border-box"},Zs=function(u,C){return[u,{style:{display:"flex",width:C.instance.totalColumnsWidth+"px"}}]},vl=function(u){u.getRowProps.push(Zs),u.getHeaderGroupProps.push(Zs),u.getFooterGroupProps.push(Zs),u.getHeaderProps.push(function(C,w){var D=w.column;return[C,{style:i({},Qs,{width:D.totalWidth+"px"})}]}),u.getCellProps.push(function(C,w){var D=w.cell;return[C,{style:i({},Qs,{width:D.column.totalWidth+"px"})}]}),u.getFooterProps.push(function(C,w){var D=w.column;return[C,{style:i({},Qs,{width:D.totalWidth+"px"})}]})};function xl(u){u.getTableProps.push(Xf),u.getRowProps.push(eo),u.getHeaderGroupProps.push(eo),u.getFooterGroupProps.push(eo),u.getHeaderProps.push(Yf),u.getCellProps.push(Jf),u.getFooterProps.push(Qf)}vl.pluginName="useBlockLayout",xl.pluginName="useFlexLayout";var Xf=function(u,C){return[u,{style:{minWidth:C.instance.totalColumnsMinWidth+"px"}}]},eo=function(u,C){return[u,{style:{display:"flex",flex:"1 0 auto",minWidth:C.instance.totalColumnsMinWidth+"px"}}]},Yf=function(u,C){var w=C.column;return[u,{style:{boxSizing:"border-box",flex:w.totalFlexWidth?w.totalFlexWidth+" 0 auto":void 0,minWidth:w.totalMinWidth+"px",width:w.totalWidth+"px"}}]},Jf=function(u,C){var w=C.cell;return[u,{style:{boxSizing:"border-box",flex:w.column.totalFlexWidth+" 0 auto",minWidth:w.column.totalMinWidth+"px",width:w.column.totalWidth+"px"}}]},Qf=function(u,C){var w=C.column;return[u,{style:{boxSizing:"border-box",flex:w.totalFlexWidth?w.totalFlexWidth+" 0 auto":void 0,minWidth:w.totalMinWidth+"px",width:w.totalWidth+"px"}}]};function Sl(u){u.stateReducers.push(rh),u.getTableProps.push(Zf),u.getHeaderProps.push(eh),u.getRowProps.push(th)}l.columnStartResizing="columnStartResizing",l.columnResizing="columnResizing",l.columnDoneResizing="columnDoneResizing",l.resetResize="resetResize",Sl.pluginName="useGridLayout";var Zf=function(u,C){var w=C.instance;return[u,{style:{display:"grid",gridTemplateColumns:w.visibleColumns.map(function(D){var B;return w.state.gridLayout.columnWidths[D.id]?w.state.gridLayout.columnWidths[D.id]+"px":(B=w.state.columnResizing)!=null&&B.isResizingColumn?w.state.gridLayout.startWidths[D.id]+"px":typeof D.width=="number"?D.width+"px":D.width}).join(" ")}}]},eh=function(u,C){var w=C.column;return[u,{id:"header-cell-"+w.id,style:{position:"sticky",gridColumn:"span "+w.totalVisibleHeaderCount}}]},th=function(u,C){var w=C.row;return w.isExpanded?[u,{style:{gridColumn:"1 / "+(w.cells.length+1)}}]:[u,{}]};function rh(u,C,w,D){if(C.type===l.init)return i({gridLayout:{columnWidths:{}}},u);if(C.type===l.resetResize)return i({},u,{gridLayout:{columnWidths:{}}});if(C.type===l.columnStartResizing){var B=C.columnId,F=C.headerIdWidths,U=to(B);if(U!==void 0){var ee=D.visibleColumns.reduce(function(Re,st){var qe;return i({},Re,((qe={})[st.id]=to(st.id),qe))},{}),ae=D.visibleColumns.reduce(function(Re,st){var qe;return i({},Re,((qe={})[st.id]=st.minWidth,qe))},{}),le=D.visibleColumns.reduce(function(Re,st){var qe;return i({},Re,((qe={})[st.id]=st.maxWidth,qe))},{}),Se=F.map(function(Re){var st=Re[0];return[st,to(st)]});return i({},u,{gridLayout:i({},u.gridLayout,{startWidths:ee,minWidths:ae,maxWidths:le,headerIdGridWidths:Se,columnWidth:U})})}return u}if(C.type===l.columnResizing){var Ce=C.clientX,ye=u.columnResizing.startX,me=u.gridLayout,ve=me.columnWidth,Oe=me.minWidths,Ie=me.maxWidths,$e=me.headerIdGridWidths,ct=(Ce-ye)/ve,ze={};return($e===void 0?[]:$e).forEach(function(Re){var st=Re[0],qe=Re[1];ze[st]=Math.min(Math.max(Oe[st],qe+qe*ct),Ie[st])}),i({},u,{gridLayout:i({},u.gridLayout,{columnWidths:i({},u.gridLayout.columnWidths,{},ze)})})}return C.type===l.columnDoneResizing?i({},u,{gridLayout:i({},u.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function to(u){var C,w=(C=document.getElementById("header-cell-"+u))==null?void 0:C.offsetWidth;if(w!==void 0)return w}r._UNSTABLE_usePivotColumns=ul,r.actions=l,r.defaultColumn=y,r.defaultGroupByFn=sl,r.defaultOrderByFn=cl,r.defaultRenderer=m,r.emptyRenderer=h,r.ensurePluginOrder=P,r.flexRender=O,r.functionalUpdate=S,r.loopHooks=g,r.makePropGetter=b,r.makeRenderer=_,r.reduceHooks=R,r.safeUseLayoutEffect=I,r.useAbsoluteLayout=yl,r.useAsyncDebounce=function(u,C){C===void 0&&(C=0);var w=n.useRef({}),D=v(u),B=v(C);return n.useCallback(function(){var F=o(regeneratorRuntime.mark(function U(){var ee,ae,le,Se=arguments;return regeneratorRuntime.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:for(ee=Se.length,ae=new Array(ee),le=0;le<ee;le++)ae[le]=Se[le];return w.current.promise||(w.current.promise=new Promise(function(ye,me){w.current.resolve=ye,w.current.reject=me})),w.current.timeout&&clearTimeout(w.current.timeout),w.current.timeout=setTimeout(o(regeneratorRuntime.mark(function ye(){return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return delete w.current.timeout,me.prev=1,me.t0=w.current,me.next=5,D().apply(void 0,ae);case 5:me.t1=me.sent,me.t0.resolve.call(me.t0,me.t1),me.next=12;break;case 9:me.prev=9,me.t2=me.catch(1),w.current.reject(me.t2);case 12:return me.prev=12,delete w.current.promise,me.finish(12);case 15:case"end":return me.stop()}},ye,null,[[1,9,12,15]])})),B()),Ce.abrupt("return",w.current.promise);case 5:case"end":return Ce.stop()}},U)}));return function(){return F.apply(this,arguments)}}(),[D,B])},r.useBlockLayout=vl,r.useColumnOrder=bl,r.useExpanded=W,r.useFilters=Nt,r.useFlexLayout=xl,r.useGetLatest=v,r.useGlobalFilter=xr,r.useGridLayout=Sl,r.useGroupBy=Ge,r.useMountedLayoutEffect=N,r.usePagination=dl,r.useResizeColumns=Cl,r.useRowSelect=ml,r.useRowState=gl,r.useSortBy=ll,r.useTable=function(u){for(var C=arguments.length,w=new Array(C>1?C-1:0),D=1;D<C;D++)w[D-1]=arguments[D];u=Lt(u),w=[fe].concat(w);var B=n.useRef({}),F=v(B.current);Object.assign(F(),i({},u,{plugins:w,hooks:we()})),w.filter(Boolean).forEach(function(Je){Je(F().hooks)});var U=v(F().hooks);F().getHooks=U,delete F().hooks,Object.assign(F(),R(U().useOptions,Lt(u)));var ee=F(),ae=ee.data,le=ee.columns,Se=ee.initialState,Ce=ee.defaultColumn,ye=ee.getSubRows,me=ee.getRowId,ve=ee.stateReducer,Oe=ee.useControlledState,Ie=v(ve),$e=n.useCallback(function(Je,Ft){if(!Ft.type)throw console.info({action:Ft}),new Error("Unknown Action 👆");return[].concat(U().stateReducers,Array.isArray(Ie())?Ie():[Ie()]).reduce(function(Bt,ar){return ar(Bt,Ft,Je,F())||Bt},Je)},[U,Ie,F]),ct=n.useReducer($e,void 0,function(){return $e(Se,{type:l.init})}),ze=ct[0],Re=ct[1],st=R([].concat(U().useControlledState,[Oe]),ze,{instance:F()});Object.assign(F(),{state:st,dispatch:Re});var qe=n.useMemo(function(){return j(R(U().columns,le,{instance:F()}))},[U,F,le].concat(R(U().columnsDeps,[],{instance:F()})));F().columns=qe;var rt=n.useMemo(function(){return R(U().allColumns,k(qe),{instance:F()}).map(q)},[qe,U,F].concat(R(U().allColumnsDeps,[],{instance:F()})));F().allColumns=rt;var ft=n.useMemo(function(){for(var Je=[],Ft=[],Bt={},ar=[].concat(rt);ar.length;){var Gt=ar.shift();de({data:ae,rows:Je,flatRows:Ft,rowsById:Bt,column:Gt,getRowId:me,getSubRows:ye,accessValueHooks:U().accessValue,getInstance:F})}return[Je,Ft,Bt]},[rt,ae,me,ye,U,F]),Ye=ft[0],tt=ft[1],xt=ft[2];Object.assign(F(),{rows:Ye,initialRows:[].concat(Ye),flatRows:tt,rowsById:xt}),g(U().useInstanceAfterData,F());var at=n.useMemo(function(){return R(U().visibleColumns,rt,{instance:F()}).map(function(Je){return $(Je,Ce)})},[U,rt,F,Ce].concat(R(U().visibleColumnsDeps,[],{instance:F()})));rt=n.useMemo(function(){var Je=[].concat(at);return rt.forEach(function(Ft){Je.find(function(Bt){return Bt.id===Ft.id})||Je.push(Ft)}),Je},[rt,at]),F().allColumns=rt;var vt=n.useMemo(function(){return R(U().headerGroups,L(at,Ce),F())},[U,at,Ce,F].concat(R(U().headerGroupsDeps,[],{instance:F()})));F().headerGroups=vt;var bt=n.useMemo(function(){return vt.length?vt[0].headers:[]},[vt]);F().headers=bt,F().flatHeaders=vt.reduce(function(Je,Ft){return[].concat(Je,Ft.headers)},[]),g(U().useInstanceBeforeDimensions,F());var Mt=at.filter(function(Je){return Je.isVisible}).map(function(Je){return Je.id}).sort().join("_");at=n.useMemo(function(){return at.filter(function(Je){return Je.isVisible})},[at,Mt]),F().visibleColumns=at;var We=er(bt),gt=We[0],qt=We[1],nr=We[2];return F().totalColumnsMinWidth=gt,F().totalColumnsWidth=qt,F().totalColumnsMaxWidth=nr,g(U().useInstance,F()),[].concat(F().flatHeaders,F().allColumns).forEach(function(Je){Je.render=_(F(),Je),Je.getHeaderProps=b(U().getHeaderProps,{instance:F(),column:Je}),Je.getFooterProps=b(U().getFooterProps,{instance:F(),column:Je})}),F().headerGroups=n.useMemo(function(){return vt.filter(function(Je,Ft){return Je.headers=Je.headers.filter(function(Bt){return Bt.headers?function ar(Gt){return Gt.filter(function(Hr){return Hr.headers?ar(Hr.headers):Hr.isVisible}).length}(Bt.headers):Bt.isVisible}),!!Je.headers.length&&(Je.getHeaderGroupProps=b(U().getHeaderGroupProps,{instance:F(),headerGroup:Je,index:Ft}),Je.getFooterGroupProps=b(U().getFooterGroupProps,{instance:F(),headerGroup:Je,index:Ft}),!0)})},[vt,F,U]),F().footerGroups=[].concat(F().headerGroups).reverse(),F().prepareRow=n.useCallback(function(Je){Je.getRowProps=b(U().getRowProps,{instance:F(),row:Je}),Je.allCells=rt.map(function(Ft){var Bt=Je.values[Ft.id],ar={column:Ft,row:Je,value:Bt};return ar.getCellProps=b(U().getCellProps,{instance:F(),cell:ar}),ar.render=_(F(),Ft,{row:Je,cell:ar,value:Bt}),ar}),Je.cells=at.map(function(Ft){return Je.allCells.find(function(Bt){return Bt.column.id===Ft.id})}),g(U().prepareRow,Je,{instance:F()})},[U,F,rt,at]),F().getTableProps=b(U().getTableProps,{instance:F()}),F().getTableBodyProps=b(U().getTableBodyProps,{instance:F()}),g(U().useFinalInstance,F()),F()},Object.defineProperty(r,"__esModule",{value:!0})})})(fi,fi.exports);var Fj=fi.exports;up.exports=Fj;var mn=up.exports;const xa=t=>{const{key:e,...r}=t;return r},Yt=({columns:t,data:e,children:r})=>{const{getTableProps:n,getTableBodyProps:s,headerGroups:o,rows:i,prepareRow:c}=mn.useTable({columns:t,data:e});return a.jsxs("table",{...n(),className:"table-setup",children:[a.jsx("thead",{children:o.map((d,l)=>a.jsx("tr",{...xa(d.getHeaderGroupProps()),children:d.headers.map(m=>a.jsx("th",{...xa(m.getHeaderProps({className:m.className})),children:m.render("Header")},m.id))},l))}),a.jsx("tbody",{...s(),children:i.map((d,l)=>(c(d),a.jsx("tr",{...xa(d.getRowProps()),children:d.cells.map((m,h)=>a.jsx("td",{...xa(m.getCellProps()),children:m.render("Cell")},h))},l)))}),a.jsx("tfoot",{children:r})]})};Yt.propTypes={columns:f.array.isRequired,data:f.array.isRequired,children:f.node};const Dr=({value:t})=>t==null?a.jsx("div",{}):a.jsx("div",{children:jr(t)});Dr.propTypes={value:f.string};const sr=({value:t})=>{const e=t<0;return a.jsx("div",{className:e?"montant-negatif":"",children:rr(t)})};sr.propTypes={value:f.oneOfType([f.number,f.string]).isRequired};const Ks=({indeterminate:t,...e})=>a.jsx("div",{children:a.jsx("input",{type:"checkbox",...e,ref:r=>{r&&(r.indeterminate=t??!1)}})});Ks.propTypes={indeterminate:f.bool};const pp=({onDoubleClick:t,onUpdate:e,onDelete:r,handleRowCheck:n,selectedRows:s,handleSelectAllClick:o})=>{const i=A(O=>O.ecritures.data),c=A(la),d=A(O=>O.filtres.radioButtonFiltre),l=A(O=>O.filtres.dateFiltre),m=A(vu),h=A(O=>O.typeCompte.data),y=A(O=>O.typeEpargne.data),x=A(O=>O.typeSaisies.data),b=A(O=>O.categories.data),R=A(O=>O.sousCategories.data),g=A(O=>O.details.data),P=A(O=>O.typeDebit.data),S=A(O=>O.modeReglement.data),v=A(O=>O.validationPeriode.data),I=A(O=>O.validationPartage.data),N=Gj(i,c,d,l,m,x,b,R,g,S,P,v,I,h,y),_=Cp({filteredData:N,selectedRows:s,handleSelectAllClick:o,onUpdate:e,onDelete:r});return a.jsx(a.Fragment,{children:a.jsx(mp,{columns:_,data:N,onUpdate:e,onDelete:r,onDoubleClick:t,handleRowCheck:n,selectedRows:s})})};pp.propTypes={onDoubleClick:f.func.isRequired,onUpdate:f.func.isRequired,onDelete:f.func.isRequired,handleRowCheck:f.func.isRequired,selectedRows:f.array.isRequired,handleSelectAllClick:f.func.isRequired,row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const mp=({columns:t,data:e,onUpdate:r,onDelete:n,onDoubleClick:s,handleRowCheck:o,selectedRows:i})=>{const c=mn.useTable({columns:t,data:e},mn.useRowSelect),{getTableProps:d,getTableBodyProps:l,headerGroups:m,rows:h,prepareRow:y}=c,x=t.length;return a.jsx(a.Fragment,{children:a.jsxs("table",{...d(),className:"table-saisies",children:[a.jsx("thead",{children:m.map((b,R)=>p.createElement("tr",{...b.getHeaderGroupProps(),key:R},b.headers.map(g=>p.createElement("th",{...g.getHeaderProps({className:g.className}),key:g.id},g.render("Header")))))}),a.jsx("tbody",{...l(),children:h.map((b,R)=>(y(b),p.createElement("tr",{...b.getRowProps({onDoubleClick:()=>s(b.original.id,b.original.pointer==="P"),className:"Ligne_Tableau"}),key:R},b.cells.map(g=>{let P=g.getCellProps({className:g.column.className});return g.column.id==="selection"?p.createElement("td",{...P,key:g.column.id},a.jsx("input",{type:"checkbox",id:`Checkbox_${b.original.id}`,name:`Checkbox_${b.original.id}`,className:"custom-checkbox-input",checked:i.some(S=>S.id===b.original.id),onChange:S=>o(b.original.id,S.target.checked,b.original.pointer==="P")})):g.column.id==="modify"?p.createElement("td",{...P,key:g.column.id},a.jsx(rl,{row:b,onUpdate:r})):g.column.id==="delete"?p.createElement("td",{...P,key:g.column.id},a.jsx(tl,{row:b,onDelete:n})):((g.column.id==="montant"||g.column.id==="montanttr"||g.column.id==="partTitulaire1"||g.column.id==="partTitulaire2"||g.column.id==="montanttotal")&&typeof g.value=="string"&&parseFloat(g.value.replace(/,/g,"."))<0&&(P={...P,className:`${P.className} montant-negatif`}),p.createElement("td",{...P,key:g.column.id},g.render("Cell")))}))))}),a.jsx(fp,{colSpan:x,data:e})]})})};mp.propTypes={columns:f.array.isRequired,data:f.array.isRequired,onUpdate:f.func.isRequired,onDelete:f.func.isRequired,onDoubleClick:f.func.isRequired,handleRowCheck:f.func.isRequired,selectedRows:f.array.isRequired};const fp=({data:t,colSpan:e})=>{const r=A(la),n=A(j=>Fs(j,r.idCompte)),s=A(j=>Ei(j,r.idCompte)),o=A(j=>j.auth.user.prenomUtilisateur),i=A(j=>j.userSettings.data.identifiant),c=A(j=>j.ecritures.data),d=A(j=>j.ecrituresPartagees.data),l=A(j=>j.userSettings.data.avecPartage),m=dp(),h=d.reduce((j,k)=>{const q=parseFloat(k.partTitulaire2||0);return j+q},0),y=rr(h),x=c.filter(j=>j.aPartager===1&&j.partageFait===0).reduce((j,k)=>{const q=parseFloat(k.partTitulaire2||0);return j+q},0),b=rr(x),R=h*-1-x*-1;let g=0;R<0?g=R*-1:g=R;const P=rr(g),S=(j,k,q)=>{const $=new Date;return R>0?`Au ${di($)}, ${Pt(k)} doit ${P} à ${Pt(q)}`:`Au ${di($)}, ${Pt(q)} doit ${P} à ${Pt(k)}`},v=p.useMemo(()=>{const j=t.reduce(($,L)=>{if(L.typeSaisie==="R"){const z=parseFloat(L.montant)||0;return $+z}return $},0),k=t.reduce(($,L)=>{if(L.typeSaisie==="D"){const z=parseFloat(L.montant)||0;return $+z}return $},0),q=j+k;return{SoldeRevenusDepenses:q,TotalRevenus:rr(j),TotalDepenses:rr(k),RevenusDepenses:rr(q)}},[t]),I=t?t.length:0,N=m?2:5,_=e-N,O=m?6:9;return a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsxs("td",{colSpan:N,className:"nbre_ligne",children:["Nbre Ligne(s) : ",I]}),r.idCompte===1?a.jsxs(a.Fragment,{children:[a.jsx("td",{colSpan:_-6,children:a.jsxs("div",{className:"tfoot-wrapper",children:[a.jsx("div",{className:"tfoot-totals",children:a.jsxs("p",{children:["Revenus - Dépenses : ",a.jsx("span",{className:v.SoldeRevenusDepenses<0?"montant-negatif":"",children:v.RevenusDepenses})]})}),a.jsxs("div",{className:"tfoot-totals-revenus",children:[a.jsx("p",{children:"Totaux Revenus : "}),a.jsx("span",{children:v.TotalRevenus})]}),a.jsxs("div",{className:"tfoot-totals-depenses",children:[a.jsx("p",{children:"Totaux Dépenses : "}),a.jsx("span",{className:"montant-negatif",children:v.TotalDepenses})]})]})}),a.jsx("td",{colSpan:"6",className:"mobile",children:l?a.jsxs("div",{className:"tfoot-details",children:[a.jsxs("div",{className:"tfoot-totals",children:[a.jsx("div",{className:"tfoot-totals-revenus",children:a.jsxs("p",{children:[Pt(o)," doit ",y," à ",Pt(i)]})}),a.jsx("div",{className:"tfoot-totals-depenses",children:a.jsxs("p",{children:[Pt(i)," doit ",b," à ",Pt(o)]})})]}),a.jsx("div",{className:"tfoot-totals",children:a.jsx("p",{children:S(v.MontantAPartager,o,i)})})]}):a.jsx("div",{className:"tfoot-details",children:a.jsx("div",{className:"tfoot-totals",children:a.jsx("p",{children:"Le partage n'est pas activé."})})})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("td",{colSpan:"3",className:"tablette",children:[a.jsx("div",{className:"tfoot-soldeactuel",children:a.jsxs("p",{children:["Solde au ",jr(new Date)," : ",a.jsx("span",{className:n<0?"montant-negatif":"",children:pn(n)})]})}),a.jsx("div",{className:"tfoot-soldevenir",children:a.jsxs("p",{children:["Solde à Venir : ",a.jsx("span",{className:parseFloat(s)<0?"montant-negatif":"",children:pn(s)})]})})]}),a.jsx("td",{colSpan:O,children:a.jsxs("div",{className:"tfoot-details",children:[a.jsxs("p",{children:["Revenus - Dépenses : ",a.jsx("span",{className:v.SoldeRevenusDepenses<0?"montant-negatif":"",children:v.RevenusDepenses})]}),a.jsxs("div",{className:"tfoot-totals",children:[a.jsx("div",{className:"tfoot-totals-revenus",children:a.jsxs("p",{children:["Totaux Revenus : ",a.jsx("span",{children:v.TotalRevenus})]})}),a.jsx("div",{className:"tfoot-totals-depenses",children:a.jsxs("p",{children:["Totaux Dépenses : ",a.jsx("span",{className:"montant-negatif",children:v.TotalDepenses})]})})]})]})}),a.jsx("td",{colSpan:"8",className:"mobile",children:l?a.jsxs("div",{className:"tfoot-details",children:[a.jsxs("div",{className:"tfoot-totals",children:[a.jsx("div",{className:"tfoot-totals-revenus",children:a.jsxs("p",{children:[Pt(i)," doit ",y," à ",Pt(o)]})}),a.jsx("div",{className:"tfoot-totals-depenses",children:a.jsxs("p",{children:[Pt(o)," doit ",b," à ",Pt(i)]})})]}),a.jsx("div",{className:"tfoot-totals",children:a.jsx("p",{children:S(rr(g),o,i)})})]}):a.jsx("div",{className:"tfoot-details",children:a.jsx("div",{className:"tfoot-totals",children:a.jsx("p",{children:"Le partage n'est pas activé."})})})})]})]})})};fp.propTypes={colSpan:f.number.isRequired,data:f.arrayOf(f.shape({typeSaisie:f.string.isRequired,montant:f.oneOfType([f.number,f.string]).isRequired})).isRequired};const hp=({row:t})=>{const e=t.getToggleRowSelectedProps();return a.jsx(Ks,{...e})};hp.propTypes={row:f.object.isRequired};const He=({ariaLabel:t,buttonclassname:e,logoclassname:r,label:n,logo:s,altText:o,titleText:i,onClick:c,type:d="button",disabled:l,id:m,name:h,useReactIcon:y=!1})=>a.jsxs("button",{id:m,name:h,className:e,"aria-label":t,onClick:c,type:d,title:i,disabled:l,children:[y?s:a.jsx("img",{src:s,className:r,alt:o,title:i}),n&&a.jsx("span",{children:n})," "]});He.propTypes={ariaLabel:f.string.isRequired,buttonclassname:f.string.isRequired,logoclassname:f.string,label:f.string,logo:f.oneOfType([f.string,f.element]).isRequired,altText:f.string.isRequired,titleText:f.string.isRequired,onClick:f.func,type:f.oneOf(["button","submit","reset"]),disabled:f.bool,id:f.string,name:f.string,useReactIcon:f.bool};const Qi=({title:t,icon:e,link:r})=>{const n=ur.cloneElement(e,{className:"param-button-icon"});return a.jsxs(fd,{to:r,className:"param-button",children:[n,a.jsx("span",{className:"param-button-title",children:t})]})};Qi.propTypes={title:f.string.isRequired,icon:f.element.isRequired,link:f.string.isRequired};function Ij(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M3 10h5"},child:[]},{tag:"path",attr:{d:"M17.5 17.5 16 16.25V14"},child:[]},{tag:"path",attr:{d:"M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"},child:[]}]})(t)}function qj(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",x2:"16",y1:"2",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",x2:"8",y1:"2",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",x2:"21",y1:"10",y2:"10"},child:[]},{tag:"path",attr:{d:"M8 14h.01"},child:[]},{tag:"path",attr:{d:"M12 14h.01"},child:[]},{tag:"path",attr:{d:"M16 14h.01"},child:[]},{tag:"path",attr:{d:"M8 18h.01"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]},{tag:"path",attr:{d:"M16 18h.01"},child:[]}]})(t)}const gp=({onClick:t})=>a.jsx(He,{ariaLabel:"Configurer le Calendrier",buttonclassname:"modifier-button",logo:a.jsx(qj,{className:"button-icon"}),useReactIcon:!0,altText:"Calendrier",titleText:"Configurer le Calendrier",onClick:t,type:"button"});gp.propTypes={onClick:f.func.isRequired};const _j="/monbudgetpersodemo/assets/Budget-6PO8whq-.webp",Lj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAApVBMVEUAAAAdN1cdNlgfOFkbN1IdN1kdN1gdN1cdN1gdN1gdN1kdNlgdNlcdN1geNlcdN1keOFkeN1kdN1gdNlcdNlgeNlcaNFIoMVkdNlgeN1gdN1gdNlccNVYeOFcdN1gdNVcdNlgdNlcdN1kdN1gdNlcdNlceOFkdN1ocNlceN1keN1ccNVQcNVggPF8gPF8eOVohPWIgO18gO14iPmMfOFseN1gkQWkKpYyLAAAAMHRSTlMAV+ceCfyfluG6p5KOX0H59O3RzkQpDAWubWJINhXd18KZg3CJe2g0LsZSLRrp1Mc3vDUJAAABfklEQVQoz5WS15qCQAyFQ5EiHRVBRF379mSK7/9oO466IrgX+18l55BvTpiBFpN1niT5egLPmLqCIxFy4U6fuD6SF0ZR6BH6fT9AFhSgKAKGbtc9CvrVXBLH7jA37Vttm7w7nvPg3oQ8B819AGf3boam/R8bRu3jXD6CR0JuFre6MHnYsSeChrfaIdH7sVskpwFF4xBuoceLoMzZVI5Jwum7dpRKgQohU6PnbjxiJFLTSwURszrBXtWUXx0a224Oe9953HqcISsP8AdxgmkELYrNUOFcNCvDbP6QcsQ1qDdYYXJxG+vCDqVfluWroHcAg2ivXSNLBhpJvhYWfA2w5CvdvAliV8g4B4BQ3cycsVjnEyyv4zgeK85nDT+Pb5TAli/hTMRZCS2Wp7pmEha4vj5zEqbnLTYA4ZeKZI1hhwsQZNzuBBUnlco7BaBX4i8wojwyFB8qelVVe0t9x7OZUnYSa4hJB24/n8ngsgMupwD190BKyQK4M1+dpXT4AT+vLy4CjxWNagAAAABJRU5ErkJggg==",Bj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAAAeN1cdN1gdN1geN1geNlcdN1gdNlgdNlgZNVYcOFgeN1kdN1gdN1cdN1geN1keOFodN1keN1kdNlcdNlgcOFgaNVYlM0wdNlYcNVUgMVMeOFkdNlcdNlggNlofNlgdN1YcOVkfN1odNlgdN1gcN1kdNlkhPWJ6K0mLAAAAJ3RSTlMAj4mMx7pt7tIdCdiFf2j53ZuUcjsaEwZ2KQ/nzaFPQTYjGPG+WE7K7J1vAAAAs0lEQVQoz+WQSRKCMBQFm3wMISHMkzjP97+hQpW6EE5gL3rz6tUf+Fv2Eiwge9B5oGbwfe+DXBPFzGFTPRBHRABVOlrrj+tNUWwOvGLLehWGqyae3Iw+sU3hZuxljFGPRwLJ24rOAGzP10/7PLXjZvIpK0TK7Mjv7FRjw1K8FzHMbt46ONbg2vFuEaVEvq5aM5BlXWdauP98re9MTbljnTNP5QawxrNA4crA7VikTtSB/+UJBBQKNlAbgLMAAAAASUVORK5CYII=",Uj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAflBMVEUAAAAdN1gdN1geNlcdN1keOFoeN1keOFodN1kdN1keNlceNVUcNVUfN1YlMGEfOFseN1oeN1keOFkdNlgcNVUeOFodNlceOVseN1YeNlYfNVceNVgeNVUfP18dN1ceOVodN1cdN1gcOF4eN1ggPF8fOl0gPGAfOVsiPmQkRGy+MVT0AAAAI3RSTlMAgLw6q/Z7bbNVQy4oIAX87+Kdgkfpzsm5h1o+EAjVj3dOGy9Y8wMAAAC/SURBVCjPrZDXDoJAEEWlY0OaHeuUxf//QcG4LGFHYqLncU6m3cmXLMLYzaefbBgwEuJ2Ido9K2jB9VKwHsEb3gnaR9CouWWTTHWaI0tXqdFYvEqnaD7WfaxTb2T3jCgoxct1Ra2mwt9L323YtIPoYKfmPOoGhgYCO3Or28LsFhhe7l1i1+BHVf/vJCdGMiBnZS81n2EArTyzhMECz4nWMYLgZ1oHIOmr1iDqYlw7v2gzXDHa1F33zREI75N/8ASLuDUc9mgk/gAAAABJRU5ErkJggg==",Sa="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABQAFADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKK/K79s/8AbP8AiZ/wVQ/aX1b9mP8AZj1ZtF8IaKTB8RPiJAzeTBFuKSW1vIpB2ZDJ8hDTsrKrLEru3Rh8PKtKy0S1beyX9feY1qypru3su56/+2v/AMF4fBHwM+IjfDP4R+HtU+O3xemka1j0bw8Gms7OccFJp41csynG5IlYryHaOvKdO/ZX/wCChH7eDrqXxG+MGj/s6eGbxt6aB4Ui36lFGwztZ4X3A4OPmuic9VHSvsv9gj/gmz8Lf+CdXw3j0TwHokf9qXESrqviC7RZNU1hxyTJJj5Uz92JMIvYZyTf/be/4KHfCv8A4J8eA7fXPiRr5spdQLLpuk2cX2nU9VZcbhDCCMhcjLsVRcjLDIz2RrQjL2eEhd92rt+i2X4+pzypya58RKy7J2Xze7Pju3/4Nj/APi0ed8QfjX8cPHV+/Mk9zrESqx9QJI5WH/fRouP+DY7wB4SHnfD/AONfxw8C3y8xzW2sRMqn1IjjiY/gwrxX4kf8Ha7DUpE8HfBFpLNWISbXPEQhlkHYmOGFwv03t9aPhx/wdrsdSjTxj8EWjsmYB5tD8RCWaMdyI5oUDfTev1r0PY5va+vpeP5HH7TL72/z/M9U1H9lX/goR+wg7al8OPjDo/7RXhmzO99A8WRbNRmjUZ2q8r7iccfLdA+inpXq37FP/BeDwR8cfiKvwz+Lnh3VPgT8XYZBayaN4hDRWd5McALDPIqFWY52pKq7uAjSV9B/sQ/8FD/hX/wUI8CXGufDfXjeTaeVXU9JvYvs2p6UzZ2iaEk4DYOHUsjYOGODil+3t/wTa+Fv/BRT4bSaH490SP8AtS3iZdK8QWirHqekOeQY5MfMmfvRPlG7jOCPPlWhKXs8XCz7pWa9Vs/61OyNKSXPh5XXZu6+T3R75RX5W/sY/tm/Ez/glZ+0vpP7Mf7TmrNrXg/WyIPh38RJ2byZ49wSO2uJGJIQEonzktAzKrM0TI6/qlXHiMPKjLunqmtmv63XQ6KNZVF2a3XY+Df+C7/7a3iL4GfBHw78I/hm003xe+O18PDuix2r7biztnZY551I5RmMiRK/8JkZwf3de7f8E2v2CfDf/BOr9lzRPAWhx29xqmwXfiDVVTbJq+oMo8yUnrsXASNf4URR1yT8a/srac37d/8AwcH/ABg+I2pK154Z/Zz09PCegI+Hihvm8yF3HbIcag2RzlkPYV+o1dWKfsqUcPHspS9XsvkvxZjh17SpKs/Rei3+9hX8ov8AwUw/an1j9sX9uL4heMtVup5rWPVrjSNGgdsrYadbSvFBEg6LkKZGx1eRj3r+rqv46/ikVPxX8W7cbf7e1DBHQj7VLXqcNQTnOT3SX43/AMjgzqTUYx6amHRRRX1x88e7f8E0P2ptY/Y6/bi+HvjLSrqeG1k1a30jWYEbC3+nXMqRTxOOjYDCRc9HjQjpX9XVfx1/C8gfFXwmWwFGu6eST0A+1RV/YpXyPEsEpwmt2n+Fv8z6HJZPllHpoeB/8FJP2CfDf/BRT9lzW/AOuR29vqmw3egaqybpNHv1U+XKD12HJSRf4kdh1wR4T/wQf/bW8RfHL4JeIvhF8TGmh+L3wJvv+Ed1qO5fdcXlsjNHBOxPLspjeJn/AIjGrk/vK+8q/Ln9qrT2/YQ/4ODvg98SNNVrPwz+0Vp7+E9fRMJFNfL5cKOe2Sx09snujnua8rCv2tKWHfZyj6rdfNfijvxC9nONZej9Ht9zNT/g2Pt/+Et+APxq+IM3z3/jr4l311PIfvMBFFKAT/vXDn8TX6ZV+Zv/AAbIXP8AwifwB+Nfw/m+TUPAvxLvraeM/eUGKKIE/Vrdx+Br9MqWaf71P1/TQeB/gRPLf24tdvPDH7Fnxd1LT7iWzvrDwXrFxbTxNtkgkSymZXU9iCAQfUV/I7Zrss4h6IP5V/Y18SPAOm/Fb4d694X1iN5tJ8SadcaXeojbWeCeNopAD2JVjzX8mv7Zn7MN/wDsYftTeN/hfqFxNeP4P1E2tteSxeU1/asqyW85XJALxOhIBIzkdq9rhqpG06fXR/I8zOoP3Z9NjzOiiivqjwSO8XfaSqe6H+Vf1w/sNa9eeKP2KvhDqWoXEt5f6h4L0e4uZ5W3PNI9lCzOx7kkkk+pr+Zb/gnP+wXrn/BR39p3T/hzo9+ui2ZtZNS1rVmhMw02xjZFdlUfekZnVEBIG5gScA1/VF8NvAGm/Cj4d6D4X0eN4dJ8N6db6XZI7bmSCCNYowT3IVRz3r5XiStB8lJbq7PeyWnJc0+mxtV+Z/8Awc323/CKfs//AAV+IEPyX/gX4l2FzBIOGUGKWUgfVrdD+FfphX5n/wDBzfc/8JZ+z98Ffh/D89/46+JdhbQRj7zARSxEj6NcIPxFeJlf+9Q9f01PTx38CRk/srai37CH/Bwf8YfhxqTNZ+Gv2i9PTxZoDvhIpr5fMmdB2yXOoLgc5VB3FfqNXwd/wXf/AGKvEXxy+CPh34ufDNZofi98Cb7/AISLRZLZN1xeWyMsk8CgcuymNJVT+IxsgH7w17r/AME2/wBvbw3/AMFFP2XNE8e6HJb2+qbBaeINKV90mj6gqjzIiOuxsh42/iRlPXIFYpe1pRxEeyjL1Wz+a/FCw/7ucqL9V6Pf7me+V+P/APwdMfsQabf+BvDv7QGlyQWmr6TNb+GdehK4Oo28rt9llBA/1kUjMpz1ST/YAP62eNfHGi/Dfwte654h1bTdD0XTYzNd31/cpb29sg6s8jkKo9ya/ED/AILz/wDBab4c/th/B/8A4U78LY7zxBpq6vb6hqfiaSMwWcv2csyxWqth5MuVJkIVcKQu7dka5LTrPExlTWieva3UzzKVNUXGb16ep+UVBOBRQRkV98fJn9FP/But+wZpv7Lv7GVj8QruS3vvGHxhtbfWbi4QZFjp+0taWik88K7SOe7yEchFNfoPX5R/8EaP+C63whtf2dfAPwf+JGo/8K+8UeEtNg0O11LUPl0fVo4gI4mFx0gkKhdyy7V3A4Y5wP1V0zU7bWtOgvLO4gu7S6QSwzQyCSOVCMhlYcEEcgjg1+d5lCssRKVZO7f4dLH2OClTdFKm9kT1+XP7VeoN+3f/AMHBvwd+G+ms154Z/Z109/FmvunzxQ3zeXMiHtkMNPXnu7jsa+yv+Ckn7e/hv/gnV+y5rfj7XJLe41TYbTQNKZ9smsX7KfLiA67BgvI38KIx64B8J/4IP/sVeIvgf8EvEXxe+JizTfF347Xx8RazJcptuLO1dmkggYHlGYyPKyfw+YiEfu6rCr2VKWIl2cY+r3fyX5ixD9pONFer9Ft97PvKvyp/bc/Yv+KX/BLD9ovXP2mv2W9NXVvDGvK8vj74frE8lq4+Z2u4oY/mMQYtIRH88LFyoMbui/qtRXLhsTKjK61T0aezX9bdjatRVRWejWz7H8mv7Yv/AAUL+LP7fniYan8R/F11q2nxyGWx0W0/0fR9P9PKt1O0sBgeY5dzjlq8Zr+ij/gon/wbxfCv9sbVNQ8VeC5x8LfH14WmnuLC2Emk6rKcktcWoKhXY4zJEUY8lg5r8lf2kf8AghL+05+zdqM/mfD258c6TGzbNT8Iyf2nHIo/iMAC3C/Qxfia+2wOZ4SpBRg1Hyen/APmcVgcRGTlK8vPc+QaK3PF3wx8UfD67a38QeGPEugTRnDR6npVxZsD9JEWjwj8MfFHxBu1t/D/AIY8Sa/NIcLHpmlXF4zH6Ro1epzK1zg5Xexhkbhg8g9RX0F+xV/wVK+NH/BP6/h/4QXxdM3hqOTfceG9XzeaPMMgsFjYgwE4+9CyH1z0rvP2b/8AghP+05+0jqNv5fw9uvA+kysvman4uk/syOJT/EICGuG+gj/EV+tP/BO3/g3g+Ff7HWqaf4q8bTr8U/H1mVmguL+2Eek6VKMENb2pLBnU5xJKXI4KhDXlY/MsJCDhUtLyWv8Awx34XBYiUuaN4+ex5l+xT+xl8UP+Cqf7SGjftNftQaX/AGP4T0IJN8P/AIeyRstvGuVdLqaJ/m8ssFcCQb5mCFgsSIjfqtRRXxWJxMq0rtWS0SWyX9b9z6ajRVNd2933P//Z",qo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAcMSURBVGhD1VkLbBRVFH1vZvqBBgqI9GN3K5VfACWmdLcSExpiBKP85LOLICCSJiomoCQqEJFIiFUMGATiBwUR2BYQImoqEBUlwpZCVASpNpDutihUWiiB/nbe89zZaWWXT3e2G1pO8/a9e9+d3Tt37rufKWcxQEbu5F5cqPs55w+aLCalvMwZn+Mr8ewwWSzlgRlJCV3EIF9i1a/swIGAyY4Kijm3D0IbTUpLxjYwyQpocM4ugX7BlGD9xoxJiO8SOArhUltD6rd0E+ZWVIiJ4pyJOGMh2CpY+FUaUrIK2D3IB5prk7PweAfiUezDnBffpXlPWnZ+V3PbMiy5Slb2FHuzquyGC/Q3WQYkkxosnojVVSa5MNldzLne+OQSRuJdofhMKXkSV9g6PJHvJA+MrTy8IyhjAZYUtzncr8EFVsB/P8alLQpGDM5kQCj6CihaZc91v4g7fg83sh+88VaVt6a40/UGrL3Ul/h3XHsPFyHT6X4ZVl+J5d74nhfHlRcXNwZ32kZsDmeUqPB63sXTW4zlo001PeYGuZGhQxXHmcAT55m0ElxcMFgRoiMV53anex3OTD5uYHWlt8hj8iOC1cM5Hz+0CqHuGOf4tArJAjrn+VVez3G7w70Wv/4cHVCEzwXGrgWo5hwR4jKzTsQJrTfuF6GPN7QM3ExPzMPwyxV4+nUGn/OhmHuBPh2kmYqQmYtY5E22DZmL9fOQf99f4pmPr7ZsBEsWvxlsjqkzOVc2ScGG+o94TgR5roM0+0sKH6Y5Pcc1QFN4GTQsw49SIlrnKymchy3LShNum4+fPTKoHNNu6JmFsbo9ShNu4+FcJnxez0S/d1Ciz1to2afD0QFRZZnljHsjdHAcjx6th5NqaiUQ38MkLYGrYiKe+0ohxBhFan8ZTFUvNGZddRlzDCC0pouoaWpozfs5pndv5IGNqEEmEE3MzgsUCJLtTmDabI5E8Ck4M5B8V6N6C1qrk0KinOaS0cHeTIpfBmsnwtPs4DaKh2Hjk2W3pOusH9/E9fKSLUgwHQe707URSW0S1QvoA1gBdS1s5EjNVp+2D5kwz5S7HpJthOwzJhU17MNdI6Qm7zLJW0IG1LrK0m0HaA1DvwWHfiVE8cyHpg2SQv4BVyqC6xwzrroWkj+CGmWUzy7i2fbtusm1jIEjxnWrD3StpTLAZLUFKVWW4f/Zc/aGitty3EPQUv0upZjlLyn6zLyoFbFsJOyOyYMlj+tlkreEYLIOhdlvtG5DcbmcK7KYadpJ38GttZk5U1KFovVDUwwX4XNi1QFFgxbFb5iAULktYVI5KJv0AqKFon6OiPMTKW0IdALcJHPKVUzIsYoUrxPFdSUfzfs48LcZ250AN1QcrvKL70jhVxVHtv9DtK9062n/4aI9yI5/GgKdACGKKzAxzZwpeYiX+eEDO9nYlqxPn3ZVdrFAiOK9A8momWUpNKdD+EH4QEZ6Ail3V3tCYawQovjRox82I0bnIuJnMV25L3xoAT0TrdYkU7xjQeHQCDF3CEhX0vkmUaXzQzPnVmRn58edi6sx+Ik90kR58ZrgazHUMRmNdxtvX9WEJFlxYBM6fGDKFDXDL+Ov4ZM8Du9SJSP3RALxCZWjhzSyZUb3wzNHzkrQG68YRVxlQnVzNMksxOKUIavVuktoBq7SaKqtrrc7p00i5Wz1qVUtfNnQWG93uBbSNfYK9VAo373W4DvKtrTwadiLT31j8J3u5STXyq9PPUl8qwixeEXX8//aGlKXYNmdaJhER3FziKIIz522GDVMhsGX+OPsa1ojzRZIJu5v5Uu+1+Az9hFqiTJzDQspJTSjpNghddZEgkFaia4HuFMPZ2g9DvTNcQ3QFbWbIRUFtEBz+emj2y+ZZMQgN9U13julqUcZheVMp+teZMTEikMDkK3/fzNgGDm8yELDfI+u8FMoq0qjHc2ausb8uohAwQDl8gapqGcVoRzHGTtjc7i/R5t2hnoDm7PsOPUJpngrQhSn/xQIwR9DsTI12qEwaRRmkaJavTSf/juHa9cLyZ5FQLpKHRjc4G14wjxUpSlSl0UQDW0lO9rH8fs/wuKt3VZGztTRpk6PEw3rLwjSM/oS3eLj4QmIZzimTaCXmOEDwjPSc56OqEe0BCmvwLK9ENsTieQKTzNmDr6xYOkQEioPXDVoE+E+nq5wsZPevIYPbG/W1OangpKxA+LqejQudlnfWGJzurfgJtYbfMneREW6C67yEhV2Z7yec8YFJq7zcS0g+tLr4vCBLxjss+nrTNGYwe/1fAnfnm6oytgomHgnVouwTsEYLpmytqkhbhbJXgt6r3IBV/zQaaq+NgCf34lTmsfxeN7BYiHu8gvMnfxNFuuPiPMk5pWc4uh5rW4Fl2wODkJErws6DJLVoFD4pE+g+6L/AL9xW2IO30LsAAAAAElFTkSuQmCC",Vj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAApCAYAAABKvBuPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAeJSURBVFhHzZh/bFRVFsfvfW86bbH0TadA2xh3hbK6PxJBrSAGtwE70wqIrKFGFzaA0s602vgb/1Ery5qo2c0mgrYz/EYBFyIbgXXbmSLbXQybXYwruxub1dWARqzQ9r2WHzNT3rt+7+uhzcC0M48i6Sd5fe9+353b884759wzw9Kh+eqnF/meuoaGYwaFzinJ9wd8jFuHY7x3BkljhmEN1ypq7+KMb+aC9THmInXskNJwT0VdOeN8CxPKAsbZIZLHFJzOgxRU1c+2THMn48oiI9L0occf3CME68TMz2jKsKhK1vrulrW9NPxeSfJ4gb/uDhi9QwjxC2m01CzG/8CY6GRCjB/pgAeeEefjHnuhq8n4iuDtmi9wPL+q7jaSHIHPflxQUfsDGn7v2B5H9ZihcLHLEvz+3pamf9p3xjhKnr/2x7C+lTOxtK+t+e+kj47qajWvqmHihMqaEla+LIfUKwpnt9Zmebx8Fy579DuKVrLVqy265wgZKqhEh+CAmUjma7FeJ3LjHOe8EDkg1/xAcOUt5M5fcC3sD42CgapSXe3WdO9u/JOTeqSpBnLGC+ctqJ3givNXcXmnYDzMLP6OcaDp84G7A0wsr89L5Jz3M0up4ZxNMC3WMNq3O1QOqxth/DfvQPrKiDbXQ0lrvKxCgom34M/XjR7rNfZhuJ9uDQsSeLbFlZDg1rbeSPgVkh2TXMerGrI1K/FHXH1uREINOAvNH9iJR5iHMLjoQYSKnfWMxcTC3kjoHyRmROHCh8absazduDyqR0KrBlRnJO+cLWvjRjx2HxO8VPMHfw8Fb5Zn44S6XuS9cAjFvBVzdCGUKqdGS7r2burT47FFyIXbNX/dCpIdccnOKfkhKoHhzt0Lr/4XU6YJztcgqQ7SbebxBd9HiGwzoqEtJCWh+WvmcKEGBBc/swXBjgpmbe2Nro/YY0JWnX5LOaxw5c6eSNOXJGdEyl7lWPvWWG62tQiPdROOOSTbFFQE5iFmcmD0VpKSQGit4Ux9X3B2Lxf8LDwTR9JXK1xtza+oLaNpNqda15/AK/0tdurnSMqYlIZLTuwPn811i3vg2b1cYV0ko2jwBrS6sopckrx47YsQWs/BkBbTbV2nR5tnIobLTFMtwTqvqarrHE0dRIvHNuAh5yNpNZIyImWoDIe3qiHfMvu/0D1dJWz37gTJF+Dw9lGcve64euPJ9jdOD8jp8fgCG9ETRXujzW+TlBaVzhnhvn76bHh/cmzftsEwyffXT82ZcsvCnKm3yf59KY7DpmpZOaVl0+1j6ozr4/8/0kHTU5JdWuZFOJVhXgtJaRk2VFKisFLEx6c0suHMmobXJo+75RhhcorGdFhpv/bBiE/xwVIaXnlQIh/H1v4SDZPw+AOPoncXBZUrByqJAzxz627C2u00zAhHHoc3z8HFeTS0GV8ZvBHl8RFs9zPlWDB1hRwPHv7AEnviCCiKGIceJ0bDjHAWKlwcg2VTaGTjMoUMnxKExUlbsPgcOR48hHJxEl+CpZhTsKEdo2FG4P9lTl7Viokuy/0ffVZxSaouEt79CLthsSu3/wa5O5KcFs0XXAsXfmy0Nm8gKS2OPH66ZfNJGPaZdvjrcpKSEeIFVIfi8+fcu/LKayeQapdR5MbLeLBpJA2B3h1t0HyXmXiPFLmJrbN7+RFwFioAO10IVfQJGiahR8P78GC/xpxKNZsfh7F/RdL9zTT7sUPyZ9GmJeWHJN8oWIxV/9XVtulrkhAGfEm/UA6MK68vJukSHBuux4t3IM5L8301fpKSQEvciB5lLmJwP4wtwmsohEf/hG/d9/ZEQx/QNBvZpyuC/4aZZiNJBLJD8D1ZbrPtGl9wEolJOIrxCxRU1s6yhPK2wvhsp83REI2Kx9e5EyZ2yIcl0QY7abee6Jjkcf9ENmoB0y3mnt4fPkW3bS7LcIlWEVwJTz7NhfD3tIWPk5wZ5Y0uT3bnOlwFEFpyV01KdKx7gx7vyGXt7ec9/roGlOGHzYRVcbp9yPjLNlyCGF6OJdZwRTyqt4beJXlENN/KyegeN6Kx+gr//QWeUOH0i4kx/eCmwfLoqQw8huhZZpouX9+B1+2Gb1SGS7S7gjfDcCQsPwNj1o1zW3+WnSXdvgDXKh+5mQnzYVwvgINfNCLhzQO3MkPz1T2JTWqJxft9vZGN3aM2nODY7uejHMIw/nO4Q35Z/hJe6sd1IcLhp3LzQlUp5Yo6p6f1DXxBcQ7e8Cok/GIRz/ZfKcOHQPx6s779kckFdk7uQmnsyhHjOjqjvzuDOn7ENM1f9h3Y8D+a7Qysrbk7/w2jt195w0fANtxiD/a1hZI6zIyQCe3u3I5wTBha13LHdXxU4BUgzp07y65C37xpGz2raBm+xFzGIqNAehzWbxWCnyApNaiHRqR5D66EbAk0vfBN5Ag3tO6l0mh7ivxztUCb+zwMSP+LrmC/wgaUxyZNEprh3QKb3XrikyWyrtOMq2t4ptg7p6e7GEaHZX+jJ4ofYO2rB42WXN0YzxR0WR7Duw+nfL1bPHix0ZKxabjMYcESutb1wHC/R45JwwWznjRU9+IUP4EQjH0HlOHzaGfkC8kAAAAASUVORK5CYII=",zj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAnLSURBVGhD1Vl/cFTVFb737m6yERCsYKFkN4AUMLZAC8kGaQcFx0Za5A9JdiMUdAoUyw8BGUEIUkZBQGuxKMogIgiyCTiWn2rVEepIshs6KFULyADZAIpWKShmN9l3T7/z9u0SkgWzm2jpN/Py7jv33ne/d953zrlvI74r9BhQ5O4xuMhtXbY6pHVuNWQXjMpS2v4ACZpjGqRYStJYeqJyS6153UpoVeKuguIRguRySdJNUjzLNkliEkkKoTG9prJ8uznQQlePz6MEPS9IKMt0MaSM2JQaebzipWrLkkDyCSnCPfCuHu583zZJahuIfyLJyKsJ+KfyoYQeCPKnuM/l8W3nsdY0LE43SCFzQfBdKcXuhgdc+gG82o+00d0afhFa5PFGsjgrlJxdU+lfjzaZAy5AuvJ8Y+H1pWi3j8tHks0L4msjtfa2pw9sOB8bGkNO3l39Sen9UtAt1YGy3ZY5gbQ97s7z/gYLf4BmKTz2nIqE+4D0OlybpN0/H92FD24DVFPlX+cwdG+QXg0pzcPcD0H6Fqs/ZaRMPC4LeHd7TBbKlEX1+1v/w/09CwszXfm+B4Uj+jEfrnzv3J6FUzO57+g/Np+tCZRNY/lg7imYxrLdmVWfcvZptlRyhoxzUm1kNpqzIY2vMHM2SCQ8zMjxlAwn0k+i2QPGNRyaUtJ4kDwK2/RQ0L/THBiDdBVAPjomH6nkEi2iy+LZp1WkwrLQ4fCHaJYiW6xREWdvkH4B1yZp103e6/kt4IF2gum/iaSnJlg2sSbo/70Qtnxklc/xoDs4OBEXPXkOQCwtlhjLR2hRytIzM1MzcFmPmxlAGcuh4RFE4l1FxpTqqs3vWd3ih33HtMlw1nNgzsJxFneb0/gtWJAuj3ccrEvQ7gAvPh4JZzzaMCC75Rf3M4R8Wko5GJN3IOOsJSFfvpTHkxJvRraQ8PCd8P6fYOoCQay0G8YC1rDVnxSopu2jdvsfSejJCMxPcbeZkM/L6ErcN5598ADX8bUkPbQ6WP52rPsCmhBnWZAST8aLiArXzo8HHsOdPyqXhP0vyLXDsNrb0OG0ExXlnF2aDZC7UShawVkF93gLMrkPWYelaIIfsN6mHkb/vZcqXgniMVloyEIklUXP/NFX14noQ3iYaZh0GgvOgizKrO60gOAsRnF6HG+2Mxy1IkPYFh4JbjxndZvy0UI+Bb//AuvtkIa6L7TvJQ50IQcMmOj43HZu7uVl4R2DoFsGyzV4d09Eah2LGheMdOAe5B1WX6fed9j1TOh5JkxnBOnZNcHyF9FOrN+weHH26VR/9WKZPag4T2kVhPFvMlzrbSiLnEG+n2lDrIAsBuMt7NJSTj8Z2PSx1d0idO4/qlNGpv0zQfSGVsZIIke2IlqOtZBSxV5lE1OqK/z7reEip9/IDuTM4jd8mzZ0vikVt8f3Om7wkyx7mz6H9j7/FYLzBwjOR9A1ERrDBkfOQJHZxmMt8APfaEOkWdcpg+zGtULLN2MXMfKcw10FJSOkpj/D2g0dq6MUKT1V9dcvWKoRGT0I3R8IBfyFJvFuA0f1Nmz2A0g9K4noICJ6EbhlYeIS6XQ+Vr1nXZjHxYF8fAcmbrUuWwSstxoaHiuJ/h4nbxa7cAQplh7EkFoiNU9K3Qf14V6DqO+pqrLDF4LT410MsjyQtYX70DwUEdiaIttT7FNCbcKD3onLL2PW1KGFita4oxXualshFuWcnSDP/bxdiDkxxgmnR0OBsrncl3jVHHAZWdHr8GR+odVrGKatrktD673IPJ9aV3HIrp6SnnahzQoZFeoI4uIImvFguxgBIUJC7EQCmADPr1dkY2fNMPvAAQ4MS0XIdMoXjbZn+ZpIELeyxHhuo7jwKUUsUNmew+NQ8ZCdqBeyhGm1gS9i6LAmsfRE0L8WpiYP0GVASUfE0v3QzRkpbRsscwKhynKOhVg8WEhIpSFAPIoblSJPc4luApRv3kf70axBBjBMo6RM2DrDQ6/ipi9Im/onm8nQPwXTu/HKhyPlfoINV8QcD2CcoQlVVKmlIO1G320oRPusbl5nDh5zASSLeLsYae3HldZ7QBDlnvcSYiuOjljgGhzFWOTXKNPvgPBgQxv9odkdbENfkTlGiGt5Dh7pDTC/Xkn1SjLS34a0iLOuQWZWKLBpBnT5Dgi0hdfGY9+xBcVioFa2g7A/xwEMzW7kOdwHr09Anm7HcxTph9iOtxBOlTQj7S+gOOB5VD2xN1S5aWNsDyJ4Pw4F0T2kRZ7U+g+xkSAf8G+AvQJzZrQ5L77EeUM6pBktIs5FAVuAAqkF610g+qdABjfhwNZVrmVCjbOO1JLT6KDTHSKZeGu/TYc0o0XEI2S4TLpKHORreHch3v1JNNdjT3ED2xrDHCuluqr+qhb9WNQi4nZB9XzGDi+Dz/gQ6IULJ+SQraN0M9sa48LY2Nx00SLiWef1cXgYVU4O4GulZAnayBpyqFTiGXNQE2As5nTguS1AWsRRUCag0p38wp7pQGDuQs6/Oze3KCMU6DMZ3esRdGegmzEYMwtl+5exWfwLwNRMM2gF7froo811ljktpEycSeO0Cjr9kTMz0k4qvRiv3/11O4VitVDbhHgAwXkYYt6AMcswNlGG6858tgR92YiKpHugVJAScWzEJuK0Ch47xtek1JvYQ6xBHkc1lDNQ6Z76ptb+dShYVqBl9Mei3tYVmWNyp9yitqjGKzFmOsbW8RzsMPfjfvu6enx9+V6potnEY6Tls6D7Iibx9+Ya5OAqePs9aLYcB1KinJDhjB6DRJ6Whv1WshkjuZ3V1nYUn3y/M8dgLM/BcYj1jn1UrrVESmjWh4C7oGQ0SopJGjq+hyUBs7kha4jued5eUSnvh0TuQH6fZJlPoRq9YjOiTxzftwVkY8jJK+pM0ua1LlNGszxOmjrhBHnKExbppDiGDT7/CIQK6cIHSBs+sH92sa0h6dYAyDRFst0hssPD2GuU4ikW1Ru25Q47TYLW0/50w9JtsPgsLXTJiUC5WXkb43K7w2YTZyTIC1GFIw/Ez+EW3/7BcQmg9Ecl2UdUBzdWWqaLcDniScHEzUlJwOSREokP1qll/k7AHLBe0n/BNDurxIGnn48C8wiOsENmfGOZv3ekTJzB5OvCjo4Nf3X6viE7DSlq6wwrLizm5ocB4S+Gtl5H7t1jmf4nQK4fgr+3It7mWyZGXV2tY5XMziv+lVLqNRSUCH8VWJ1XJpAZ4NRMrXUhiPsKlRKv8v65umKTua++UpEzqKQPasq/tBa3p6XxKwEXPC5oODbU5ubpioXW3UnIXexx/s/CUETjW1bX/wdIDIPWFyh3/qGbtfVJdaVDYVscCvbe/V/676g+mFtT0QAAAABJRU5ErkJggg==",Hj="/monbudgetpersodemo/assets/Cloture_Comptable-CoaQ1rCg.png",Zi=({isLocked:t,onClick:e})=>a.jsx(He,{ariaLabel:"Clôture",buttonclassname:"modifier-button",logoclassname:"Logo_Button",logo:Hj,altText:"Clôture",titleText:t?"Element Vérrouillé":"Clôture",onClick:e,type:"button",disabled:t});Zi.propTypes={isLocked:f.bool.isRequired,onClick:f.func.isRequired};const yr=({isLocked:t,onClick:e})=>a.jsx(He,{ariaLabel:"Supprimer",buttonclassname:"supprimer-button",logo:a.jsx(og,{className:"button-icon"}),useReactIcon:!0,altText:"Supprimer",titleText:t?"Elément Vérrouillé":"Suppression Définitive",onClick:e,type:"button",disabled:t});yr.propTypes={isLocked:f.bool.isRequired,onClick:f.func.isRequired};const Ht=({isLocked:t,onClick:e})=>a.jsx(He,{ariaLabel:"Modifier",buttonclassname:"modifier-button",logo:a.jsx(Qu,{className:"button-icon"}),useReactIcon:!0,altText:"Modifier",titleText:t?"Element Vérrouillé":"Modifier",onClick:e,type:"button",disabled:t});Ht.propTypes={isLocked:f.bool.isRequired,onClick:f.func.isRequired};function zt(t){return yt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"},child:[]},{tag:"path",attr:{d:"M10.5 4l-2.5 2.5-2.5-2.5-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 2.5-2.5 2.5 2.5 1.5-1.5-2.5-2.5 2.5-2.5z"},child:[]}]})(t)}const lr=({onCreate:t,onCancel:e,buttonclassname:r="button-create",labelCreate:n="Créer une Saisie",labelCancel:s="Annuler la Saisie"})=>a.jsxs(a.Fragment,{children:[a.jsx(He,{ariaLabel:n,label:n,buttonclassname:r,logo:a.jsx(da,{className:"button-icon-text"}),useReactIcon:!0,altText:n,titleText:n,type:"submit",onClick:t}),a.jsx(He,{ariaLabel:s,label:s,buttonclassname:"button-cancel",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,altText:s,titleText:s,type:"button",onClick:e})]});lr.propTypes={onCreate:f.func.isRequired,onCancel:f.func.isRequired,buttonclassname:f.string,labelCreate:f.string,labelCancel:f.string};const el=({onUpdate:t,onCancel:e,buttonclassname:r="button-update",labelUpdate:n="Modifier une Saisie",labelCancel:s="Annuler la Saisie"})=>a.jsxs(a.Fragment,{children:[a.jsx(He,{ariaLabel:n,label:n,buttonclassname:r,logo:a.jsx(Qu,{className:"button-icon-text"}),useReactIcon:!0,altText:n,titleText:n,type:"submit",onClick:t}),a.jsx(He,{ariaLabel:s,label:s,buttonclassname:"button-cancel",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,altText:s,titleText:s,type:"button",onClick:e})]});el.propTypes={onUpdate:f.func.isRequired,onCancel:f.func.isRequired,buttonclassname:f.string,labelUpdate:f.string,labelCancel:f.string};const bp=({onReset:t,onCreate:e,onCancel:r,disabled:n,buttonclassname:s="button-create",labelCreate:o="Créer une Saisie",labelCancel:i="Annuler la Saisie"})=>a.jsxs(a.Fragment,{children:[a.jsx(He,{ariaLabel:"Réinitialiser",buttonclassname:"button-reset",logo:a.jsx(Es,{className:"button-icon-text"}),useReactIcon:!0,label:"Réinitialiser",altText:"Réinitialiser",titleText:"Réinitialiser",onClick:t,type:"button"}),a.jsx(He,{ariaLabel:o,label:o,buttonclassname:s,logo:a.jsx(da,{className:"button-icon-text"}),useReactIcon:!0,altText:o,titleText:o,type:"submit",onClick:e,disabled:n}),a.jsx(He,{ariaLabel:i,label:i,buttonclassname:"button-cancel",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,altText:i,titleText:i,type:"button",onClick:r})]});bp.propTypes={onReset:f.func.isRequired,onCreate:f.func.isRequired,onCancel:f.func.isRequired,disabled:f.bool,buttonclassname:f.string,labelCreate:f.string,labelCancel:f.string};const tl=({row:t,onDelete:e})=>a.jsx(yr,{isLocked:!!t.original.validationfait||t.original.pointer==="P"||!!t.original.partagefait,onClick:()=>e(t.original.id)});tl.propTypes={row:f.object.isRequired,onDelete:f.func.isRequired};const rl=({row:t,onUpdate:e})=>a.jsx(Ht,{isLocked:!!t.original.validationfait||t.original.pointer==="P"||!!t.original.partagefait,onClick:()=>e(t.original.id)});rl.propTypes={row:f.object.isRequired,onUpdate:f.func.isRequired};const Cp=({filteredData:t,selectedRows:e,handleSelectAllClick:r})=>{const n=A(o=>o.auth.user.prenomUtilisateur),s=A(o=>o.userSettings.data.identifiant);return p.useMemo(()=>{const o=t.some(y=>y.nChq),i=t.some(y=>y.references),c=t.some(y=>y.tr),d=t.every((y,x,b)=>y.debit===b[0].debit),l=t.every(y=>parseFloat(y.partTitulaire1)===0&&parseFloat(y.partTitulaire2)===0),m=t.some(y=>y.partagerle!==void 0&&y.partagerle!==null&&y.partagerle!==""),h=t.some(y=>y.validerle!==void 0&&y.validerle!==null&&y.validerle!=="");return[{id:"selection",Header:()=>a.jsx("div",{children:a.jsx("input",{type:"checkbox",className:"custom-checkbox-input",checked:t.length>0&&e.length===t.length,onChange:y=>r(y.target.checked,t),ref:y=>{y&&(y.indeterminate=e.length>0&&e.length<t.length)}})}),Cell:hp,className:"tablette"},{Header:"N°",accessor:"id",className:"tablette"},{Header:"Date Saisie",accessor:"dateSaisie",className:"mobile"},{Header:"Date Réelle",accessor:"dateReelle"},{Header:"Compte",accessor:"compte"},{Header:"Type",accessor:"typeSaisie",className:"mobile"},{Header:"Catégories",accessor:"categorie",className:"tablette"},{Header:"Sous-Catégories",accessor:"sousCategorie"},{Header:"Détail",accessor:"detail",className:"mobile"},{Header:"Régl",accessor:"reglement"},d?null:{Header:"Débit",accessor:"debit",className:"tablette"},o?{Header:"N° Chq",accessor:"nChq",className:"tablette"}:null,i?{Header:"Références",accessor:"references",className:"tablette"}:null,{Header:"Montant",accessor:"montant",Cell:sr},c?{Header:"TR",accessor:"montanttr",className:"tablette",Cell:sr}:null,l?null:{Header:`Part ${Pt(n)}`,accessor:"partTitulaire1",className:"tablette",Cell:sr},l?null:{Header:`Part ${Pt(s)}`,accessor:"partTitulaire2",className:"tablette",Cell:sr},l?null:{Header:"Total",accessor:"montanttotal",className:"tablette",Cell:sr},m?{Header:"Partager le",accessor:"partagerle",className:"tablette"}:null,{Header:"P",accessor:"pointer"},h?{Header:"Valider le",accessor:"validerle",className:"tablette"}:null,{id:"modify",Header:"Modifier",Cell:rl,className:"mobile"},{id:"delete",Header:"Supprimer",Cell:tl,className:"mobile"}].filter(Boolean)},[t,e,n,s,r])};Cp.propTypes={Cell:f.shape({row:f.object.isRequired}),filteredData:f.array.isRequired,selectedRows:f.array.isRequired,handleSelectAllClick:f.func.isRequired,onUpdate:f.func.isRequired,onDelete:f.func.isRequired,row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Gj=(t,e,r,n,s,o,i,c,d,l,m,h,y,x,b)=>p.useMemo(()=>{let R=t.filter(g=>e.idCompte===1||g.idCompte===e.idCompte);if(R=R.filter(g=>!!(r.nonPointer===1&&!g.pointer||r.aVenir===1&&g.aPartager&&!g.partageFait||r.partager===1&&g.aPartager&&g.partageFait&&g.idPartage||r.pointer===1&&g.pointer&&!g.dateValidation||r.valider===1&&g.validationFait&&g.idValidation&&g.dateValidation||r.all===1)),n.dateDebut&&n.dateFin){const g=new Date(n.dateDebut),P=new Date(n.dateFin);R=R.filter(S=>{const v=new Date(S.dateReelle);return v>=g&&v<=P})}return R.sort((g,P)=>{const S=new Date(g.dateReelle),v=new Date(P.dateReelle);return S<v?-1:S>v?1:g.idSaisieDepense-P.idSaisieDepense}),R.map(g=>{let P=g.idTypeSaisie===2?-1*g.montantDebit:g.montantCredit,S=g.montantTR*-1,v=P+S,I=g.partTitulaire1*-1,N=g.partTitulaire2*-1;const _=s.find(G=>G.idCompte===g.idCompte),O=x.find(G=>G.idTypeCompte===_.idTypeCompte),j=b.find(G=>G.idTypeLivret===_.idTypeLivret),k=o.find(G=>G.idTypeSaisie===g.idTypeSaisie),q=c.find(G=>G.idSCat===g.idSCat),$=i.find(G=>G.idCat===q.idCat),L=d.find(G=>G.idSCat===q.idSCat),z=m.find(G=>G.idTypeDebit===g.idTypeDebit),M=l.find(G=>G.idModeReglement===g.idModeReglement),V=h.find(G=>G.idPeriode===g.idValidation),E=y.find(G=>G.idPartage===g.idPartage);let T="";return _.idTypeLivret!==null?T=`${_.codeCompte} ${j.libelleTypeLivret} ${O.libelleTypeCompte}`:T=`${_.codeCompte} ${O.libelleTypeCompte}`,{id:g.idSaisieDepense,dateSaisie:jr(g.dateSaisie),dateReelle:jr(g.dateReelle),compte:T,typeSaisie:k.codeTypeSaisie,categorie:$.libelleCategorie,sousCategorie:q.libelleSousCategorie,detail:L.libelleDetail,reglement:M.codeModeReglement,debit:z.codeTypeDebit,nChq:g.nCheque,references:g.idCommande,montant:Wr(P),montanttr:Wr(g.montantTR),partTitulaire1:Wr(I),partTitulaire2:Wr(N),montanttotal:Wr(v),partagefait:g.partageFait,partagerle:E?jr(E.datePartage):"",pointer:g.pointer?"P":"",validationfait:g.validationFait,validerle:V?jr(V.dateValidation):""}})},[t,e,r,n,s,o,i,c,d,l,m,h,y,x,b]),Qe=({id:t,name:e,options:r,value:n,onChange:s,disabled:o,size:i,label:c,title:d,className:l,labelClassName:m,selectClassName:h,isRequired:y,multiple:x=!1})=>{const b=x?n:Array.isArray(n)?n[0]:n,R=`no-custom-scrollbar ${h||""}`.trim();return a.jsxs("div",{className:l,children:[c&&a.jsxs("label",{htmlFor:t,className:m,children:[c," : ",y&&a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("select",{name:e,id:t,value:b,size:i,title:d,onChange:s,disabled:o,"aria-disabled":o?"true":"false",className:R,multiple:x,required:y,children:r.map(g=>a.jsx("option",{value:g.value,hidden:g.hidden,children:g.label},g.id.toString()))})]})};Qe.propTypes={id:f.string.isRequired,name:f.string.isRequired,options:f.arrayOf(f.shape({id:f.oneOfType([f.number,f.string]).isRequired,value:f.oneOfType([f.number,f.string]).isRequired,label:f.string.isRequired})).isRequired,value:f.oneOfType([f.number,f.string,f.arrayOf(f.oneOfType([f.number,f.string]))]).isRequired,onChange:f.func.isRequired,disabled:f.bool,size:f.string,label:f.string,title:f.string,hidden:f.bool,className:f.string.isRequired,labelClassName:f.string,selectClassName:f.string,isRequired:f.bool,multiple:f.bool};const Er=({label:t,id:e,name:r,checked:n,onChange:s,title:o,disabled:i,isRequired:c=!1,className:d="checkbox-container",inputClassName:l=""})=>a.jsxs("div",{className:d,children:[a.jsxs("label",{htmlFor:e,className:"checkbox-label",children:[t,c&&a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"checkbox",id:e,name:r,checked:n,onChange:s,title:o,disabled:i,required:c,"aria-checked":n,"aria-required":c,className:l})]});Er.propTypes={label:f.string.isRequired,id:f.string.isRequired,name:f.string.isRequired,checked:f.bool.isRequired,onChange:f.func.isRequired,title:f.string,disabled:f.bool,isRequired:f.bool,className:f.string,inputClassName:f.string};const or=({label:t,id:e,name:r,value:n,onChange:s,title:o,isRequired:i=!1,className:c="date-input-container",labelClassName:d="input-label",inputClassName:l="date-input-field",disabled:m})=>a.jsxs("div",{className:c,children:[a.jsxs("label",{htmlFor:e,className:d,children:[t,t&&" : ",i&&a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:e,name:r,className:l,value:n,onChange:s,title:o,required:i,disabled:m})]});or.propTypes={label:f.string.isRequired,id:f.string.isRequired,name:f.string.isRequired,value:f.string,onChange:f.func.isRequired,title:f.string,isRequired:f.bool,disabled:f.bool,className:f.string,labelClassName:f.string,inputClassName:f.string};const Fe=({label:t="",id:e,name:r,type:n="text",value:s,onChange:o,onBlur:i=null,placeholder:c,minLength:d,maxLength:l,title:m,isRequired:h=!1,iconSrc:y="",iconAlt:x="",showPassword:b=!1,className:R="",labelClassName:g="",disabled:P=!1})=>{const S=b?"text":n;return a.jsxs(a.Fragment,{children:[y?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:y,alt:x,className:"input-icon"}),a.jsxs("label",{htmlFor:e,className:"visually-hidden",children:[t,h&&a.jsx("span",{className:"required-marker",children:"✱"})]})]}):a.jsxs("label",{htmlFor:e,className:g,children:[t,t&&" : ",h&&a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:S,id:e,name:r,className:`text-input-field ${R||""}`,value:s,onChange:o,onBlur:i,placeholder:c,minLength:d,maxLength:l,title:m,required:h,"aria-label":t,"aria-required":h?"true":"false",disabled:P})]})};Fe.propTypes={label:f.string,id:f.string.isRequired,name:f.string.isRequired,type:f.string,value:f.oneOfType([f.string,f.number]),onChange:f.func.isRequired,onBlur:f.func,placeholder:f.string,minLength:f.number,maxLength:f.number,title:f.string,isRequired:f.bool,iconSrc:f.string,iconAlt:f.string,showPassword:f.bool,className:f.string,labelClassName:f.string,disabled:f.bool};const Ct=({id:t,name:e,value:r,checked:n,onChange:s,label:o,isRequired:i=!1,disabled:c=!1,className:d="radio-input",labelClassName:l="radio-label",innerCircleClassName:m="radio-inner-circle"})=>a.jsxs(a.Fragment,{children:[a.jsx("input",{id:t,name:e,className:d,type:"radio",value:r,checked:n,onChange:s,disabled:c}),a.jsxs("label",{htmlFor:t,className:l,children:[a.jsx("span",{className:m}),o,i&&a.jsx("span",{className:"required-marker",children:"✱"})," "]})]});Ct.propTypes={id:f.string.isRequired,name:f.string.isRequired,value:f.oneOfType([f.string,f.number]),checked:f.bool.isRequired,onChange:f.func.isRequired,label:f.string.isRequired,isRequired:f.bool,className:f.string,labelClassName:f.string,innerCircleClassName:f.string,disabled:f.bool};const Rn=(t,e,r,n,s,o,i,c="horizontal-form-group",d="horizontal-form-label",l="horizontal-form-select")=>a.jsx(a.Fragment,{children:a.jsx(Qe,{id:t,name:e,options:r,value:n,onChange:s,disabled:o,label:i,className:c,labelClassName:d,selectClassName:l})}),yp=({selectedCompte:t,handleCompteChange:e,handleMonthYearChange:r,methodePaiement:n,setMethodePaiement:s,changePaymentMethod:o,paymentMethodImage:i,hideForm:c,loadingComptes:d,optionsComptesRecurrent:l})=>a.jsxs("div",{className:"section-header",children:[a.jsx("div",{className:"compte-dropdown",children:Rn("Compte_FiltreDropdown","Compte_FiltreDropdown",l,t,e,d,"Compte","vertical-form-group","vertical-form-label","vertical-form-select")}),a.jsxs("div",{className:"moisAnnee-dropdown",children:[a.jsx("label",{htmlFor:"mois-selected",className:"horizontal-form-label",children:"Afficher les élèments jusqu'en :"}),a.jsx(Dp,{onMonthYearChange:r,hideForm:c})]}),a.jsx("div",{className:"methodePaiement-dropdown",children:a.jsx(Ep,{methodePaiement:n,setMethodePaiement:s,paymentMethodImage:i,changePaymentMethod:o,hideForm:c})})]});yp.propTypes={selectedCompte:f.number.isRequired,handleCompteChange:f.func.isRequired,handleMonthYearChange:f.func.isRequired,methodePaiement:f.string.isRequired,setMethodePaiement:f.func.isRequired,changePaymentMethod:f.func.isRequired,paymentMethodImage:f.node.isRequired,hideForm:f.func.isRequired,loadingComptes:f.bool.isRequired,optionsComptesRecurrent:f.arrayOf(f.shape({value:f.oneOfType([f.number,f.string]),label:f.string})).isRequired};const vp=({columns:t,data:e,onModifyClick:r,onRowDoubleClick:n,onCheckboxChange:s,selectedRows:o})=>{const i=mn.useTable({columns:t,data:e},mn.useRowSelect),{getTableProps:c,getTableBodyProps:d,headerGroups:l,rows:m,prepareRow:h}=i,y=e.reduce((g,P)=>{const S=parseFloat(P.montant.replace(/€|\s/g,"").replace(",","."));return g+S},0),x=t?(t.length+1)/2:0,b=m?m.length:0,R=g=>{s(g.original.id)};return a.jsx(a.Fragment,{children:a.jsxs("table",{...c(),className:"table-saisies",children:[a.jsx("thead",{children:l.map((g,P)=>p.createElement("tr",{...g.getHeaderGroupProps(),key:P},g.headers.map(S=>p.createElement("th",{...S.getHeaderProps({className:S.className}),key:S.id},S.render("Header")))))}),a.jsx("tbody",{...d(),children:m.map((g,P)=>(h(g),p.createElement("tr",{...g.getRowProps({onDoubleClick:()=>n(g.original),className:"Ligne_Tableau"}),key:P},g.cells.map(S=>{let v=S.getCellProps({className:S.column.className});return S.column.id==="selection"?p.createElement("td",{...v,key:S.column.id},a.jsx("input",{type:"checkbox",className:"custom-checkbox-input",id:g.original.id,checked:o.includes(g.original.id),onChange:()=>R(g)})):S.column.id==="modify"?p.createElement("td",{...v,key:S.column.id},a.jsx(nl,{row:g,onModifyClick:r})):(S.column.id==="montant"&&typeof S.value=="string"&&parseFloat(S.value.replace(/,/g,"."))<0&&(v={...v,className:`${v.className} montant-negatif`}),p.createElement("td",{...v,key:S.column.id},S.render("Cell")))}))))}),a.jsx(Mp,{totalMontant:y,colSpan:x,nbreligne:b})]})})};vp.propTypes={columns:f.array.isRequired,data:f.array.isRequired,onModifyClick:f.func.isRequired,onRowDoubleClick:f.func.isRequired,onCheckboxChange:f.func.isRequired,selectedRows:f.array};const xp=({columns:t,data:e,onModifyClick:r,onRowDoubleClick:n,onCheckboxChange:s,selectedRows:o})=>a.jsx("div",{className:"SectionTableau",children:a.jsx(vp,{columns:t,data:e,onModifyClick:r,onRowDoubleClick:n,onCheckboxChange:s,selectedRows:o})});xp.propTypes={columns:f.array.isRequired,data:f.array.isRequired,onModifyClick:f.func.isRequired,onRowDoubleClick:f.func.isRequired,onCheckboxChange:f.func.isRequired,selectedRows:f.array.isRequired};function vr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Br(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Sp(t,e){const r=vr(t);if(isNaN(e))return Br(t,NaN);if(!e)return r;const n=r.getDate(),s=Br(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const wp=6048e5,$j=864e5;let Wj={};function Xs(){return Wj}function na(t,e){var c,d,l,m;const r=Xs(),n=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(l=r.locale)==null?void 0:l.options)==null?void 0:m.weekStartsOn)??0,s=vr(t),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ms(t){return na(t,{weekStartsOn:1})}function jp(t){const e=vr(t),r=e.getFullYear(),n=Br(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ms(n),o=Br(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Ms(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=i.getTime()?r:r-1}function Ac(t){const e=vr(t);return e.setHours(0,0,0,0),e}function Fc(t){const e=vr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Kj(t,e){const r=Ac(t),n=Ac(e),s=+r-Fc(r),o=+n-Fc(n);return Math.round((s-o)/$j)}function Xj(t){const e=jp(t),r=Br(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Ms(r)}function Yj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Jj(t){if(!Yj(t)&&typeof t!="number")return!1;const e=vr(t);return!isNaN(Number(e))}function Qj(t){const e=vr(t),r=Br(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Zj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eR=(t,e,r)=>{let n;const s=Zj[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _o(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const tR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aR={date:_o({formats:tR,defaultWidth:"full"}),time:_o({formats:rR,defaultWidth:"full"}),dateTime:_o({formats:nR,defaultWidth:"full"})},sR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oR=(t,e,r,n)=>sR[t];function qn(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):i;s=t.formattingValues[c]||t.formattingValues[i]}else{const i=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const iR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mR=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fR={ordinalNumber:mR,era:qn({values:iR,defaultWidth:"wide"}),quarter:qn({values:lR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qn({values:cR,defaultWidth:"wide"}),day:qn({values:dR,defaultWidth:"wide"}),dayPeriod:qn({values:uR,defaultWidth:"wide",formattingValues:pR,defaultFormattingWidth:"wide"})};function _n(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?gR(c,h=>h.test(i)):hR(c,h=>h.test(i));let l;l=t.valueCallback?t.valueCallback(d):d,l=r.valueCallback?r.valueCallback(l):l;const m=e.slice(i.length);return{value:l,rest:m}}}function hR(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function gR(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function bR(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=e.slice(s.length);return{value:i,rest:c}}}const CR=/^(\d+)(th|st|nd|rd)?/i,yR=/\d+/i,vR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xR={any:[/^b/i,/^(a|c)/i]},SR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wR={any:[/1/i,/2/i,/3/i,/4/i]},jR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ER={ordinalNumber:bR({matchPattern:CR,parsePattern:yR,valueCallback:t=>parseInt(t,10)}),era:_n({matchPatterns:vR,defaultMatchWidth:"wide",parsePatterns:xR,defaultParseWidth:"any"}),quarter:_n({matchPatterns:SR,defaultMatchWidth:"wide",parsePatterns:wR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_n({matchPatterns:jR,defaultMatchWidth:"wide",parsePatterns:RR,defaultParseWidth:"any"}),day:_n({matchPatterns:TR,defaultMatchWidth:"wide",parsePatterns:NR,defaultParseWidth:"any"}),dayPeriod:_n({matchPatterns:PR,defaultMatchWidth:"any",parsePatterns:DR,defaultParseWidth:"any"})},MR={code:"en-US",formatDistance:eR,formatLong:aR,formatRelative:oR,localize:fR,match:ER,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OR(t){const e=vr(t);return Kj(e,Qj(e))+1}function kR(t){const e=vr(t),r=+Ms(e)-+Xj(e);return Math.round(r/wp)+1}function Rp(t,e){var m,h,y,x;const r=vr(t),n=r.getFullYear(),s=Xs(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(y=s.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,i=Br(t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=na(i,e),d=Br(t,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const l=na(d,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function AR(t,e){var c,d,l,m;const r=Xs(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(l=r.locale)==null?void 0:l.options)==null?void 0:m.firstWeekContainsDate)??1,s=Rp(t,e),o=Br(t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),na(o,e)}function FR(t,e){const r=vr(t),n=+na(r,e)-+AR(r,e);return Math.round(n/wp)+1}function Et(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const $r={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Et(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Et(r+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Et(s,e.length)}},yn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ic={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return $r.y(t,e)},Y:function(t,e,r,n){const s=Rp(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return Et(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):Et(o,e.length)},R:function(t,e){const r=jp(t);return Et(r,e.length)},u:function(t,e){const r=t.getFullYear();return Et(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return $r.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=FR(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Et(s,e.length)},I:function(t,e,r){const n=kR(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Et(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):$r.d(t,e)},D:function(t,e,r){const n=OR(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Et(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Et(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Et(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Et(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=yn.noon:n===0?s=yn.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=yn.evening:n>=12?s=yn.afternoon:n>=4?s=yn.morning:s=yn.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return $r.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):$r.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):$r.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):$r.s(t,e)},S:function(t,e){return $r.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return _c(n);case"XXXX":case"XX":return an(n);case"XXXXX":case"XXX":default:return an(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return _c(n);case"xxxx":case"xx":return an(n);case"xxxxx":case"xxx":default:return an(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qc(n,":");case"OOOO":default:return"GMT"+an(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qc(n,":");case"zzzz":default:return"GMT"+an(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Et(n,e.length)},T:function(t,e,r){const n=t.getTime();return Et(n,e.length)}};function qc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+Et(o,2)}function _c(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):an(t,e)}function an(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Et(Math.trunc(n/60),2),o=Et(n%60,2);return r+s+e+o}const Lc=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Tp=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},IR=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Lc(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Lc(n,e)).replace("{{time}}",Tp(s,e))},qR={p:Tp,P:IR},_R=/^D+$/,LR=/^Y+$/,BR=["D","DD","YY","YYYY"];function UR(t){return _R.test(t)}function VR(t){return LR.test(t)}function zR(t,e,r){const n=HR(t,e,r);if(console.warn(n),BR.includes(t))throw new RangeError(n)}function HR(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$R=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WR=/^'([^]*?)'?$/,KR=/''/g,XR=/[a-zA-Z]/;function Rr(t,e,r){var m,h,y,x,b,R,g,P;const n=Xs(),s=(r==null?void 0:r.locale)??n.locale??MR,o=(r==null?void 0:r.firstWeekContainsDate)??((h=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(y=n.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((R=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:R.weekStartsOn)??n.weekStartsOn??((P=(g=n.locale)==null?void 0:g.options)==null?void 0:P.weekStartsOn)??0,c=vr(t);if(!Jj(c))throw new RangeError("Invalid time value");let d=e.match($R).map(S=>{const v=S[0];if(v==="p"||v==="P"){const I=qR[v];return I(S,s.formatLong)}return S}).join("").match(GR).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const v=S[0];if(v==="'")return{isToken:!1,value:YR(S)};if(Ic[v])return{isToken:!0,value:S};if(v.match(XR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const l={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const v=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&VR(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&UR(v))&&zR(v,e,String(t));const I=Ic[v[0]];return I(c,v,s.localize,l)}).join("")}function YR(t){const e=t.match(WR);return e?e[1].replace(KR,"'"):t}const Np=({rowId:t,methodePaiement:e,onCancel:r,onCloseModal:n})=>{const s=pt(),o=A(la),i=A(M=>M.typeCompte.data),c=A(Hi),d=A($i),l=A(Dd),m=A(M=>M.typeSaisies.data),h=A(M=>M.groupes.data),y=A(M=>M.categories.data),x=A(M=>M.sousCategories.data),b=A(M=>M.details.data),R=A(M=>M.modeReglement.data),g=A(M=>M.recurrents.data),P=A(M=>M.exercices.data),{modalConfig:S,setModalConfig:v,errorModalConfig:I,confirmationModalConfig:N}=ot(),_=p.useMemo(()=>{let M;if(e==="Prélèvement"?M=c.find(H=>H.idPrelevement===t):e==="Virement"?M=d.find(H=>H.idVirement===t):e==="Provision"&&(M=l.find(H=>H.idProvision===t)),!M)return console.error("Aucun élément trouvé pour l'ID:",t),{};const V=i.find(H=>H.idTypeCompte===o.idTypeCompte),E=x.find(H=>H.idSCat===M.idSCat),T=y.find(H=>H.idCat===(E==null?void 0:E.idCat)),G=h.find(H=>H.idGroupe===T.idGroupe),Z=m.find(H=>H.idTypeSaisie===G.idTypeSaisie),Y=b.find(H=>H.idSCat===M.idSCat),ne=R.find(H=>H.idModeReglement===E.idModeReglement),K=g.find(H=>H.idSCat===E.idSCat);let te=new Date;e==="Prélèvement"&&M.dernierPrelevement?te=new Date(M.dernierPrelevement):e==="Virement"&&M.dernierVirement?te=new Date(M.dernierVirement):e==="Provision"&&M.dernierProvision&&(te=new Date(M.dernierProvision));const ge=K.recurrentMontant<0?K.recurrentMontant*-1:K.recurrentMontant;let ue,Q;e==="Prélèvement"||e==="Virement"?ue=o.idCompte:(ue=o.idCompte,Q=M.compteDestination);const Ae=Rr(new Date,"yyyy-MM-dd");let Ue=parseFloat(ge),Ve=parseFloat(K.recurrentMontant),nt=0,ce=0;Number(Z.idTypeSaisie)===2&&Ue>0?(nt=0,ce=Ue):(nt=Ue,ce=0);const we={id:t,idCompte:ue,libelleCompte:`${o.libelleCompte} ${V.libelleTypeCompte}`,idTypeSaisie:Z.idTypeSaisie,idGroupe:G.idGroupe,idCat:(T==null?void 0:T.idCat)||"",libelleCategorie:(T==null?void 0:T.libelleCategorie)||"",idSCat:(E==null?void 0:E.idSCat)||"",libelleSousCategorie:(E==null?void 0:E.libelleSousCategorie)||"",idModeReglement:ne.idModeReglement,idTypeDebit:E.idTypeDebit,montantCredit:nt,montantDebit:ce,montant:Ve,montantform:Ue,dateSaisie:Ae,dateReelle:Rr(te,"yyyy-MM-dd"),detail:(Y==null?void 0:Y.idDetail)||"",aPartager:E.aPartager};let fe=null;if(e==="Provision"){const H=x.find(_e=>_e.idSCat===M.sousCategorieDestination),oe=y.find(_e=>_e.idCat===(H==null?void 0:H.idCat)),xe=h.find(_e=>_e.idGroupe===oe.idGroupe),ke=m.find(_e=>_e.idTypeSaisie===xe.idTypeSaisie),ht=b.find(_e=>_e.idSCat===M.sousCategorieDestination);fe={id:t,idCompte:Q,idTypeSaisie:ke.idTypeSaisie,idGroupe:xe.idGroupe,idCat:(oe==null?void 0:oe.idCat)||"",idSCat:(H==null?void 0:H.idSCat)||"",idModeReglement:ne.idModeReglement,idTypeDebit:H.idTypeDebit,montantCredit:ce,montantDebit:nt,montant:Ve,montantform:Ue,dateSaisie:Ae,dateReelle:Rr(te,"yyyy-MM-dd"),detail:(ht==null?void 0:ht.idDetail)||"",aPartager:H.aPartager}}return{dataToReturn:we,dataToReturnPart2:fe}},[e,c,d,t,i,o,y,x,g,l,b,R,h,m]),[O,j]=p.useState(_.dataToReturn.dateReelle),[k,q]=p.useState(_.dataToReturn.montantform);p.useEffect(()=>{j(_.dataToReturn.dateReelle),q(_.dataToReturn.montantform)},[_]);const $=()=>{v([]),r()},L=()=>{v([]),n()},z=async M=>{M.preventDefault();const E=(T=>{var te;const G=Rr(new Date,"yyyy-MM-dd");let Z=0,Y=0,ne=0;Number(T.idTypeSaisie)===2&&k>0?(ne=k*-1,Y=k):(ne=k,Z=k),Z=isNaN(Z)?0:parseFloat(Z),Y=isNaN(Y)?0:parseFloat(Y);const K=(te=P.find(ge=>{const ue=new Date(ge.debutExercice),Q=new Date(ge.finExercice),Ae=new Date(O);return Ae>=ue&&Ae<=Q}))==null?void 0:te.idExercice;return{id:t,idCompte:T.idCompte,idExercice:K,dateSaisie:G,dateReelle:O,selectedTypeSaisieId:T.idTypeSaisie,selectedGroupeId:T.idGroupe,selectedCategoriesId:T.idCat,selectedSousCategoriesId:T.idSCat,selectedDetailId:T.detail,modeReglementId:T.idModeReglement,chequeNumber:null,montantCredit:Z,montantDebit:Y,montant:ne,montantTR:0,selectedTypeDebitId:T.idTypeDebit,A_Partager:T.aPartager,montantPartTitulaire1:0,montantPartTitulaire2:0}})(_.dataToReturn);try{switch(e){case"Prélèvement":await s(_r({prelevementId:E.id,updatedData:E}));break;case"Virement":await s(Sn({virementId:E.id,updatedData:E}));break;case"Provision":await s(ra({provisionId:E.id,updatedData:E}));break;default:console.error("Méthode de paiement non reconnue:",e)}const T=`Ecriture n° ${t} mise à jour. Souhaitez-vous continuer les modifications ?`,G="";r(),v([N(T,G,()=>{$(),v([])},()=>{L(),v([])},()=>{L(),v([])})])}catch(T){console.error("Erreur lors de la mise à jour des données",T),v([I("Une erreur est survenue lors de la création de l'écriture")])}};return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:z,className:"recurrent-form",children:[a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Compte",children:["Compte :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Compte",value:_.dataToReturn.libelleCompte,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Reelle",children:["Date Réelle :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Reelle",value:O,onChange:M=>j(M.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Categories",children:["Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Categories",value:_.dataToReturn.libelleCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"SousCategories",children:["Sous-Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"SousCategories",value:_.dataToReturn.libelleSousCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Montant",children:["Montant :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Montant",value:k,onChange:M=>q(M.target.value),"aria-required":"true",required:!0})]}),a.jsx("div",{className:"form-buttons",children:a.jsx(el,{onCreate:z,onCancel:r,labelUpdate:"Modifier",labelCancel:"Annuler"})})]}),a.jsx(lt,{modalConfig:S})]})};Np.propTypes={rowId:f.number,methodePaiement:f.string.isRequired,isEditing:f.bool.isRequired,onCancel:f.func.isRequired,onCloseModal:f.func.isRequired};const Pp=({rowId:t,methodePaiement:e,onCancel:r,onCloseModal:n})=>{const s=pt(),o=A(la),i=A(M=>M.typeCompte.data),c=A(Hi),d=A($i),l=A(LS),m=A(M=>M.typeSaisies.data),h=A(M=>M.groupes.data),y=A(M=>M.categories.data),x=A(M=>M.sousCategories.data),b=A(M=>M.details.data),R=A(M=>M.modeReglement.data),g=A(M=>M.recurrents.data),P=A(M=>M.exercices.data),{modalConfig:S,setModalConfig:v,errorModalConfig:I,confirmationModalConfig:N}=ot(),_=p.useMemo(()=>{let M;if(e==="Prélèvement"?M=c.find(H=>H.idPrelevement===t):e==="Virement"?M=d.find(H=>H.idVirement===t):e==="Provision"&&(M=l.find(H=>H.idProvision===t)),!M)return console.error("Aucun élément trouvé pour l'ID:",t),{};const V=i.find(H=>H.idTypeCompte===o.idTypeCompte),E=x.find(H=>H.idSCat===M.idSCat),T=y.find(H=>H.idCat===(E==null?void 0:E.idCat)),G=h.find(H=>H.idGroupe===T.idGroupe),Z=m.find(H=>H.idTypeSaisie===G.idTypeSaisie),Y=b.find(H=>H.idSCat===M.idSCat),ne=R.find(H=>H.idModeReglement===E.idModeReglement),K=g.find(H=>H.idSCat===E.idSCat);let te=new Date;e==="Prélèvement"&&M.dernierPrelevement?te=new Date(M.dernierPrelevement):e==="Virement"&&M.dernierVirement?te=new Date(M.dernierVirement):e==="Provision"&&M.dernierProvision&&(te=new Date(M.dernierProvision)),te=Sp(te,1);const ge=K.recurrentMontant<0?K.recurrentMontant*-1:K.recurrentMontant;let ue,Q;e==="Prélèvement"||e==="Virement"?ue=o.idCompte:(ue=o.idCompte,Q=M.compteDestination);const Ae=Rr(new Date,"yyyy-MM-dd");let Ue=parseFloat(ge),Ve=parseFloat(K.recurrentMontant),nt=0,ce=0;Number(Z.idTypeSaisie)===2&&Ue>0?(nt=0,ce=Ue):(nt=Ue,ce=0);const we={id:t,idCompte:ue,libelleCompte:`${o.libelleCompte} ${V.libelleTypeCompte}`,idTypeSaisie:Z.idTypeSaisie,idGroupe:G.idGroupe,idCat:(T==null?void 0:T.idCat)||"",libelleCategorie:(T==null?void 0:T.libelleCategorie)||"",idSCat:(E==null?void 0:E.idSCat)||"",libelleSousCategorie:(E==null?void 0:E.libelleSousCategorie)||"",idModeReglement:ne.idModeReglement,idTypeDebit:E.idTypeDebit,montantCredit:nt,montantDebit:ce,montant:Ve,montantform:Ue,dateSaisie:Ae,dateReelle:Rr(te,"yyyy-MM-dd"),detail:(Y==null?void 0:Y.idDetail)||"",aPartager:E.aPartager};let fe=null;if(e==="Provision"){const H=x.find(_e=>_e.idSCat===M.sousCategorieDestination),oe=y.find(_e=>_e.idCat===(H==null?void 0:H.idCat)),xe=h.find(_e=>_e.idGroupe===oe.idGroupe),ke=m.find(_e=>_e.idTypeSaisie===xe.idTypeSaisie),ht=b.find(_e=>_e.idSCat===M.sousCategorieDestination);fe={id:t,idCompte:Q,idTypeSaisie:ke.idTypeSaisie,idGroupe:xe.idGroupe,idCat:(oe==null?void 0:oe.idCat)||"",idSCat:(H==null?void 0:H.idSCat)||"",idModeReglement:ne.idModeReglement,idTypeDebit:H.idTypeDebit,montantCredit:ce,montantDebit:nt,montant:Ve,montantform:Ue,dateSaisie:Ae,dateReelle:Rr(te,"yyyy-MM-dd"),detail:(ht==null?void 0:ht.idDetail)||"",aPartager:H.aPartager}}return{dataToReturn:we,dataToReturnPart2:fe}},[e,c,d,i,t,o,y,x,g,l,b,R,h,m]),[O,j]=p.useState(_.dataToReturn.dateReelle),[k,q]=p.useState(_.dataToReturn.montantform);p.useEffect(()=>{j(_.dataToReturn.dateReelle),q(_.dataToReturn.montantform)},[_]);const $=()=>{v([]),r()},L=()=>{v([]),n()},z=async M=>{M.preventDefault();let V=[];const E=Z=>{var ue;const Y=Rr(new Date,"yyyy-MM-dd");let ne=0,K=0,te=0;Number(Z.idTypeSaisie)===2&&k>0?(te=k*-1,K=k):(te=k,ne=k),ne=isNaN(ne)?0:parseFloat(ne),K=isNaN(K)?0:parseFloat(K);const ge=(ue=P.find(Q=>{const Ae=new Date(Q.debutExercice),Ue=new Date(Q.finExercice),Ve=new Date(O);return Ve>=Ae&&Ve<=Ue}))==null?void 0:ue.idExercice;return{id:t,idCompte:Z.idCompte,idExercice:ge,dateSaisie:Y,dateReelle:O,selectedTypeSaisieId:Z.idTypeSaisie,selectedGroupeId:Z.idGroupe,selectedCategoriesId:Z.idCat,selectedSousCategoriesId:Z.idSCat,selectedDetailId:Z.detail,modeReglementId:Z.idModeReglement,chequeNumber:null,montantCredit:ne,montantDebit:K,montant:te,montantTR:0,selectedTypeDebitId:Z.idTypeDebit,A_Partager:Z.aPartager,montantPartTitulaire1:0,montantPartTitulaire2:0}},T=async(Z,Y)=>{try{const ne=await s(ln(Z));if(ne.type==="ecritures/submitFormData/fulfilled"){V.push(ne.payload[0].idSaisieDepense);const K=Z.id,te={...Z};switch(e){case"Prélèvement":await s(_r({prelevementId:K,updatedData:te}));break;case"Virement":await s(Sn({virementId:K,updatedData:te}));break;case"Provision":Y||await s(ra({provisionId:K,updatedData:te}));break;default:console.error("Méthode de paiement non reconnue:",e)}const ge=`Ecriture(s) n° ${V.join(", ")} créée(s). Souhaitez-vous en créer une autre ?`,ue="";r(),v([N(ge,ue,()=>{$(),v([])},()=>{L(),v([])},()=>{L(),v([])})])}else throw new Error("La soumission des données a échoué.")}catch(ne){console.error("Error submitting form:",ne),v([I("Une erreur est survenue lors de la création de l'écriture")])}},G=E(_.dataToReturn);if(T(G,!1),e==="Provision"&&_.dataToReturnPart2){const Z=E(_.dataToReturnPart2);T(Z,!0)}};return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:z,className:"recurrent-form",children:[a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Compte",children:["Compte :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Compte",value:_.dataToReturn.libelleCompte,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Reelle",children:["Date Réelle :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Reelle",value:O,onChange:M=>j(M.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Categories",children:["Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Categories",value:_.dataToReturn.libelleCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"SousCategories",children:["Sous-Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"SousCategories",value:_.dataToReturn.libelleSousCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Montant",children:["Montant :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Montant",value:k,onChange:M=>q(M.target.value),"aria-required":"true",required:!0})]}),a.jsx("div",{className:"form-buttons",children:a.jsx(lr,{onCreate:z,onCancel:r,labelCreate:"Créer",labelCancel:"Annuler"})})]}),a.jsx(lt,{modalConfig:S})]})};Pp.propTypes={rowId:f.number,methodePaiement:f.string.isRequired,onCancel:f.func.isRequired,onCloseModal:f.func.isRequired};const Dp=({onMonthYearChange:t,hideForm:e})=>{const r=A(R=>R.exercices.data),[n,s]=p.useState(new Date().getMonth()),[o,i]=p.useState(new Date().getFullYear()),c=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],d=r.map(R=>R.libelleExercice).filter((R,g,P)=>P.indexOf(R)===g);d.sort();const l=()=>{n===0?(s(11),i(o-1)):s(n-1),e()},m=()=>{n===11?(s(0),i(o+1)):s(n+1),e()};p.useEffect(()=>{t(n,o)},[n,o,t]);const h=Math.min(...d),y=Math.max(...d),x=o===h&&n===0,b=o===y&&n===11;return a.jsxs("div",{className:"horizontal-form-group",children:[a.jsx("button",{onClick:l,className:"button-reccurent",disabled:x,title:x?"Vous avez atteint la limite inférieure":"Mois précédent",children:a.jsx(p0,{className:"button-icon-reccurent"})}),a.jsx("select",{id:"mois-selected",value:n,onChange:R=>s(Number(R.target.value)),className:"horizontal-form-select",children:c.map((R,g)=>a.jsx("option",{value:g,children:R},R))}),a.jsx("select",{value:o,onChange:R=>i(Number(R.target.value)),className:"horizontal-form-select",children:d.map(R=>a.jsx("option",{value:R,children:R},R))}),a.jsx("button",{onClick:m,className:"button-reccurent",disabled:b,title:b?"Vous avez atteint la limite supérieure":"Mois suivant",children:a.jsx(m0,{className:"button-icon-reccurent"})})]})};Dp.propTypes={onMonthYearChange:f.func.isRequired,hideForm:f.func.isRequired};const Ep=({methodePaiement:t,setMethodePaiement:e,paymentMethodImage:r,changePaymentMethod:n})=>{const s=[{id:"prelevement",value:"Prélèvement",label:"Prélèvement"},{id:"virement",value:"Virement",label:"Virement"},{id:"mouvementInterne",value:"Provision",label:"Provision"}];return a.jsxs(a.Fragment,{children:[a.jsx(Qe,{id:"methodePaiementSelect",name:"methodePaiement",options:s,value:t,onChange:o=>e(o.target.value),label:"Méthode de Paiement",className:"vertical-form-group",labelClassName:"vertical-form-label",selectClassName:"vertical-form-select"}),a.jsx(He,{ariaLabel:"Changer la méthode de paiement",buttonclassname:"Button_Entete",logoclassname:"Logo_Button_Entete",logo:r,altText:"Changer la méthode de paiement",titleText:"Changer la méthode de paiement",onClick:n,type:"button"})]})};Ep.propTypes={methodePaiement:f.string.isRequired,setMethodePaiement:f.func.isRequired,paymentMethodImage:f.string.isRequired,changePaymentMethod:f.func.isRequired};const Mp=({totalMontant:t,colSpan:e=0,nbreligne:r=0})=>a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsxs("td",{colSpan:e,className:"nbre_ligne",children:["Nombre(s) de ligne(s) : ",r]}),a.jsxs("td",{className:"libelle_Total",children:[a.jsx("span",{children:"Total : "}),a.jsx("span",{className:t<0?"montant-negatif":"",children:rr(t.toFixed(2))})]}),a.jsx("td",{colSpan:e})]})});Mp.propTypes={totalMontant:f.number.isRequired,colSpan:f.number,nbreligne:f.number};const Op=({row:t})=>{const e=t.getToggleRowSelectedProps();return a.jsx(Ks,{...e})};Op.propTypes={row:f.object.isRequired};const nl=({row:t,onModifyClick:e})=>a.jsx(Ht,{isLocked:!1,onClick:()=>e(t.original.id)});nl.propTypes={row:f.object.isRequired,onModifyClick:f.func.isRequired};const kp=({methodePaiement:t,filteredData:e,selectedRows:r,handleSelectAllClick:n})=>p.useMemo(()=>[{id:"selection",Header:()=>a.jsx("div",{children:a.jsx("input",{type:"checkbox",className:"custom-checkbox-input",checked:e.length>0&&r.length===e.length,onChange:o=>n(o.target.checked,e),ref:o=>{o&&(o.indeterminate=r.length>0&&r.length<e.length)}})}),Cell:Op,className:"tablette"},{Header:"Compte",accessor:"compte"},{Header:"Catégories",accessor:"categorie"},{Header:"Sous-Catégories",accessor:"sousCategorie"},{Header:t==="Prélèvement"?"Jours de Prélèvement":"Jours de Virement",accessor:"joursAction"},{Header:"Montant",accessor:"montant"},{Header:"Périodicité",accessor:"periodicite"},{Header:t==="Prélèvement"?"Dernier Prélèvement":"Dernier Virement",accessor:"dernierAction"},{id:"modify",Header:"Modifier",Cell:nl,className:"mobile"}].filter(Boolean),[e,r,n,t]);kp.propTypes={Cell:f.shape({row:f.object.isRequired}),filteredData:f.array.isRequired,selectedRows:f.array.isRequired,handleSelectAllClick:f.func.isRequired,onUpdate:f.func.isRequired,onDelete:f.func.isRequired,row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const JR=({methodePaiement:t,selectedCompte:e,prelevements:r,virements:n,provisions:s,selectedYear:o,selectedMonth:i,dataComptes:c,typeComptes:d,categories:l,sousCategories:m,recurrents:h,periodicites:y})=>p.useMemo(()=>{if(!e)return[];let x;const b=parseInt(e,10);switch(t){case"Prélèvement":x=r.filter(g=>g.prelevementCompte===b);break;case"Virement":x=n.filter(g=>g.virementCompte===b);break;case"Provision":x=s.filter(g=>g.compteOrigine===b);break;default:return console.error("Méthode de paiement non reconnue:",t),[]}const R=new Date(o,i,1);return x.filter(g=>new Date(g.dernierPrelevement||g.dernierVirement||g.dernierProvision)<R).map(g=>{let P;switch(t){case"Prélèvement":P=g.prelevementCompte;break;case"Virement":P=g.virementCompte;break;case"Provision":P=g.compteOrigine;break;default:return console.error("Méthode de paiement non reconnue:",t),null}const S=c.find(L=>L.idCompte===P)||{},v=c.find(L=>L.idCompte===g.compteDestination)||{},I=d.find(L=>L.idTypeCompte===S.idTypeCompte)||{},N=d.find(L=>L.idTypeCompte===v.idTypeCompte)||{},_=m.find(L=>L.idSCat===g.idSCat)||{},O=l.find(L=>L.idCat===_.idCat)||{},j=l.find(L=>L.idCat===g.categorieDestination)||{},k=m.find(L=>L.idSCat===g.sousCategorieDestination)||{},q=h.find(L=>L.idSCat===_.idSCat)||{},$=y.find(L=>L.idPeriodicite===g.idPeriodicite)||{};return{id:t==="Prélèvement"?g.idPrelevement:t==="Virement"?g.idVirement:g.idProvision,compte:t==="Provision"?`${v.libelleCompte} ${N.libelleTypeCompte}`:`${S.libelleCompte} ${I.libelleTypeCompte}`,categorie:t==="Provision"?j.libelleCategorie:O.libelleCategorie,sousCategorie:t==="Provision"?k.libelleSousCategorie:_.libelleSousCategorie,montant:rr(q.recurrentMontant),periodicite:$.libellePeriodicite,joursAction:t==="Prélèvement"?g.joursPrelevement:t==="Virement"?g.joursVirement:g.joursProvision,dernierAction:jr(g.dernierPrelevement||g.dernierVirement||g.dernierProvision)}}).filter(Boolean)},[t,e,r,n,s,o,i,c,d,l,m,h,y]),Ap=({filtreOptions:t,filtreTitulaire:e,setFiltreTitulaire:r})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"sharing-entry__header-title",children:[a.jsx(Qe,{id:"Filters_FiltreDropdown",name:"Filters_FiltreDropdown",options:t,value:e,onChange:n=>r(n.target.value),className:"sharing-entry-filters",selectClassName:"dropdown-select",isRequired:!0}),a.jsxs("div",{className:"sharing-entry__header-alert",children:[a.jsx(Vo,{className:"button-icon-text"}),a.jsx("p",{children:" Attention, seules les écritures pointées sont prises en comptes par défaut."})]})]})});Ap.propTypes={filtreOptions:f.arrayOf(f.shape({value:f.oneOfType([f.number,f.string]),label:f.string})).isRequired,filtreTitulaire:f.string.isRequired,setFiltreTitulaire:f.func.isRequired,partTitulaire:f.string.isRequired};const Fp=({totalMontant:t,totalTitulaire1:e,totalTitulaire2:r,colSpan:n=0,nbreligne:s=0})=>a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsxs("td",{colSpan:n,className:"nbre_ligne",children:["Nombre(s) de ligne(s) à partagée(s): ",s]}),a.jsx("td",{className:"libelle_Total",children:a.jsx("span",{className:t<0?"montant-negatif":"",children:rr(t.toFixed(2))})}),a.jsx("td",{className:"libelle_Total",children:a.jsx("span",{className:e<0?"montant-negatif":"",children:rr(e.toFixed(2))})}),a.jsx("td",{className:"libelle_Total",children:a.jsx("span",{className:r<0?"montant-negatif":"",children:rr(r.toFixed(2))})}),a.jsx("td",{colSpan:n})]})});Fp.propTypes={totalMontant:f.number.isRequired,totalTitulaire1:f.number.isRequired,totalTitulaire2:f.number.isRequired,colSpan:f.number,nbreligne:f.number};const Ip=({columns:t,data:e,onCheckboxChange:r,selectedRows:n})=>{const s=mn.useTable({columns:t,data:e},mn.useRowSelect),{getTableProps:o,getTableBodyProps:i,headerGroups:c,rows:d,prepareRow:l}=s,m=e.reduce((g,P)=>{const S=parseFloat(P.montant.replace(/€|\s/g,"").replace(",","."));return g+S},0),h=e.reduce((g,P)=>{const S=parseFloat(P.partTitulaire1.replace(/€|\s/g,"").replace(",","."));return g+S},0),y=e.reduce((g,P)=>{const S=parseFloat(P.partTitulaire2.replace(/€|\s/g,"").replace(",","."));return g+S},0),x=7,b=d?d.length:0,R=g=>{r(g.original.id)};return a.jsx(a.Fragment,{children:a.jsxs("table",{...o(),className:"table-saisies",children:[a.jsx("thead",{children:c.map((g,P)=>p.createElement("tr",{...g.getHeaderGroupProps(),key:P},g.headers.map(S=>p.createElement("th",{...S.getHeaderProps({className:S.className}),key:S.id},S.render("Header")))))}),a.jsx("tbody",{...i(),children:d.map((g,P)=>(l(g),p.createElement("tr",{...g.getRowProps({className:"Ligne_Tableau"}),key:P},g.cells.map(S=>{let v=S.getCellProps({className:S.column.className});return S.column.id==="selection"?p.createElement("td",{...v,key:S.column.id},a.jsx("input",{type:"checkbox",className:"custom-checkbox-input",id:g.original.id,checked:n.includes(g.original.id),onChange:()=>R(g)})):(S.column.id==="montant"&&typeof S.value=="string"&&parseFloat(S.value.replace(/,/g,"."))<0&&(v={...v,className:`${v.className} montant-negatif`}),p.createElement("td",{...v,key:S.column.id},S.render("Cell")))}))))}),a.jsx(Fp,{totalMontant:m,totalTitulaire1:h,totalTitulaire2:y,colSpan:x,nbreligne:b})]})})};Ip.propTypes={columns:f.array.isRequired,data:f.array.isRequired,onCheckboxChange:f.func.isRequired,selectedRows:f.array};const qp=({columns:t,data:e,selectedRows:r,onCheckboxChange:n})=>a.jsx("div",{className:"SectionTableau",children:a.jsx(Ip,{columns:t,data:e,onCheckboxChange:n,selectedRows:r})});qp.propTypes={columns:f.array.isRequired,data:f.array.isRequired,onCheckboxChange:f.func.isRequired,selectedRows:f.array.isRequired};const _p=({partTitulaire1:t,partTitulaire2:e,totalTitulaire2Left:r,totalTitulaire2Right:n})=>{const s=r-n;return s>0?a.jsxs("p",{children:["Après partage, ",Pt(t)," devra ",rr(s)," à ",Pt(e)]}):s<0?a.jsxs("p",{children:["Après partage, ",Pt(e)," devra ",rr(s*-1)," à ",Pt(t)]}):a.jsxs("p",{children:["Après partage, aucun montant n'est dû entre"," ",Pt(t)," et ",Pt(e)]})};_p.propTypes={partTitulaire1:f.string.isRequired,partTitulaire2:f.string.isRequired,totalTitulaire2Left:f.number.isRequired,totalTitulaire2Right:f.number.isRequired};const Lp=({selectedRowsCount:t,pointedRowsCount:e,totalAmount:r,partTitulaire1:n,partTitulaire2:s})=>{const i=Cx(new Date);return a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Nombre(s) de ligne(s) sélectionnée(s) : ",t," dont ",e," ligne(s) pointée(s)"]}),a.jsxs("p",{children:["Au ",i,", ",Pt(s)," doit ",r.toFixed(2)," € à ",Pt(n)]})]})};Lp.propTypes={selectedRowsCount:f.number.isRequired,pointedRowsCount:f.number.isRequired,totalAmount:f.number.isRequired,partTitulaire1:f.string.isRequired,partTitulaire2:f.string.isRequired};const hi=({sideLabel:t,filtreOptions:e,filtreTitulaire:r,setFiltreTitulaire:n,columns:s,data:o,handleRowCheck:i,onCheckboxChange:c,selectedRowsCount:d,pointedRowsCount:l,totalAmount:m,partTitulaire1:h,partTitulaire2:y})=>a.jsxs("div",{className:`sharing-entry__side sharing-entry__side--${t}`,children:[a.jsxs("h3",{children:["Écritures à partager de ",Pt(h)]}),a.jsx("div",{className:"sharing-entry__header",children:a.jsx(Ap,{filtreOptions:e,filtreTitulaire:r,setFiltreTitulaire:n,partTitulaire:h})}),a.jsx("div",{className:"sharing-entry__content",children:a.jsx(qp,{columns:s,data:o,handleRowCheck:i,onCheckboxChange:c,selectedRows:d})}),a.jsx("div",{className:"sharing-entry__footer",children:a.jsx(Lp,{selectedRowsCount:d.length,pointedRowsCount:l,totalAmount:m,partTitulaire1:h,partTitulaire2:y})})]});hi.propTypes={sideLabel:f.string.isRequired,filtreOptions:f.array.isRequired,filtreTitulaire:f.string.isRequired,setFiltreTitulaire:f.func.isRequired,columns:f.array.isRequired,data:f.array.isRequired,handleRowCheck:f.func.isRequired,onCheckboxChange:f.func.isRequired,selectedRowsCount:f.array.isRequired,pointedRowsCount:f.number.isRequired,totalAmount:f.number.isRequired,partTitulaire1:f.string.isRequired,partTitulaire2:f.string.isRequired};const Bp=({row:t})=>{const e=t.getToggleRowSelectedProps();return a.jsx(Ks,{...e})};Bp.propTypes={row:f.object.isRequired};const gi=({isLeft:t,filteredData:e,selectedRows:r,handleSelectAllClick:n})=>{const s=A(i=>i.auth.user.prenomUtilisateur),o=A(i=>i.userSettings.data.identifiant);return p.useMemo(()=>{const i=e.every(d=>parseFloat(d.partTitulaire1)===0&&parseFloat(d.partTitulaire2)===0);let c=[{id:"selection",Header:()=>a.jsx("div",{children:a.jsx("input",{type:"checkbox",className:"custom-checkbox-input",checked:e.length>0&&r.length===e.length,onChange:d=>n(d.target.checked,e),ref:d=>{d&&(d.indeterminate=r.length>0&&r.length<e.length)}})}),Cell:Bp,className:"tablette"},{Header:"N°",accessor:"id",className:"tablette"},{Header:"Date Réelle",accessor:"dateReelle"},{Header:"Compte",accessor:"compte"},{Header:"Catégories",accessor:"categorie",className:"tablette"},{Header:"Sous-Catégories",accessor:"sousCategorie"},{Header:"Détail",accessor:"detail",className:"mobile"},{Header:"Montant",accessor:"montant",Cell:sr}];return t?c.push(i?null:{Header:`Part ${Pt(s)}`,accessor:"partTitulaire1",className:"tablette",Cell:sr},i?null:{Header:`Part ${Pt(o)}`,accessor:"partTitulaire2",className:"tablette",Cell:sr}):c.push(i?null:{Header:`Part ${Pt(o)}`,accessor:"partTitulaire1",className:"tablette",Cell:sr},i?null:{Header:`Part ${Pt(s)}`,accessor:"partTitulaire2",className:"tablette",Cell:sr}),c.push({Header:"P",accessor:"pointer"}),c.filter(Boolean)},[e,r,s,o,n,t])};gi.propTypes={Cell:f.shape({row:f.object.isRequired}),filteredData:f.array.isRequired,selectedRows:f.array.isRequired,handleSelectAllClick:f.func.isRequired,onUpdate:f.func.isRequired,onDelete:f.func.isRequired,row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Bc=(t,e,r,n,s,o,i)=>p.useMemo(()=>{let c=t.filter(d=>d.aPartager&&!d.partageFait);return c.sort((d,l)=>{const m=new Date(d.dateReelle),h=new Date(l.dateReelle);return m<h?-1:m>h?1:d.idSaisieDepense-l.idSaisieDepense}),c.map(d=>{let l=d.idTypeSaisie===2?-1*d.montantDebit:d.montantCredit,m=d.partTitulaire1*-1,h=d.partTitulaire2*-1;const y=e.find(P=>P.idCompte===d.idCompte);let x,b,R,g;if(!y)x=`${d.codeCompte} ${d.libelleTypeCompte}`,b=d.libelleCategorie,R=d.libelleSousCategorie,g=d.libelleDetail;else{const P=o.find(_=>_.idTypeCompte===y.idTypeCompte),S=i.find(_=>_.idTypeLivret===y.idTypeLivret);x=y.idTypeLivret!==null?`${y.codeCompte} ${S.libelleTypeLivret} ${P.libelleTypeCompte}`:`${y.codeCompte} ${P.libelleTypeCompte}`;const v=n.find(_=>_.idSCat===d.idSCat),I=r.find(_=>_.idCat===v.idCat),N=s.find(_=>_.idSCat===v.idSCat);b=I?I.libelleCategorie:"",R=v?v.libelleSousCategorie:"",g=N?N.libelleDetail:""}return{id:d.idSaisieDepense,dateSaisie:jr(d.dateSaisie),dateReelle:jr(d.dateReelle),compte:x,categorie:b,sousCategorie:R,detail:g,montant:Wr(l),partTitulaire1:Wr(m),partTitulaire2:Wr(h),pointer:d.pointer?"P":""}})},[t,e,r,n,s,o,i]);function QR(t=!1){const e=pt(),r=A(o=>o.onlineUsers.users),n=A(o=>{var i;return(i=o.auth.user)==null?void 0:i.idUser}),s=A(o=>o.auth.token);return p.useEffect(()=>{if(s){e(Kn(s));const o=setInterval(()=>{e(Kn(s))},6e4);return()=>clearInterval(o)}},[e,s]),t?r:r.filter(o=>o.idUser!==n)}function Up(){const t=new Date().getFullYear(),e=t===2020?"2020":`2020 - ${t}`;return a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[Pi," - Copyright © ",e]}),a.jsxs("p",{children:[mC," - Tous Droits Réservés"]})]})}function Vp({version:t,date:e}){return a.jsxs("p",{children:["Version ",t," du ",e]})}Vp.propTypes={version:f.string.isRequired,date:f.string.isRequired};function zp(){const t=A(e=>e.version.data);return a.jsxs("footer",{className:"footer",children:[a.jsx(Up,{}),t&&t.versionOutil&&a.jsx(Vp,{version:t.versionOutil,date:t.dateOutil})]})}const{persistor:ZR}=lp(),e1=()=>{const t=pt(),e=fn(),{user:r,token:n}=A(P=>P.auth),[s,o]=p.useState(!1),{modalConfig:i,setModalConfig:c,errorModalConfig:d,showLogoutConfirmation:l}=ot(e);p.useEffect(()=>{});const m=p.useMemo(()=>r&&r.cheminImageProfil?`${Nc}${r.cheminImageProfil}`:`${Nc}defaut.jpg`,[r]),h=()=>o(!s),y=()=>{e("/SaisieListe"),o(!1)},x=()=>{e("/Users"),o(!1)},b=()=>{e("/Setup"),o(!1)},R=p.useCallback(async()=>{if(r&&n){const P=await t(pj(n));P.success?(e("/"),ZR.purge()):(console.error("Échec de la déconnexion :",P.error),c([d("Échec de la déconnexion.")]))}else console.error("Token manquant ou invalide."),c([d("Token manquant ou invalide.")])},[t,e,r,n,c,d]),g=p.useCallback((P=!1)=>{l("Déconnexion",P?"Vous avez été déconnecté car vous êtes restés inactif plus de 15 minutes.":"Vous avez été déconnecté avec succès.",R)},[l,R]);return Aj(()=>g(!0),15*60*1e3),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"burger-menu-container",children:[a.jsx("button",{className:"burger-menu-button",onClick:h,"aria-label":s?"Fermer le menu":"Ouvrir le menu","aria-expanded":s,style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.5s ease"},children:s?a.jsx(Fr,{className:"Burgericon"}):a.jsx(h0,{className:"Burgericon"})}),s&&a.jsxs("nav",{className:"burger-menu","aria-label":"Menu principal",children:[a.jsxs("div",{className:"user-info",children:[a.jsxs("p",{className:"Login_User",children:["Utilisateur Connecté : ",r?`${r.prenomUtilisateur.charAt(0).toUpperCase()}${r.prenomUtilisateur.slice(1)}`:"Non connecté"]}),a.jsx("img",{src:m,className:"Profile_Image",alt:"Profil de l'utilisateur"})]}),a.jsxs("button",{className:"Button_Menu",onClick:()=>g(!1),children:[a.jsx(w0,{className:"Logo_Button_Complet"}),"Déconnexion"]}),a.jsxs("button",{className:"Button_Menu",onClick:y,children:[a.jsx(da,{className:"Logo_Button_Complet"}),"Saisies"]}),a.jsxs("button",{className:"Button_Menu",onClick:b,children:[a.jsx(Wt,{className:"Logo_Button_Complet"}),"Paramétrages"]}),a.jsxs("button",{className:"Button_Menu",onClick:x,children:[a.jsx(T0,{className:"Logo_Button_Complet"}),"Utilisateurs"]}),a.jsx("div",{className:"menu-footer",children:a.jsx(zp,{})})]})]}),a.jsx(lt,{modalConfig:i})]})},t1=()=>{const t=QR(!0),{modalConfig:e,setModalConfig:r,successModalConfig:n}=ot(),s=()=>{const o=a.jsx("ul",{children:t.map(i=>a.jsx("li",{children:Pt(i.identifiant)},i.idUser))});r([n(o,"Liste des utilisateurs connectés")])};return a.jsxs("header",{children:[a.jsxs("div",{className:"titre-header",children:[" ",a.jsx("h1",{children:"Mon Budget Perso"})]}),t.length>1&&a.jsx("div",{className:"online-users-notification",onClick:s,children:a.jsxs("a",{href:"#",onClick:o=>o.preventDefault(),children:[t.length," utilisateur(s) connecté(s) en ligne"]})}),a.jsx(lt,{modalConfig:e})]})};function r1(){const t=pt(),e=fn(),r=A(O=>O.auth.loading),{isAuthenticated:n,user:s,token:o}=A(O=>O.auth),i=A(Rd),[c,d]=p.useState(""),[l,m]=p.useState(""),[h,y]=p.useState(!1),[x,b]=p.useState(!1),{modalConfig:R,setModalConfig:g,errorModalConfig:P,loginModalConfig:S}=ot(e),[v,I]=p.useState(!1),N=()=>y(!h);p.useEffect(()=>{i&&(async()=>{i&&n&&!v&&o&&((await t(mj(o))).isConnected?e("/SaisieListe"):(t({type:"LOGOUT"}),localStorage.removeItem("persist:auth"),e("/"))),b(!0)})()},[t,e,n,o,v,i]),p.useEffect(()=>{if(x&&v&&n&&s){console.log("message connexion");const j=`Bonjour ${s.prenomUtilisateur.charAt(0).toUpperCase()+s.prenomUtilisateur.slice(1)} !!!`,k="Connexion Réussie avec Succès";(R.length===0||R[0].title!==k||R[0].message!==j)&&g([S(k,j)])}},[v,x,n,s,R,g,S]);const _=async O=>{O.preventDefault();try{const j=await t(dj(c,l));I(!0),j.error&&(I(!1),g([P("Connexion échouée",j.error.message||"Échec de la connexion. Veuillez réessayer.")]))}catch(j){console.error("Erreur lors de la connexion :",j),I(!1),g([P("Erreur","Une erreur s'est produite lors de la connexion. Veuillez réessayer.")])}};return a.jsxs("div",{className:"login-page",children:[a.jsx(Wi,{title:`${Pi} - Connexion`}),a.jsxs("div",{className:"login-container",children:[a.jsx("div",{className:"login-image-section",children:a.jsx(u0.LazyLoadImage,{alt:"background",effect:"blur",src:_j,width:"100%",height:"100%"})}),a.jsxs("form",{onSubmit:_,className:"login-form",children:[a.jsx("h2",{children:"Connexion"}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Identifiant",id:"Identifiant",name:"Identifiant",value:c,onChange:O=>d(O.target.value),placeholder:"Entrez votre identifiant",isRequired:!0,iconSrc:Lj,iconAlt:"Icône d'identifiant"})}),a.jsxs("div",{className:"input-group",children:[a.jsx(Fe,{id:"Password",name:"Password",type:h?"text":"password",value:l,onChange:O=>m(O.target.value),placeholder:"Entrez votre mot de passe",isRequired:!0,iconSrc:Bj,iconAlt:"Icône de mot de passe",showPassword:h}),a.jsx("button",{type:"button",className:"toggle-password-visibility",onClick:N,style:{border:"none",background:"none",cursor:"pointer"},title:"Cliquez pour afficher ou masquer le mot de passe",children:h?a.jsx(Ju,{size:20}):a.jsx(Yu,{size:20})})]}),a.jsxs("div",{className:"form-buttons",children:[a.jsx("div",{className:"forgot-password",children:a.jsx("a",{href:"/forgot-password",className:"forgot-password-link","aria-label":"Réinitialiser le mot de passe oublié",children:"Mot de passe oublié ?"})}),a.jsx(He,{ariaLabel:"Se connecter",buttonclassname:"button-login",logoclassname:"logo-login",logo:Uj,altText:"Se connecter",titleText:"Se connecter",type:"submit",label:r?"Chargement...":"Se Connecter",disabled:r})]}),a.jsx("div",{className:"copyright",children:a.jsx(Up,{})})]})]}),a.jsx(lt,{modalConfig:R})]})}const n1=()=>{const t=()=>{const e=new Date,r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear();return`${r}/${n}/${s}`};return a.jsx("div",{className:"block__soldeDate",children:a.jsxs("p",{children:["Solde au ",t()," :"]})})};function Hp({soldeActuel:t,compte:e}){const{codeCompte:r,libelleTypeLivret:n,libelleTypeCompte:s}=e,o=parseFloat(t)<0?"montant-negatif":"";return a.jsxs("div",{className:"Date_Gras",children:[`${r} ${n||""} ${s} : `,a.jsx("span",{className:o,children:pn(t)})]})}Hp.propTypes={soldeActuel:f.oneOfType([f.string,f.number]).isRequired,compte:f.shape({codeCompte:f.string.isRequired,libelleTypeCompte:f.string.isRequired,libelleTypeLivret:f.string}).isRequired};const bi=({compte:t})=>{const e=A(r=>Fs(r,t.idCompte));return a.jsx(Hp,{soldeActuel:e,compte:t},t.idCompte)};bi.propTypes={compte:f.object.isRequired};function Gp({compteSelectionne:t}){const e=A(n=>Fs(n,t)),r=A(n=>Ei(n,t));return t===null||e===void 0||r===void 0?a.jsx("p",{children:"Aucun compte correspondant sélectionné ou compte non trouvé."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"block__soldeDetail__Date",children:["Solde au ",jr(new Date)," : ",a.jsx("span",{className:e<0?"montant-negatif":"",children:pn(e)})]}),a.jsxs("div",{className:"block__soldeDetail__Date",children:["Solde à Venir : ",a.jsx("span",{className:r<0?"montant-negatif":"",children:pn(r)})]})]})}Gp.propTypes={compteSelectionne:f.number.isRequired};function $p({afficherInactifs:t,comptesData:e}){const r=A(d=>d.typeCompte.data),n=p.useMemo(()=>r.reduce((d,l)=>(d[l.idTypeCompte]=l.libelleTypeCompte,d),{}),[r]),s=e.filter(d=>["(Courant)","(Différé)","(Joint)"].includes(n[d.idTypeCompte])&&(t||!d.inactif)).map(d=>({...d,libelleTypeCompte:n[d.idTypeCompte]})),o=e.filter(d=>["(Epargne)"].includes(n[d.idTypeCompte])&&(t||!d.inactif)).map(d=>({...d,libelleTypeCompte:n[d.idTypeCompte]})),i=s.length>0?`repeat(${s.length}, 2fr)`:"2fr",c=o.length>0?`repeat(${o.length}, 2fr)`:"2fr";return a.jsxs(a.Fragment,{children:[a.jsx(n1,{}),a.jsx("div",{className:"block__soldeCompteTypeCourantDiffereJoint",style:{gridTemplateColumns:i},children:s.map(d=>a.jsx(bi,{compte:d},d.idCompte))}),a.jsx("div",{className:"block__soldeCompteTypeEpargne",style:{gridTemplateColumns:c},children:o.map(d=>a.jsx(bi,{compte:d},d.idCompte))})]})}$p.propTypes={afficherInactifs:f.bool.isRequired,comptesData:f.array.isRequired};const Wp=({onCreateClick:t,onSharingClick:e,handleButtonClick:r,selectedRows:n})=>{const s=A(la),o=A(d=>d.filtres.radioButtonFiltre),i=A(d=>d.userSettings.data.avecPartage),c=[{id:"submitAfficherCreationElement",name:"submitAfficherCreationElement",ariaLabel:"Créer",buttonclassname:"table-action-button",logo:a.jsx(da,{className:"button-icon-text"}),useReactIcon:!0,label:"Créer une Saisie",altText:"Créer une Saisie",titleText:"Créer une Saisie",onClick:t,disabled:s.idCompte===1},{ariaLabel:"Ecritures à Pointées",buttonclassname:"table-action-button",logo:a.jsx(Fo,{className:"button-icon-text"}),useReactIcon:!0,label:"Ecritures à Pointées",altText:"Ecritures à Pointées",titleText:"Ecritures à Pointées",onClick:r,disabled:o.valider===1||o.all===1||n.length===0},{ariaLabel:"Valider Partage",buttonclassname:"table-action-button",logo:a.jsx(Pc,{className:"button-icon-text"}),useReactIcon:!0,label:"Valider Partage",altText:"Valider Partage",titleText:"Valider Partage",onClick:e,disabled:o.aVenir!==1||i===0},{ariaLabel:"Afficher Partage",buttonclassname:"table-action-button",logo:a.jsx(Fo,{className:"button-icon-text"}),useReactIcon:!0,label:"Afficher Partage",altText:"Afficher Partage",titleText:"Afficher Partage",onClick:r,disabled:i===0},{ariaLabel:"Bloquer une Période",buttonclassname:"table-action-button",logo:a.jsx(Pc,{className:"button-icon-text"}),useReactIcon:!0,label:"Bloquer une Période",altText:"Bloquer une Période",titleText:"Bloquer une Période",onClick:r,disabled:o.pointer!==1},{ariaLabel:"Afficher les Périodes",buttonclassname:"table-action-button",logo:a.jsx(Fo,{className:"button-icon-text"}),useReactIcon:!0,label:"Afficher les Périodes",altText:"Afficher les Périodes",titleText:"Afficher les Périodes",onClick:r,disabled:!1}];return a.jsx(a.Fragment,{children:c.map((d,l)=>a.jsx(He,{id:d.id,name:d.name,ariaLabel:d.ariaLabel,buttonclassname:d.buttonclassname,logoclassname:d.logoclassname,logo:d.logo,useReactIcon:!0,label:d.label,altText:d.altText,titleText:d.titleText,onClick:d.onClick,type:"button",disabled:d.disabled},l))})};Wp.propTypes={onCreateClick:f.func.isRequired,onSharingClick:f.func.isRequired,handleButtonClick:f.func.isRequired,selectedRows:f.array.isRequired};function a1(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.649 5.286 14 8.548V2.025h-4v6.523L4.351 5.286l-2 3.465 5.648 3.261-5.648 3.261 2 3.465L10 15.477V22h4v-6.523l5.649 3.261 2-3.465-5.648-3.261 5.648-3.261z"},child:[]}]})(t)}const Kp=({compteSelectionne:t,idModeReglement:e,onChequeNumberChange:r})=>{const n=A(d=>d.comptes.data.find(m=>m.idCompte===t)),s=e===3,[o,i]=p.useState("");p.useEffect(()=>{let d="";s&&n&&(d=n.nCheque||""),i(d),r(d)},[n,s,r]);const c=d=>{if(s){const l=d.target.value;i(l),r(l)}};return a.jsx(a.Fragment,{children:a.jsx(Fe,{label:"N° Chèque",id:"NChq",name:"NChq",value:o,onChange:c,disabled:!s,className:"input-small"})})};Kp.propTypes={compteSelectionne:f.number.isRequired,idModeReglement:f.number.isRequired,onChequeNumberChange:f.func.isRequired};const Xp=({compteSelectionne:t})=>{const e=A(r=>Fs(r,t));return a.jsxs(a.Fragment,{children:["Solde au ",jr(new Date)," : ",a.jsx("span",{className:e<0?"montant-negatif":"",children:pn(e)})]})};Xp.propTypes={compteSelectionne:f.number.isRequired};const Yp=({compteSelectionne:t})=>{const e=A(r=>Ei(r,t));return a.jsxs(a.Fragment,{children:["Solde à Venir : ",a.jsx("span",{className:e<0?"montant-negatif":"",children:pn(e)})]})};Yp.propTypes={compteSelectionne:f.number.isRequired};const Jp=({value:t,onChange:e,selectedSousCategoriesId:r})=>{const n=A(d=>FC(d,r)),[s,o]=p.useState(!1);p.useEffect(()=>{if(!s){const d=n<0?n*-1:n,l=d?d.toFixed(2):"0.00";e(l)}},[n,e,s]);const i=d=>{o(!0);let l=d.target.value;l=l.replace(",","."),e(l)},c=d=>{let l=parseFloat(d.target.value);isNaN(l)?l=0:l=Math.abs(l).toFixed(2),e(l)};return a.jsx(a.Fragment,{children:a.jsx(Fe,{label:"Montant",id:"Montant",name:"Montant",value:t,onChange:i,onBlur:c,title:"Saisir le montant",isRequired:!0,className:"input-small"})})};Jp.propTypes={value:f.string,onChange:f.func.isRequired,selectedSousCategoriesId:f.string};const Qp=({A_Partager:t,montantTotal:e,onUpdatePartTitulaire1:r,onUpdatePartTitulaire2:n})=>{const[s,o]=p.useState(""),[i,c]=p.useState(""),[d,l]=p.useState(!0);p.useEffect(()=>{if(d){if(t){const b=parseFloat(e)||0,R=(b/2).toFixed(2);o(R),r(R);const g=(b-parseFloat(R)).toFixed(2);c(g),n(g)}else o("0.00"),c("0.00"),r("0.00"),n("0.00");l(!1)}},[t,e,r,n,d]);const m=b=>{o(b.target.value)},h=b=>{c(b.target.value)},y=b=>{if(t){const R=b.target.value;if(/^[0-9]+(\.[0-9]*)?$/.test(R)||R===""){const g=parseFloat(R)||0;o(g.toFixed(2));const P=(parseFloat(e)-g).toFixed(2);c(P),r(g.toFixed(2)),n(P)}}},x=b=>{if(t){const R=b.target.value;if(/^[0-9]+(\.[0-9]*)?$/.test(R)||R===""){const g=parseFloat(R)||0;c(g.toFixed(2));const P=(parseFloat(e)-g).toFixed(2);o(P),n(g.toFixed(2)),r(P)}}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"input-titulaire",children:a.jsx(Fe,{label:"Part Titulaire 1",id:"Part_Titulaire1",name:"Part_Titulaire1",value:s,onChange:m,onBlur:y,disabled:!t,className:"input-small",isRequired:!1})}),a.jsx("div",{className:"input-titulaire",children:a.jsx(Fe,{label:"Part Titulaire 2",id:"Part_Titulaire2",name:"Part_Titulaire2",value:i,onChange:h,onBlur:x,disabled:!t,className:"input-small",isRequired:!1})})]})};Qp.propTypes={A_Partager:f.bool.isRequired,montantTotal:f.string.isRequired,onUpdatePartTitulaire1:f.func.isRequired,onUpdatePartTitulaire2:f.func.isRequired};const Zp=({montant:t,setMontantTotal:e,setMontantTR:r,ticketRestaurantChecked:n,setTicketRestaurantChecked:s,nbreTickets:o,setNbreTickets:i,montantTicket:c,setMontantTicket:d})=>{p.useEffect(()=>{if(n){const x=parseFloat(o||"0")*8.6;d(x.toFixed(2));const R=((parseFloat(t)||0)+x).toFixed(2);e(R),r(x.toFixed(2))}else{const x=parseFloat(t)||0;e(x.toFixed(2)),r("0")}},[t,n,o,d,e,r]);const l=x=>{s(x.target.checked),x.target.checked||(i(""),d("0.00"))},m=x=>{const b=x.target.value;(/^[0-9]*$/.test(b)||b==="")&&i(b)},h=x=>{const b=x.target.value;(/^[0-9]+(\.[0-9]*)?$/.test(b)||b==="")&&d(b)},y=x=>{let b=parseFloat(x.target.value).toFixed(2);isNaN(b)&&(b="0.00"),d(b)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"Checkbox_Row",children:a.jsx(Er,{label:"Ticket Restaurant",id:"TR",name:"TR",checked:n,onChange:l,title:"Cocher pour sélectionner l'option Ticket Restaurant"})}),a.jsxs("div",{className:"Input_Row",children:[a.jsx(Fe,{id:"NbreTicket_Restaurant",name:"NbreTicket_Restaurant",type:"text",value:o,onChange:m,placeholder:"Nbre de TR",disabled:!n}),a.jsx(Fe,{id:"Ticket_Restaurant",name:"Ticket_Restaurant",type:"text",value:c,onChange:h,onBlur:y,disabled:!n})]}),a.jsx("div",{className:"input-montant",children:a.jsx(Fe,{label:"Montant Total",id:"Montant_Total",name:"Montant_Total",type:"text",value:(parseFloat(t)+parseFloat(c)).toFixed(2),onChange:h,onBlur:y,disabled:!0})})]})};Zp.propTypes={montant:f.string.isRequired,setMontantTotal:f.func.isRequired,setMontantTR:f.func.isRequired,ticketRestaurantChecked:f.bool.isRequired,setTicketRestaurantChecked:f.func.isRequired,nbreTickets:f.string.isRequired,setNbreTickets:f.func.isRequired,montantTicket:f.string.isRequired,setMontantTicket:f.func.isRequired};const em=({selectedSousCategoriesId:t,setA_Partager:e})=>{const r=A(d=>qC(d,t)),[n,s]=p.useState(r),[o,i]=p.useState(!1);p.useEffect(()=>{i(!1)},[t]),p.useEffect(()=>{if(!o){const d=r!==void 0?r:!1;s(d),e(d)}},[r,e,o]);const c=d=>{const l=d==="true";s(l),e(l),i(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs("label",{children:["À Partager :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsxs("div",{className:"Input_Row",children:[a.jsx(Ct,{id:"OptionPartageOui",name:"OptionPartage",value:"true",checked:n===!0,onChange:()=>c("true"),label:"Oui",className:"radio-input",labelClassName:"radio-label",innerCircleClassName:"radio-inner-circle"}),a.jsx(Ct,{id:"OptionPartageNon",name:"OptionPartage",value:"false",checked:n===!1,onChange:()=>c("false"),label:"Non",className:"radio-input",labelClassName:"radio-label",innerCircleClassName:"radio-inner-circle"})]})]})};em.propTypes={selectedSousCategoriesId:f.string.isRequired,setA_Partager:f.func.isRequired};const tm=({selectedSousCategoriesId:t,onChange:e})=>{const[r,n]=p.useState("1"),[s,o]=p.useState(!1),i=A(d=>IC(d,t));p.useEffect(()=>{const d=i?i.toString():"1";d!==r&&!s&&n(d)},[i,r,s]);const c=d=>{o(!0),n(d),e(d)};return a.jsxs(a.Fragment,{children:[a.jsxs("label",{htmlFor:"OptionTypeDebit",children:["Type de Débit :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsxs("div",{className:"Input_Row",children:[a.jsx(Ct,{id:"OptionTypeDebit1",name:"OptionTypeDebit",checked:r==="1",onChange:()=>c("1"),label:"Immédiat",className:"radio-input",labelClassName:"radio-label",innerCircleClassName:"radio-inner-circle"}),a.jsx(Ct,{id:"OptionTypeDebit2",name:"OptionPartage",checked:r==="2",onChange:()=>c("2"),label:"Différé",className:"radio-input",labelClassName:"radio-label",innerCircleClassName:"radio-inner-circle"})]})]})};tm.propTypes={selectedSousCategoriesId:f.string,onChange:f.func};const rm=({compteSelectionne:t,selectedGroupeId:e,onChange:r})=>{const n=A(d=>OC(d,t,e)),[s,o]=p.useState(""),i=n.map(d=>({id:d.idCat,value:d.idCat,label:d.libelleCategorie}));(e===0||n.length===0)&&i.unshift({id:"0",value:"0",label:"Choisir un Groupe",disabled:!0}),p.useEffect(()=>{n.length===1&&(o(n[0].idCat),r({target:{value:n[0].idCat}}))},[n,r]);const c=d=>{const l=d.target.value;o(l),r({target:{value:l}})};return a.jsx(Qe,{id:"Categorie_CreateDropdown",name:"Categorie_CreateDropdown",options:i,value:s||"0",onChange:c,disabled:e===0||n.length===0,label:"Catégorie",className:"Choix_Liste_Deroulante",size:"10",isRequired:!0})};rm.propTypes={compteSelectionne:f.number.isRequired,selectedGroupeId:f.string.isRequired,onChange:f.func.isRequired};const s1=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}operations/commandes`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch Commandes:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching Commandes: ${n} - ${s}`)}},o1=()=>{const[t,e]=p.useState(""),[r,n]=p.useState([]),s=A(i=>i.auth.token);p.useEffect(()=>{(async()=>{try{const d=(await s1(s)).map(l=>({id:l.Id_Commandes.toString(),value:l.Id_Commandes.toString(),label:l.Libelle_Commandes}));n([{id:"0",value:"0",label:"Aucun Commande"},...d])}catch(c){console.error("Erreur lors du chargement des N° Commandes",c)}})()},[s]);const o=i=>{e(i)};return a.jsx(Qe,{id:"Commande_CreateDropdown",name:"Commande_CreateDropdown",options:r,value:t,onChange:i=>o(i.target.value),label:"N° Commande",isRequired:!0,className:"vertical-form-group",labelClassName:"horizontal-form-label",selectClassName:"horizontal-form-select"})},nm=({selectedSousCategoriesId:t,onChange:e})=>{const n=A(l=>AC(l,t)).map(l=>({id:l.idDetail.toString(),value:l.idDetail.toString(),label:l.libelleDetail})),[s,o]=p.useState(""),i=l=>{const m=l.target.value;o(m),e({target:{value:m}})};p.useEffect(()=>{if(n.length>0){const l=n[0].value;o(l),e({target:{value:l}})}else o(""),e({target:{value:""}})},[n,e]);const d=t==="0"||n.length===0?[{id:"",value:"",label:"Choisir une Sous-Catégorie"},...n]:n;return a.jsx(Qe,{id:"Detail_CreateDropdown",name:"Detail_CreateDropdown",options:d,value:s||"",onChange:i,disabled:t==="0"||n.length===0,size:"10",label:"Détail",className:"Choix_Liste_Deroulante",isRequired:!0})};nm.propTypes={selectedSousCategoriesId:f.string.isRequired,onChange:f.func.isRequired};const am=({selectedTypeSaisieId:t,onChange:e})=>{const r=pt(),n=A(l=>l.groupes.data),s=A(l=>l.groupes.loading);p.useEffect(()=>{r(ts())},[r]);const[o,i]=p.useState(""),c=n.filter(l=>t?l.idTypeSaisie===Number(t):l.idGroupe===0).map(l=>({id:l.idGroupe,value:l.idGroupe,label:l.libelleGroupe,disabled:l.idGroupe===0}));t==="0"&&c.unshift({id:"0",value:"0",label:"Choisir un Type de Saisie",disabled:!0});const d=l=>{i(l.target.value),e(l)};return s?a.jsx("div",{children:"Loading..."}):a.jsx(Qe,{id:"Groupe_CreateDropdown",name:"Groupe_CreateDropdown",options:c,value:o||"0",onChange:d,disabled:t===0||c.length===1,size:"16",label:"Groupe",className:"Choix_Liste_Deroulante",isRequired:!0})};am.propTypes={selectedTypeSaisieId:f.string,onChange:f.func.isRequired};const sm=({onChange:t,idCompteType:e,selectedSousCategoriesId:r})=>{const n=A(l=>{const m=l.sousCategories.data.find(h=>String(h.idSCat)===String(r));return m?m.idModeReglement:"0"}),s=A(l=>DC(l,e)),o=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Mode de Règlement"},...s.map(l=>({id:l.idModeReglement,value:l.idModeReglement.toString(),label:l.libelleModeReglement,idModeReglement:l.idModeReglement}))],[s]),[i,c]=p.useState(n.toString());p.useEffect(()=>{const l=n.toString();if(r&&l){c(l);const m=o.find(h=>h.value===l);m&&t(m)}},[r,n,o,i,t]);const d=l=>{c(l);const m=o.find(h=>h.value===l);t(m||{})};return a.jsx(Qe,{id:"ModeReglement_CreateDropdown",name:"ModeReglement_CreateDropdown",options:o,value:i||"",onChange:l=>d(l.target.value),disabled:r==="0"||o.length===0,label:"Mode de Règlement",isRequired:!0,className:"modereglement-dropdown"})};sm.propTypes={onChange:f.func.isRequired,idCompteType:f.number,selectedSousCategoriesId:f.string};const i1=async t=>{if(!t)throw new Error("Authentication token is required");const e=`${Ne}operations/santes`;try{const r=await he.get(e,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});return Pe(r.data)}catch(r){console.error("Could not fetch Santes:",r.response||r);const n=r.response?r.response.status:"Network or CORS error",s=r.response?r.response.data.message:r.message;throw new Error(`Error fetching Santes: ${n} - ${s}`)}},l1=()=>{const[t,e]=p.useState(""),[r,n]=p.useState([]),s=A(i=>i.auth.token);p.useEffect(()=>{(async()=>{try{const d=(await i1(s)).map(l=>({id:l.Id_Santes.toString(),value:l.Id_Santes.toString(),label:l.Libelle_Santes}));n([{id:"0",value:"0",label:"Aucune Référence Santé"},...d])}catch(c){console.error("Erreur lors du chargement des N° Santes",c)}})()},[s]);const o=i=>{e(i)};return a.jsx(Qe,{id:"Sante_CreateDropdown",name:"Sante_CreateDropdown",options:r,value:t,onChange:i=>o(i.target.value),label:"Référence Santé",isRequired:!0,className:"vertical-form-group",labelClassName:"horizontal-form-label",selectClassName:"horizontal-form-select"})},om=({selectedCategoriesId:t,onChange:e})=>{const n=A(l=>kC(l,t)).map(l=>({id:l.idSCat.toString(),value:l.idSCat.toString(),label:l.libelleSousCategorie})),[s,o]=p.useState("");p.useEffect(()=>{if(n.length===1&&s!==n[0].value){const l=n[0].value;o(l),e({target:{value:l}})}},[n,s,e]);const i=l=>{const m=l.target.value;o(m),e({target:{value:m}})},d=t==="0"||n.length===0?[{id:"",value:"",label:"Choisir une Catégorie"},...n]:n;return a.jsx(Qe,{id:"SousCategorie_CreateDropdown",name:"SousCategorie_CreateDropdown",options:d,value:s||"",onChange:i,disabled:t==="0"||n.length===0,size:"10",label:"Sous-Catégorie",className:"Choix_Liste_Deroulante",isRequired:!0})};om.propTypes={selectedCategoriesId:f.string.isRequired,onChange:f.func.isRequired};const im=({onChange:t,selectedValue:e})=>{const r=pt(),n=A(c=>c.typeSaisies.data),s=A(c=>c.typeSaisies.loading);if(p.useEffect(()=>{(n.length===0||e==="")&&r(Qa())},[r,n.length,e]),s)return a.jsx("div",{children:"Loading..."});const o=[{id:"0",value:"0",label:"Sélectionnez",hidden:!0},...n.filter(c=>c.idTypeSaisie!==0).map(c=>({id:c.idTypeSaisie.toString(),value:c.idTypeSaisie.toString(),label:c.libelleTypeSaisie}))],i=c=>{t(c)};return a.jsx(a.Fragment,{children:a.jsx(Qe,{id:"TypeSaisie_CreateDropdown",name:"TypeSaisie_CreateDropdown",options:o,value:e,onChange:i,disabled:o.length===0,size:"2",label:"Type de Saisie",className:"Choix_Liste_Deroulante",isRequired:!0})})};im.propTypes={onChange:f.func.isRequired,selectedValue:f.string.isRequired};const lm=({handleCloseBothModals:t})=>{const e=pt(),{dataComptes:r,loadingComptes:n,selectedCompte:s,optionsComptes:o}=kn(),{dataExercices:i,loadingExercices:c,selectedExercice:d,optionsExercices:l,handleExerciceChange:m}=Ws(),{modalConfig:h,setModalConfig:y,confirmationModalConfig:x,errorModalConfig:b}=ot(),{handleConfirmCreateAnother:R,handleCancelCreateAnother:g,ticketRestaurantChecked:P,nbreTickets:S,montantTotal:v,modeReglement:I,montant:N,montantTR:_,montantTicket:O,selectedDetailId:j,selectedSousCategoriesId:k,selectedCategoriesId:q,selectedGroupeId:$,selectedTypeSaisieId:L,dateSaisie:z,dateReelle:M,selectedTypeDebit:V,chequeNumber:E,A_Partager:T,partTitulaire1:G,partTitulaire2:Z,updatePartTitulaire1:Y,updatePartTitulaire2:ne,handleCompteChange:K,handleDateSaisieChange:te,handleRealDateChange:ge,handleReinitialiserClick:ue,handleAnnulerSaisieClick:Q,handleTypeSaisieChange:Ae,handleGroupeChange:Ue,handleCategoriesChange:Ve,handleSousCategoriesChange:nt,handleDetailChange:ce,setTicketRestaurantChecked:we,setNbreTickets:fe,setMontantTotal:H,handleMontantChange:oe,handleModeReglementChange:xe,handleChequeNumberChange:ke,handleTypeDebitChange:ht,handlePartageChange:_e,setMontantTR:Ke,setMontantTicket:je,isButtonDisabled:et}=kj(t,y),ut=A(ie=>ie.sousCategories.data),Ot=A(ie=>ie.categories.data),Lt=A(ie=>ie.groupes.data),er=A(ie=>ie.details.data),de=A(kS),W=A(ie=>{const Le=ie.comptes.data.find(Ze=>Ze.idCompte===s);return Le?Le.idTypeCompte:null}),pe=async ie=>{ie.preventDefault();let Le=[],Ze=parseFloat(N),De=parseFloat(_),X=parseFloat(v),se=parseFloat(G),Ee=parseFloat(Z),be=0,Te=0;Number(L)===2&&Ze>0?(be=0,Te=Ze):(be=Ze,Te=0);const Xe=ut.find(mt=>mt.idSCat===Number(k)),St=Xe==null?void 0:Xe.mvtInterne;try{const mt={idCompte:Number(s),idExercice:Number(d),dateSaisie:z,dateReelle:M,selectedTypeSaisieId:Number(L),selectedGroupeId:Number($),selectedCategoriesId:Number(q),selectedSousCategoriesId:Number(k),selectedDetailId:Number(j),modeReglementId:Number(I.idModeReglement),chequeNumber:Number(I.idModeReglement)===3?E:null,montantCredit:parseFloat(be.toFixed(2)),montantDebit:parseFloat(Te.toFixed(2)),montantTR:P?parseFloat(De.toFixed(2)):0,montantTotal:parseFloat(X.toFixed(2)),selectedTypeDebitId:V,A_Partager:T?1:0,montantPartTitulaire1:T?parseFloat(se.toFixed(2)):0,montantPartTitulaire2:T?parseFloat(Ee.toFixed(2)):0},Be=await e(ln(mt));if(Be.type.endsWith("fulfilled")&&Be.payload&&Be.payload.length>0){if(Le.push(Be.payload[0].idSaisieDepense),St){be=Te,Te=0;const Nt=de.find(It=>It.idSCat===Xe.idSCat),$t=Ot.find(It=>It.idCat===(Nt==null?void 0:Nt.categorieDestination)),At=Lt.find(It=>It.idGroupe===$t.idGroupe),xr=er.find(It=>It.idSCat===Nt.sousCategorieDestination),Vr=Nt.compteDestination,zr=At.idTypeSaisie,gn=At.idGroupe,bn=$t.idCat,An=Nt.sousCategorieDestination,Cn=xr.idDetail,Ge={idCompte:Number(Vr),idExercice:Number(d),dateSaisie:z,dateReelle:M,selectedTypeSaisieId:Number(zr),selectedGroupeId:Number(gn),selectedCategoriesId:Number(bn),selectedSousCategoriesId:Number(An),selectedDetailId:Number(Cn),modeReglementId:Number(I.idModeReglement),chequeNumber:Number(I.idModeReglement)===3?E:null,montantCredit:parseFloat(be.toFixed(2)),montantDebit:parseFloat(Te.toFixed(2)),montantTR:P?parseFloat(De.toFixed(2)):0,montantTotal:parseFloat(X.toFixed(2)),selectedTypeDebitId:V,A_Partager:T?1:0,montantPartTitulaire1:T?parseFloat(se.toFixed(2)):0,montantPartTitulaire2:T?parseFloat(Ee.toFixed(2)):0},J=await e(ln(Ge));J.type.endsWith("fulfilled")&&J.payload&&J.payload.length>0?Le.push(J.payload[0].idSaisieDepense):(console.error("Erreur lors de la création de la deuxième écriture"),y([b("Erreur lors de la création de la deuxième écriture")]))}const Tt=`Ecriture(s) n° ${Le.join(", ")} créée(s). Souhaitez-vous en créer une autre ?`;y([x(Tt,"",()=>{R(),y([])},()=>{g(),y([])},()=>{t(),y([])})])}else console.error("Aucune donnée de création reçue"),y([b("Aucune donnée de création reçue")])}catch(mt){console.error("Erreur lors de la soumission des données",mt),y([b("Erreur lors de la soumission des données")])}};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'une Saisie"}),a.jsx("div",{className:"modal-create-saisie",children:a.jsxs("form",{onSubmit:pe,id:"create-form-saisie",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("div",{className:"exercice-dropdown",children:d&&i.length>0&&!c&&Rn("Exercice_FiltreDropdown","Exercice_FiltreDropdown",l,d,m,c,"Exercice")}),a.jsx("div",{className:"compte-dropdown",children:s&&r.length>0&&!n&&Rn("Compte_FiltreDropdown","Compte_FiltreDropdown",o,s,K,n,"Compte")})]}),a.jsxs("div",{className:"main-section",children:[a.jsxs("div",{className:"main-part-1",children:[a.jsxs("div",{className:"main-left",children:[a.jsxs("div",{className:"date-container",children:[a.jsx(or,{label:"Date Saisie",id:"DateSaisie",name:"DateSaisie",value:z,onChange:te,title:"Sélectionnez une date",isRequired:!0,className:"Date_Input"}),a.jsx(or,{label:"Date Réelle",id:"RealDateSaisie",name:"RealDateSaisie",value:M,onChange:ge,title:"Sélectionnez la date réelle",isRequired:!0,className:"Date_Input"})]}),a.jsx("div",{className:"list-container",children:a.jsx(Xp,{compteSelectionne:s})}),a.jsx("div",{className:"list-container",children:a.jsx(Yp,{compteSelectionne:s})}),a.jsx(a.Fragment,{children:a.jsx(o1,{})}),a.jsx(a.Fragment,{children:a.jsx(l1,{})})]}),a.jsxs("div",{className:"main-right",children:[a.jsx(im,{selectedValue:L,onChange:Ae}),a.jsx(am,{onChange:Ue,selectedTypeSaisieId:L},`groupe-${L}`),a.jsx(rm,{onChange:Ve,compteSelectionne:s,selectedGroupeId:$},`categorie-${$}`),a.jsx(om,{onChange:nt,compteSelectionne:s,selectedGroupeId:$,selectedCategoriesId:q},`sousCategorie-${q}`),a.jsx(nm,{onChange:ce,selectedSousCategoriesId:k},`detail-${k}`)]})]}),a.jsxs("div",{className:"main-part-2",children:[a.jsx(sm,{value:I,onChange:xe,idCompteType:W,selectedSousCategoriesId:k},`modeReglement-${k}`),a.jsx("div",{className:"input-chq",children:I.idModeReglement!==void 0&&a.jsx(Kp,{compteSelectionne:s,idModeReglement:I.idModeReglement,onChequeNumberChange:ke})}),a.jsx("div",{className:"inputradio-typedebit",children:a.jsx(tm,{selectedSousCategoriesId:k,onChange:ht})}),a.jsx("div",{className:"input-montant",children:a.jsx(Jp,{value:N,onChange:oe,selectedSousCategoriesId:k})}),a.jsx("div",{className:"input-TR",children:a.jsx(Zp,{montant:N,setMontantTotal:H,setMontantTR:Ke,ticketRestaurantChecked:P,setTicketRestaurantChecked:we,nbreTickets:S,setNbreTickets:fe,montantTicket:O,setMontantTicket:je})}),a.jsxs("div",{className:"inputradio-partage",children:[a.jsx(em,{selectedSousCategoriesId:k,setA_Partager:ie=>_e(ie,!0)}),a.jsx("div",{className:"input-partage",children:a.jsx(Qp,{A_Partager:T,montantTotal:v,onUpdatePartTitulaire1:Y,onUpdatePartTitulaire2:ne})})]})]})]}),a.jsx("div",{className:"footer-section",children:a.jsx(bp,{onReset:ue,onCreate:pe,disabled:et,onCancel:Q})})]})}),a.jsx(lt,{modalConfig:h})]})};lm.propTypes={handleCloseBothModals:f.func.isRequired};const c1=()=>a.jsx("div",{}),d1=()=>a.jsx("div",{}),u1=()=>a.jsx("div",{}),p1=()=>a.jsx("div",{}),cm=({idEcriture:t,handleCloseBothModals:e})=>{const r=pt(),{modalConfig:n,setModalConfig:s,successModalConfig:o,errorModalConfig:i}=ot(),[c,d]=p.useState(""),[l,m]=p.useState(""),[h,y]=p.useState(""),[x,b]=p.useState(!1),[R,g]=p.useState(""),[P,S]=p.useState(""),[v,I]=p.useState(!1),[N,_]=p.useState(!1),O=A(K=>K.ecritures.data),j=A(K=>K.comptes.data),k=A(K=>K.typeCompte.data),q=A(K=>K.typeEpargne.data),$=A(K=>K.categories.data),L=A(K=>K.sousCategories.data),z=A(K=>K.details.data),M=A(K=>K.modeReglement.data),V=A(K=>K.typeDebit.data),E=p.useMemo(()=>{let K;if(K=O.find(ke=>ke.idSaisieDepense===t),!K)return console.error("Aucun élément trouvé pour l'ID:",t),{};const te=j.find(ke=>ke.idCompte===K.idCompte),ge=k.find(ke=>ke.idTypeCompte===te.idTypeCompte),ue=q.find(ke=>ke.idTypeLivret===te.idTypeLivret),Q=K.dateSaisie,Ae=K.dateReelle,Ue=L.find(ke=>ke.idSCat===K.idSCat),Ve=$.find(ke=>ke.idCat===Ue.idCat),nt=z.find(ke=>ke.idDetail===K.idDetail),ce=M.find(ke=>ke.idModeReglement===K.idModeReglement),we=V.find(ke=>ke.idTypeDebit===K.idTypeDebit);let fe=K.montantDebit,H=K.montantDebit,oe=0;K.idTypeSaisie===2?oe=H:oe=fe;let xe=`${te.libelleCompte} ${ge.libelleTypeCompte}`;return ue&&(xe+=` ${ue.libelleTypeEpargne}`),{idEcriture:t,idCompte:te.idCompte,libelleCompte:xe,dateSaisie:Q,dateReelle:Ae,idCat:Ve.idCat,libelleCategorie:Ve.libelleCategorie,idSCat:Ue.idSCat,libelleSousCategorie:Ue.libelleSousCategorie,idDetail:nt.idDetail,libelleDetail:nt.libelleDetail,idModeReglement:ce.idModeReglement,libelleModeReglement:ce.libelleModeReglement,idTypeDebit:we.idTypeDebit,nCheque:K.nCheque,montantDebit:K.montantDebit,montantCredit:K.montantCredit,montant:oe,montantTR:K.montantTR,aPartager:K.aPartager,partTitulaire1:K.partTitulaire1,partTitulaire2:K.partTitulaire2}},[O,t,j,$,L,k,q,z,M,V]);p.useEffect(()=>{E&&(d(E.dateSaisie||""),m(E.dateReelle||""),y(E.montant.toString()||""),b(E.aPartager===1),g(E.partTitulaire1.toString()||""),S(E.partTitulaire2.toString()||""))},[E]),p.useEffect(()=>{if(v&&x){const K=parseFloat(h)||0;if(h!==""){const te=(K/2).toFixed(2);g(te.toString()),S((K-parseFloat(te)).toFixed(2).toString())}}},[h,x,v]),p.useEffect(()=>{if(N&&x&&h!==""&&R!==""){const K=parseFloat(R)||0,te=parseFloat(h)||0;S((te-K).toFixed(2).toString())}},[R,x,h,N]);const T=K=>{y(K.target.value),I(!0)},G=K=>{g(K.target.value),_(!0)},Z=K=>{const te=K==="true";if(b(te),te){const ge=parseFloat(h)||0,ue=(ge/2).toFixed(2);g(ue.toString()),S((ge-parseFloat(ue)).toFixed(2).toString())}else g("0.00"),S("0.00")},Y=()=>{e()},ne=async K=>{K.preventDefault();let te=0,ge=0;const ue=parseFloat(h)||0;E.montantDebit!==0&&(te=ue),E.montantCredit!==0&&(ge=ue);try{const Q={idSaisieDepense:E.idEcriture,idCompte:E.idCompte,libelleCompte:E.libelleCompte,dateSaisie:c,dateReelle:l,libelleCategorie:E.libelleCategorie,libelleSousCategorie:E.libelleSousCategorie,libelleDetail:E.libelleDetail,libelleModeReglement:E.libelleModeReglement,idTypeDebit:E.idTypeDebit,nCheque:E.nCheque,montantCredit:ge,montantDebit:te,montantTR:E.montantTR,aPartager:x,partTitulaire1:parseFloat(R),partTitulaire2:parseFloat(P)};await r(Ou({updatedEcritureData:Q})),s([o(`Ecriture n° ${E.idEcriture} modifiée avec succès.`,"succès",e)])}catch(Q){console.error("Erreur lors de la mise à jour:",Q),s([i("Erreur lors de la mise à jour")])}};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'une Saisie"}),a.jsx("div",{className:"modal-update-saisie",children:a.jsxs("form",{onSubmit:ne,id:"update-form-saisie",children:[a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group ",children:[a.jsxs("label",{htmlFor:"Ecriture",children:["N° Ecriture :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Ecriture",value:E.idEcriture||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Saisie",children:["Date Saisie :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Saisie",value:c,onChange:K=>d(K.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Reelle",children:["Date Réelle :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Reelle",value:l,onChange:K=>m(K.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Compte",children:["Compte :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Compte",value:E.libelleCompte||"","aria-required":"true",required:!0,disabled:!0})]})]}),a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Categories",children:["Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Categories",value:E.libelleCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"SousCategories",children:["Sous-Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"SousCategories",value:E.libelleSousCategorie||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Detail",children:["Détail :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Detail",value:E.libelleDetail||"","aria-required":"true",required:!0,disabled:!0})]})]}),a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"ModeReglement",children:["Mode Réglement :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"ModeReglement",value:E.libelleModeReglement||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group ",children:[a.jsxs("label",{htmlFor:"nCheque",children:["N° Chèque :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"nCheque",value:E.nCheque||"","aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Montant",children:["Montant :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Montant",value:h,onChange:T,"aria-required":"true",required:!0})]}),a.jsx("div",{className:"input-group ",children:a.jsxs("div",{className:"inputradio",children:[a.jsxs("label",{children:["À Partager :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsxs("div",{className:"Input_Row",children:[a.jsx("input",{id:"OptionPartageOui",name:"OptionPartage",type:"radio",className:"radio-input",value:"true",checked:x===!0,onChange:()=>Z("true"),required:!0}),a.jsxs("label",{htmlFor:"OptionPartageOui",className:"radio-label",children:[a.jsx("span",{className:"radio-inner-circle"}),"Oui"]}),a.jsx("input",{id:"OptionPartageNon",name:"OptionPartage",type:"radio",className:"radio-input",value:"false",checked:x===!1,onChange:()=>Z("false"),required:!0}),a.jsxs("label",{htmlFor:"OptionPartageNon",className:"radio-label",children:[a.jsx("span",{className:"radio-inner-circle"}),"Non"]})]})]})}),a.jsxs("div",{className:"input-group montant-group",children:[a.jsx("label",{htmlFor:"Part_Titulaire1",children:"Part Titulaire 1 :"}),a.jsx("input",{type:"text",name:"Part_Titulaire1",id:"Part_Titulaire1",className:"input-small",step:"0.01",value:R,disabled:!x,onChange:G})]}),a.jsxs("div",{className:"input-group montant-group",children:[a.jsx("label",{htmlFor:"Part_Titulaire2",children:"Part Titulaire 2 :"}),a.jsx("input",{type:"text",name:"Part_Titulaire2",id:"Part_Titulaire2",className:"input-small",step:"0.01",value:P,disabled:!x})]})]}),a.jsx("div",{className:"footer-section",children:a.jsx(el,{onUpdate:ne,onCancel:Y})})]})}),a.jsx(lt,{modalConfig:n})]})};cm.propTypes={idEcriture:f.any.isRequired,handleCloseBothModals:f.func.isRequired};const dm=({onCloseModal:t})=>{const e=pt(),{dataComptes:r,loadingComptes:n,selectedCompte:s,selectCompte:o,optionsComptesRecurrent:i}=kn(),c=A(je=>je.typeCompte.data),d=A(je=>je.exercices.data),[l,m]=p.useState([]),h=A(je=>je.categories.data),y=A(je=>je.sousCategories.data),x=A(je=>je.recurrents.data),b=A(je=>je.periodicites.data),R=A(je=>je.typeSaisies.data),g=A(je=>je.groupes.data),P=A(je=>je.details.data),S=A(je=>je.modeReglement.data),{modalConfig:v,setModalConfig:I,successModalConfig:N,errorModalConfig:_}=ot(),[O,j]=p.useState("Prélèvement"),[k,q]=p.useState(qo),$=A($i),L=A(Hi),z=A(Dd),M=()=>{Y(null),ge(null),E(!1),G(!1),K(!1),m([])},[V,E]=p.useState(!1),[T,G]=p.useState(!1),[Z,Y]=p.useState(null),[ne,K]=p.useState(!1),[te,ge]=p.useState(null),ue=je=>{je?(Y(je),G(!0),K(!1),ge(null)):(K(!0),Y(null),G(!1),ge(je)),E(!0)},Q=je=>{const et=parseInt(je.target.value,10);e(o(et)),M()};p.useEffect(()=>{switch(O){case"Prélèvement":q(qo);break;case"Virement":q(Vj);break;case"Provision":q(zj);break;default:q(qo)}},[O]);const Ae=()=>{j(je=>{switch(je){case"Prélèvement":return"Virement";case"Virement":return"Provision";case"Provision":default:return"Prélèvement"}}),M()},Ue=p.useCallback(je=>{const et=je.id;ge(et),K(!0),G(!1),E(!0)},[]),[Ve,nt]=p.useState(new Date().getMonth()),[ce,we]=p.useState(new Date().getFullYear()),fe=(je,et)=>{nt(je),we(et)};p.useEffect(()=>{if(!i.some(et=>parseInt(et.value,10)===s)&&i.length>0){const et=parseInt(i[0].value,10);o(et)}},[i,s,o]);const H=JR({methodePaiement:O,selectedCompte:s,prelevements:L,virements:$,provisions:z,selectedYear:ce,selectedMonth:Ve,dataComptes:r,typeComptes:c,categories:h,sousCategories:y,recurrents:x,periodicites:b}),oe=p.useCallback(je=>{if(je){const et=H.map(ut=>ut.id);m(et)}else m([])},[H,m]),xe=kp({filteredData:H,selectedRows:l,handleDoubleClick:Ue,handleSelectAllClick:oe}),ke=p.useCallback(je=>{m(et=>et.indexOf(je)>-1?et.filter(Ot=>Ot!==je):[...et,je])},[m]),ht=p.useCallback((je,et)=>{const ut=et==="Prélèvement"?L.find(Be=>Be.idPrelevement===je):et==="Virement"?$.find(Be=>Be.idVirement===je):et==="Provision"?z.find(Be=>Be.idProvision===je):null;if(!ut)return null;const Ot=y.find(Be=>Be.idSCat===ut.idSCat),Lt=h.find(Be=>Be.idCat===(Ot==null?void 0:Ot.idCat)),er=g.find(Be=>Be.idGroupe===Lt.idGroupe),de=R.find(Be=>Be.idTypeSaisie===er.idTypeSaisie),W=P.find(Be=>Be.idSCat===ut.idSCat),pe=S.find(Be=>Be.idModeReglement===Ot.idModeReglement),ie=x.find(Be=>Be.idSCat===Ot.idSCat);let Le=new Date;et==="Prélèvement"&&ut.dernierPrelevement?Le=new Date(ut.dernierPrelevement):et==="Virement"&&ut.dernierVirement?Le=new Date(ut.dernierVirement):et==="Provision"&&ut.dernierProvision&&(Le=new Date(ut.dernierProvision)),Le=Sp(Le,1);const Ze=ie.recurrentMontant<0?ie.recurrentMontant*-1:ie.recurrentMontant;let De,X;et==="Prélèvement"||et==="Virement"?De=s:(De=s,X=ut.compteDestination);const se=Rr(new Date,"yyyy-MM-dd");let Ee=parseFloat(Ze),be=parseFloat(ie.recurrentMontant),Te=0,Xe=0;Number(de.idTypeSaisie)===2&&Ee>0?(Te=0,Xe=Ee):(Te=Ee,Xe=0);const St={id:je,idCompte:De,idTypeSaisie:de.idTypeSaisie,idGroupe:er.idGroupe,idCat:(Lt==null?void 0:Lt.idCat)||"",idSCat:(Ot==null?void 0:Ot.idSCat)||"",idModeReglement:pe.idModeReglement,idTypeDebit:Ot.idTypeDebit,montantCredit:Te,montantDebit:Xe,montant:be,dateSaisie:se,dateReelle:Rr(Le,"yyyy-MM-dd"),detail:(W==null?void 0:W.idDetail)||"",aPartager:Ot.aPartager};let mt=null;if(et==="Provision"){const Be=y.find(At=>At.idSCat===ut.sousCategorieDestination),Tt=h.find(At=>At.idCat===(Be==null?void 0:Be.idCat)),wt=g.find(At=>At.idGroupe===Tt.idGroupe),Nt=R.find(At=>At.idTypeSaisie===wt.idTypeSaisie),$t=P.find(At=>At.idSCat===ut.sousCategorieDestination);mt={id:je,idCompte:X,idTypeSaisie:Nt.idTypeSaisie,idGroupe:wt.idGroupe,idCat:(Tt==null?void 0:Tt.idCat)||"",idSCat:(Be==null?void 0:Be.idSCat)||"",idModeReglement:pe.idModeReglement,idTypeDebit:Be.idTypeDebit,montantCredit:Xe,montantDebit:Te,montant:be,dateSaisie:se,dateReelle:Rr(Le,"yyyy-MM-dd"),detail:($t==null?void 0:$t.idDetail)||"",aPartager:Be.aPartager}}return{dataToReturn:St,dataToReturnPart2:mt}},[L,$,z,s,h,y,x,R,g,P,S]),_e=p.useCallback((je,et=!1)=>{var de;const ut=je.dateReelle,Ot=(de=d.find(W=>{const pe=new Date(W.debutExercice),ie=new Date(W.finExercice),Le=new Date(ut);return Le>=pe&&Le<=ie}))==null?void 0:de.idExercice,Lt=je.id;let er={idCompte:je.idCompte,idExercice:Ot,dateSaisie:je.dateSaisie,dateReelle:je.dateReelle,selectedTypeSaisieId:je.idTypeSaisie,selectedGroupeId:je.idGroupe,selectedCategoriesId:je.idCat,selectedSousCategoriesId:je.idSCat,selectedDetailId:je.detail,modeReglementId:je.idModeReglement,chequeNumber:null,montant:je.montant,montantCredit:je.montantCredit,montantDebit:je.montantDebit,montantTR:0,selectedTypeDebitId:je.idTypeDebit,A_Partager:je.aPartager,montantPartTitulaire1:0,montantPartTitulaire2:0};e(ln(er)).then(W=>{if(W.type==="ecritures/submitFormData/fulfilled"){const pe=Lt,ie={...er};switch(O){case"Prélèvement":e(_r({prelevementId:pe,updatedData:ie}));break;case"Virement":e(Sn({virementId:pe,updatedData:ie}));break;case"Provision":et||e(ra({provisionId:pe,updatedData:ie}));break;default:console.error("Méthode de paiement non reconnue:",O)}}})},[d,e,O]),Ke=p.useCallback(()=>{let je=[];l.forEach(et=>{const ut=ht(et,O);ut&&(ut.dataToReturn&&je.push(_e(ut.dataToReturn)),ut.dataToReturnPart2&&je.push(_e(ut.dataToReturnPart2,!0)))}),Promise.all(je).then(()=>{I([N("L'écriture a été créé avec succès.")])}).catch(et=>{console.error("Erreur lors de la soumission des lignes:",et),I([_("Une erreur est survenue lors de la création de la ligne.")])})},[l,O,ht,_e,I,N,_]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Eléments Récurrents"}),a.jsxs("div",{className:"modal-recurrent",children:[a.jsx(yp,{selectedCompte:s,handleCompteChange:Q,handleMonthYearChange:fe,methodePaiement:O,setMethodePaiement:j,changePaymentMethod:Ae,paymentMethodImage:k,hideForm:M,loadingComptes:n,optionsComptesRecurrent:i}),a.jsx(xp,{columns:xe,data:H,onModifyClick:ue,onRowDoubleClick:Ue,onCheckboxChange:ke,selectedRows:l}),l.length>0&&a.jsxs("div",{className:"section-group-create",children:[a.jsx("h3",{children:"Création des écritures sélectionnées "}),a.jsx("div",{className:"form-buttons",children:a.jsx(lr,{onCreate:Ke,onCancel:M,labelCreate:"Créer les lignes sélectionnées"})})]}),V&&T&&a.jsxs("div",{className:"section-update",children:[a.jsx("h3",{children:"Modification d'un élèment récurrent"}),Z!==null&&a.jsx(Np,{rowId:Z,methodePaiement:O,isEditing:!0,onCancel:M,onCloseModal:t})]}),V&&ne&&a.jsxs("div",{className:"section-create",children:[a.jsx("h3",{children:"Création de l'écriture"}),a.jsx(Pp,{rowId:te,methodePaiement:O,isEditing:!1,onCancel:M,onCloseModal:t})]})]}),a.jsx(lt,{modalConfig:v})]})};dm.propTypes={onCloseModal:f.func.isRequired};const um=({handleCloseBothModals:t,handleRowCheck:e})=>{const r=pt(),{modalConfig:n,setModalConfig:s,successModalConfig:o,errorModalConfig:i}=ot(),[c,d]=p.useState(!1),[l,m]=p.useState(null),[h,y]=p.useState([]),[x,b]=p.useState([]),[R,g]=p.useState(0),[P,S]=p.useState(0),[v,I]=p.useState("pointees"),[N,_]=p.useState("pointees"),O=[{id:1,value:"toutes",label:"Toutes"},{id:2,value:"nonPointees",label:"Non pointées"},{id:3,value:"pointees",label:"Pointées"}],j=A(fe=>fe.auth.user.prenomUtilisateur),k=A(fe=>fe.userSettings.data.identifiant),[q,$]=p.useState(0),[L,z]=p.useState(0),M=A(fe=>fe.ecritures.data),V=A(fe=>fe.ecrituresPartagees.data),E=A(vu),T=A(fe=>fe.typeCompte.data),G=A(fe=>fe.typeEpargne.data),Z=A(fe=>fe.categories.data),Y=A(fe=>fe.sousCategories.data),ne=A(fe=>fe.details.data),K=p.useCallback((fe,H)=>fe.reduce((oe,xe)=>H.includes(xe.id)?oe+parseFloat(xe.partTitulaire2.replace(/€|\s/g,"").replace(",",".")):oe,0),[]),te=Bc(M,E,Z,Y,ne,T,G),ge=Bc(V,E,Z,Y,ne,T,G);p.useEffect(()=>{$(K(te,h)),z(K(ge,x))},[te,ge,h,x,K]),p.useEffect(()=>{const fe=(H,oe,xe)=>{switch(H){case"toutes":xe(oe.map(ke=>ke.id));break;case"pointees":xe(oe.filter(ke=>ke.pointer==="P").map(ke=>ke.id));break;case"nonPointees":xe(oe.filter(ke=>!ke.pointer).map(ke=>ke.id));break;default:xe([]);break}};fe(v,te,y),fe(N,ge,b)},[v,te,y,N,ge,b]),p.useEffect(()=>{let fe=[];v==="toutes"?fe=te.map(H=>H.id):v==="pointees"?fe=te.filter(H=>H.pointer==="P").map(H=>H.id):v==="nonPointees"&&(fe=te.filter(H=>!H.pointer).map(H=>H.id)),y(fe)},[v,te]),p.useEffect(()=>{let fe=[];N==="toutes"?fe=ge.map(H=>H.id):N==="pointees"?fe=ge.filter(H=>H.pointer==="P").map(H=>H.id):N==="nonPointees"&&(fe=ge.filter(H=>!H.pointer).map(H=>H.id)),b(fe)},[N,ge]);const ue=p.useCallback(fe=>{if(fe){const H=te.map(oe=>oe.id);y(H)}else y([])},[te]),Q=p.useCallback(fe=>{if(fe){const H=ge.map(oe=>oe.id);b(H)}else b([])},[ge]);p.useEffect(()=>{g(h.filter(fe=>te.find(H=>H.id===fe&&H.pointer==="P")).length),S(x.filter(fe=>ge.find(H=>H.id===fe&&H.pointer==="P")).length)},[h,x,te,ge]);const Ae=gi({isLeft:!0,filteredData:te,selectedRows:h,handleSelectAllClick:ue}),Ue=gi({isLeft:!1,filteredData:ge,selectedRows:x,handleSelectAllClick:Q}),Ve=p.useCallback(fe=>{y(H=>H.indexOf(fe)>-1?H.filter(xe=>xe!==fe):[...H,fe])},[]),nt=p.useCallback(fe=>{b(H=>H.indexOf(fe)>-1?H.filter(xe=>xe!==fe):[...H,fe])},[]),ce=async fe=>{fe.preventDefault();try{const H=te.filter(_e=>h.includes(_e.id)),oe=ge.filter(_e=>x.includes(_e.id)),xe={selectedDataLeft:H.map(_e=>_e.id),selectedDataRight:oe.map(_e=>_e.id),totalPartTitulaire2:q*-1,totalPartTitulaire1:L*-1},ke=await r($a(xe)).unwrap();m(ke.partage.idPartage);const ht=k;r(ku(ke.ecrituresModifiees)),r(ls({partageAvec:ht})),s([o("Partage effectué avec succès.","Succès",()=>d(!0))])}catch(H){console.error("Erreur lors de la mise à jour:",H),s(i("Erreur lors de la mise à jour: "+H.message))}},we=()=>{t()};return console.log("idPartage",l),a.jsx(a.Fragment,{children:a.jsxs("div",{className:"modal-sharing-entry",children:[a.jsxs("div",{className:"sharing-entry__side",children:[a.jsx(hi,{sideLabel:"left",filtreOptions:O,filtreTitulaire:v,setFiltreTitulaire:I,columns:Ae,data:te,handleRowCheck:e,onCheckboxChange:Ve,selectedRowsCount:h,pointedRowsCount:R,totalAmount:q*-1,partTitulaire1:j,partTitulaire2:k}),a.jsx(hi,{sideLabel:"right",filtreOptions:O,filtreTitulaire:N,setFiltreTitulaire:_,columns:Ue,data:ge,handleRowCheck:e,onCheckboxChange:nt,selectedRowsCount:x,pointedRowsCount:P,totalAmount:L*-1,partTitulaire1:k,partTitulaire2:j})]}),a.jsx(_p,{partTitulaire1:j,partTitulaire2:k,totalTitulaire2Left:q,totalTitulaire2Right:L}),a.jsx("div",{className:"sharing-entry__side footer-section",children:a.jsx(lr,{onCreate:ce,onCancel:we,buttonclassname:"button-create",labelCreate:"Créer un partage",labelCancel:"Annuler le partage"})}),a.jsx(lt,{modalConfig:n}),c&&l&&a.jsx(jt,{isOpen:c,onClose:t,isSaisieModal:!0,children:a.jsx(pm,{idPartage:l,onCreationComplete:()=>d(!1),handleCloseBothModals:()=>d(!1)})})]})})};um.propTypes={handleCloseBothModals:f.func.isRequired,handleRowCheck:f.func.isRequired};const pm=({handleCloseBothModals:t,idPartage:e})=>{pt();const{modalConfig:r,setModalConfig:n,successModalConfig:s,errorModalConfig:o}=ot(),i=A(L=>{const z=L.validationPartage.data.find(M=>M.idPartage===e);return z?z.partTitulaire1:null}),c=A(L=>{const z=L.validationPartage.data.find(M=>M.idPartage===e);return z?z.partTitulaire2:null});let d=i-c;const l=d<0;l&&(d=d*-1),console.log("soldePartage",d),console.log("totalTitulaire2Left",i),console.log("totalTitulaire2Right",c);const[m,h]=p.useState(new Date().toISOString().split("T")[0]),[y,x]=p.useState(m),[b,R]=p.useState(rr(d)),g=A(L=>L.userSettings.data.compte),P=A(L=>L.userSettings.data.typeCompte),S=A(L=>L.userSettings.data.categorieDepenses),v=A(L=>L.userSettings.data.sousCategorieDepenses),I=A(L=>L.userSettings.data.detailDepenses),N=A(L=>L.userSettings.data.libelleComptePartageAvec),_=A(L=>L.userSettings.data.libelleTypeComptePartageAvec),O=A(L=>L.userSettings.data.categoriePartageAvec),j=A(L=>L.userSettings.data.sousCategoriePartageAvec),k=A(L=>L.userSettings.data.detailPartageAvec),q=()=>{t()},$=async L=>{L.preventDefault()};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'une Saisie"}),a.jsx("div",{className:"modal-update-saisie",children:a.jsxs("form",{onSubmit:$,id:"update-form-saisie",children:[a.jsxs("div",{className:"input-row",children:[a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Saisie",children:["Date Saisie :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Saisie",value:m,onChange:L=>h(L.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Date_Reelle",children:["Date Réelle :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"date",id:"Date_Reelle",value:y,onChange:L=>x(L.target.value),"aria-required":"true",required:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Compte",children:["Compte :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Compte",value:l?`${N} ${_}`:`${g} ${P}`,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Categories",children:["Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Categories",value:l?O:S,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"SousCategories",children:["Sous-Catégories :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"SousCategories",value:l?j:v,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Detail",children:["Détail :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Detail",value:l?k:I,"aria-required":"true",required:!0,disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{htmlFor:"Montant",children:["Montant :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx("input",{type:"text",id:"Montant",value:b,readOnly:!0,"aria-required":"true",required:!0,disabled:!0})]})]}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:$,onCancel:q,labelCreate:"Créer une saisie"})})]})}),a.jsx(lt,{modalConfig:r})]})};pm.propTypes={handleCloseBothModals:f.func.isRequired,idPartage:f.number.isRequired};const m1=()=>{const[t,e]=p.useState(!1),[r,n]=p.useState(null),s=d=>{n(a.jsx(d,{onCloseModal:o})),e(!0)},o=()=>{e(!1),n(null)},i=(d,l)=>a.jsx(He,{ariaLabel:d.ariaLabel,buttonclassname:"Button_Entete",logo:d.logo,useReactIcon:!0,altText:d.altText,titleText:d.titleText,onClick:()=>s(d.contentComponent),type:"button"},l),c=[{ariaLabel:"Accéder aux Éléments Récurrents",logo:a.jsx(Ij,{className:"button-icon"}),altText:"Éléments Récurrents",titleText:"Éléments Récurrents",contentComponent:dm},{ariaLabel:"Accéder au Suivi Commandes",logo:a.jsx(b0,{className:"button-icon"}),altText:"Suivi Commandes",titleText:"Suivi Commandes",contentComponent:c1},{ariaLabel:"Accéder au Suivi Dépenses Santé",logo:a.jsx(a1,{className:"button-icon"}),altText:"Suivi Dépenses Santé",titleText:"Suivi Dépenses Santé",contentComponent:u1},{ariaLabel:"Accéder au Suivi Provisions",logo:a.jsx(R0,{className:"button-icon"}),altText:"Suivi Provisions",titleText:"Suivi Provisions",contentComponent:d1},{ariaLabel:"Accéder au Suivi Travaux",logo:a.jsx(j0,{className:"button-icon"}),altText:"Suivi Travaux",titleText:"Suivi Travaux",contentComponent:p1}];return a.jsxs(a.Fragment,{children:[c.map(i),t&&a.jsx(jt,{isOpen:t,onClose:o,isRecurrentModal:!0,children:r})]})},f1=()=>{const[t,e]=p.useState(""),[r,n]=p.useState(""),[s,o]=p.useState(""),i=h=>e(h.target.value),c=h=>n(h.target.value),d=h=>o(h.target.value),l=()=>{},m=()=>{e(""),n(""),o("")};return a.jsx("div",{className:"montant-filter-container",children:a.jsxs("div",{className:"montant-filter-content",children:[a.jsxs("div",{className:"montant-search",children:[a.jsx("div",{className:"montant-input-container",children:a.jsx(Fe,{label:"Recherche sur Montant",id:"Recherche_Montant",name:"Recherche_Montant",type:"number",value:t,onChange:i,className:"montant-input",labelClassName:"montant-label"})}),a.jsxs("div",{className:"montant-button-column",children:[a.jsx(He,{ariaLabel:"Appliquer le filtre sur le montant",buttonclassname:"montant-search-button",logo:a.jsx(Tc,{className:"button-icon"}),useReactIcon:!0,altText:"Valider",titleText:"Appliquer",onClick:l,type:"button"}),a.jsx(He,{ariaLabel:"Réinitialiser la Saisie",buttonclassname:"montant-search-button",logo:a.jsx(Es,{className:"button-icon"}),useReactIcon:!0,altText:"Réinitialiser",titleText:"Réinitialiser",onClick:m,type:"button"})]})]}),a.jsxs("div",{className:"montant-range-search",children:[a.jsx("div",{className:"montant-input-container",children:a.jsx(Fe,{label:"Montant Minimum",id:"Recherche_MontantMin_Compris",name:"Recherche_MontantMin_Compris",type:"number",value:r,onChange:c,className:"montant-input",labelClassName:"montant-label"})}),a.jsx("div",{className:"montant-input-container",children:a.jsx(Fe,{label:"Montant Maximum",id:"Recherche_MontantMax_Compris",name:"Recherche_MontantMax_Compris",type:"number",value:s,onChange:d,className:"montant-input",labelClassName:"montant-label"})}),a.jsxs("div",{className:"montant-button-column",children:[a.jsx(He,{ariaLabel:"Appliquer le filtre sur le montant compris",buttonclassname:"montant-search-button",logo:a.jsx(Tc,{className:"button-icon"}),useReactIcon:!0,altText:"Valider la plage de montants",titleText:"Appliquer",onClick:l,type:"button"}),a.jsx(He,{ariaLabel:"Réinitialiser la Saisie",buttonclassname:"montant-search-button",logo:a.jsx(Es,{className:"button-icon"}),useReactIcon:!0,altText:"Réinitialiser la plage de montants",titleText:"Réinitialiser",onClick:m,type:"button"})]})]})]})})},h1=()=>{const t=pt(),e=A(Nx),{dateDebut:r,dateFin:n}=A(NC);p.useEffect(()=>{e&&e.debutExercice&&t(Yr(e.debutExercice)),e&&e.finExercice&&t(Jr(e.finExercice))},[t,e]);const s=c=>{t(Yr(c))},o=c=>{t(Jr(c))},i=()=>{e.debutExercice?t(Yr(e.debutExercice)):t(Yr(null)),e.finExercice?t(Jr(e.finExercice)):t(Jr(null))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"date-input-table",children:[a.jsx("div",{className:"date-input-row",children:a.jsx(or,{label:"Date de début",labelClassName:"date-label",id:"DateDebut",name:"DateDebut",value:r||"",onChange:c=>s(c.target.value),className:"date-input-row",inputClassName:"start-date",title:"Sélectionnez la date de début"})}),a.jsx("div",{className:"date-input-row",children:a.jsx(or,{label:"Date de fin",labelClassName:"date-label",id:"DateFin",name:"DateFin",value:n||"",onChange:c=>o(c.target.value),className:"date-input-row",inputClassName:"end-date",title:"Sélectionnez la date de début"})})]}),a.jsx("div",{className:"reset-button-container",children:a.jsx(He,{ariaLabel:"Réinitialiser la Saisie",buttonclassname:"reset-button",logo:a.jsx(Es,{className:"button-icon"}),useReactIcon:!0,altText:"Réinitialiser",titleText:"Réinitialiser",onClick:i,type:"button"})})]})},g1={nonPointer:"Ecritures Non Pointées",aVenir:"Ecritures Partagées à Venir",partager:"Ecritures Partagées",pointer:"Ecritures Pointées",valider:"Ecritures Validées",all:"Toutes les Ecritures"},b1={nonPointer:"Non Pointées",aVenir:"À Venir",partager:"Partagées",pointer:"Pointées",valider:"Validées",all:"Toutes"},C1=()=>{const t=A(TC),e=pt(),{isTablet:r,isMobile:n}=dp(),s=i=>{const c=i.target.value;e(Tx({option:c,value:1}))};let o=g1;return(r||n)&&(o=b1),a.jsx(a.Fragment,{children:a.jsxs("fieldset",{className:"options-group",children:[a.jsx("legend",{className:"visually-hidden",children:"Options d'écriture"}),Object.entries(o).map(([i,c])=>a.jsx(ur.Fragment,{children:a.jsx(Ct,{id:`OptionEcriture${i}`,name:"OptionEcriture",value:i,checked:t[i]===1,onChange:s,label:c})},i))]})})},y1=()=>{const[t,e]=p.useState({dropdown1:"",dropdown2:"",dropdown3:"",dropdown4:"",dropdown5:""}),r=s=>{const{name:o,value:i}=s.target;e({...t,[o]:i})},n=s=>{e({...t,[s]:""})};return a.jsxs("div",{className:"filter-containerType",children:[a.jsxs("div",{className:"block__filtreType__Ecriturecontent",children:[a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"TypeSaisie_FiltreDropdown",className:"filter-label",children:"Type de Saisie :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"TypeSaisie_FiltreDropdown",id:"TypeSaisie_FiltreDropdown",className:"filter-select",value:t.TypeSaisie_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner un type de saisie"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("TypeSaisie_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"Groupe_FiltreDropdown",className:"filter-label",children:"Groupe :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"Groupe_FiltreDropdown",id:"Groupe_FiltreDropdown",className:"filter-select",value:t.Groupe_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner un groupe"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("Groupe_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"Categorie_FiltreDropdown",className:"filter-label",children:"Catégorie :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"Categorie_FiltreDropdown",id:"Categorie_FiltreDropdown",className:"filter-select",value:t.Categorie_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner une Catégorie"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("Categorie_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"SousCategorie_FiltreDropdown",className:"filter-label",children:"Sous-Catégorie :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"SousCategorie_FiltreDropdown",id:"SousCategorie_FiltreDropdown",className:"filter-select",value:t.Categorie_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner une Sous-Catégorie"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("SousCategorie_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"Detail_FiltreDropdown",className:"filter-label",children:"Détail :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"Detail_FiltreDropdown",id:"Detail_FiltreDropdown",className:"filter-select",value:t.Detail_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner un Détail"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("Detail_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]})]}),a.jsxs("div",{className:"block__filtreType__Validationcontent",children:[a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"TypeValidation_FiltreDropdown",className:"filter-label",children:"Type Validation :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"TypeValidation_FiltreDropdown",id:"TypeValidation_FiltreDropdown",className:"filter-select",value:t.TypeValidation_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner un Type Validation"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("TypeValidation_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"TypeValidationDate_FiltreDropdown",className:"filter-label",children:"Date Validation :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"TypeValidationDate_FiltreDropdown",id:"TypeValidationDate_FiltreDropdown",className:"filter-select",value:t.TypeValidationDate_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner une Date Validation"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("TypeValidationDate_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"TypeReference_FiltreDropdown",className:"filter-label",children:"Type de Référence :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"TypeReference_FiltreDropdown",id:"TypeReference_FiltreDropdown",className:"filter-select",value:t.TypeReference_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner un Type de Référence"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("TypeReference_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]}),a.jsxs("div",{className:"vertical-form-group",children:[a.jsx("label",{htmlFor:"ChoixReference_FiltreDropdown",className:"filter-label",children:"Référence :"}),a.jsxs("div",{className:"filter-item-container",children:[a.jsxs("select",{name:"ChoixReference_FiltreDropdown",id:"ChoixReference_FiltreDropdown",className:"filter-select",value:t.Categorie_FiltreDropdown,onChange:r,children:[a.jsx("option",{value:"",children:"Sélectionner une Référence"}),a.jsx("option",{value:"type1",children:"Type 1"}),a.jsx("option",{value:"type2",children:"Type 2"})]}),a.jsx("button",{className:"filter-button",onClick:()=>n("ChoixReference_FiltreDropdown"),children:a.jsx(Fr,{className:"filter-button-icon",title:"Supprimer le Filtre"})})]})]})]})]})},v1=()=>{const t=pt(),{dataComptes:e,loadingComptes:r,selectedCompte:n,afficherInactifs:s,handleCheckboxChange:o,handleCompteChange:i,optionsComptesAll:c}=kn(),{dataExercices:d,loadingExercices:l,selectedExercice:m,handleExerciceChange:h,optionsExercicesAll:y}=Ws(),{selectedRows:x,handleRowCheck:b,handleSelectAllClick:R,resetSelectedRows:g}=Oj(),{modalConfig:P,handleCloseBothModals:S,handleUpdate:v,handleButtonClick:I,handleDoubleClick:N,handleDeleteAction:_,isCreateModalOpen:O,isUpdateModalOpen:j,handleOpenCreateModal:k,selectedIdEcriture:q,isSharingModalOpen:$,handleOpenSharingModal:L}=Mj(),z=A(E=>E.filtres.radioButtonFiltre),M=A(E=>E.filtres.dateFiltre);p.useEffect(()=>{if(!d||d.length===0)t(on());else if(m&&m.debutExercice&&t(Yr(m.debutExercice)),m&&m.finExercice&&t(Jr(m.finExercice)),e.length>0){const E=e.filter(T=>T.inactif===!1);t(ca(E))}},[t,d,m,e]),p.useEffect(()=>{g()},[n,z,M,g]);const V=()=>{I(x)};return a.jsx(a.Fragment,{children:a.jsxs(kt,{className:"saisie-page",pageTitle:"Liste Saisie",showLoader:!0,children:[a.jsxs("div",{className:"block-compte-exercice",children:[a.jsx("div",{className:"block__exercice",children:m&&d.length>0&&!l&&Rn("Exercice_FiltreDropdown","Exercice_FiltreDropdown",y,m,h,l,"Exercice")}),a.jsxs("div",{className:"block__compte",children:[n&&e.length>0&&!r&&Rn("Compte_FiltreDropdown","Compte_FiltreDropdown",c,n,i,r,"Compte"),a.jsx(Er,{id:"inactif-checkbox",name:"inactif-checkbox",checked:s,onChange:o,label:"Inactif :",title:"Cochez pour afficher les éléments inactifs",inputClassName:"custom-checkbox-input"})]}),a.jsx("div",{className:"block__bouton",children:a.jsx(m1,{handleCloseBothModals:S})})]}),a.jsx("div",{className:"block-solde",children:n===1?a.jsx("div",{className:"block__soldeGlobal",children:a.jsx($p,{afficherInactifs:s,comptesData:e})}):a.jsx("div",{className:"block__soldeDetail",children:a.jsx(Gp,{compteSelectionne:n})})}),a.jsx("div",{className:"block-filtreecriture",children:a.jsx("div",{className:"expandable-section",children:a.jsx(Ds,{title:"Appliquer un Filtre",classname:"block__filtreType",children:a.jsx(y1,{})})})}),a.jsx("div",{className:"block-filtremontant",children:a.jsx("div",{className:"expandable-section",children:a.jsx(Ds,{title:"Faire une Recherche sur montant",classname:"block__filtreMontant",children:a.jsx(f1,{})})})}),a.jsxs("div",{className:"block-filtretype-date",children:[a.jsx("div",{className:"date-filter",children:a.jsx(h1,{})}),a.jsx("div",{className:"entry-selection",children:a.jsx(C1,{})})]}),a.jsx("div",{className:"block-tableau",children:a.jsx("div",{className:"SectionTableau",children:a.jsx(pp,{onDoubleClick:N,onUpdate:v,onDelete:_,handleRowCheck:b,selectedRows:x,handleSelectAllClick:R})})}),a.jsx("div",{className:"block-actions",children:a.jsx("div",{className:"button-container",children:a.jsx(Wp,{onCreateClick:k,onSharingClick:L,handleButtonClick:V,selectedRows:x})})}),a.jsx(lt,{modalConfig:P}),O&&a.jsx(jt,{isOpen:O,onClose:S,isSaisieModal:!0,children:a.jsx(lm,{onCreationComplete:S,handleCloseBothModals:S})}),j&&q&&a.jsx(jt,{isOpen:j,onClose:S,children:a.jsx(cm,{idEcriture:q,handleCloseBothModals:S})}),$&&a.jsx(jt,{isOpen:$,onClose:S,isSaisieModal:!0,children:a.jsx(um,{handleCloseBothModals:S,selectedRows:x,handleRowCheck:b,handleSelectAllClick:R})})]})})},vn=({title:t,settings:e})=>a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:t}),a.jsx("div",{className:"settings-grid",children:e.map((r,n)=>a.jsx(Qi,{title:r.title,icon:r.icon,link:r.link},n))})]});vn.propTypes={title:f.string.isRequired,settings:f.arrayOf(f.shape({title:f.string.isRequired,icon:f.oneOfType([f.node,f.string]).isRequired,link:f.string.isRequired})).isRequired};const x1=()=>{const t=[{title:"Réglages de Base",icon:a.jsx(Wt,{}),link:"/SetupBase"}],e=[{title:"Paramétrages des Exercices Comptables",icon:a.jsx(Wt,{}),link:"/SetupExercices"},{title:"Paramétrages des Comptes Bancaires",icon:a.jsx(Wt,{}),link:"/SetupComptes"},{title:"Paramétrages des Modes de Réglements",icon:a.jsx(Wt,{}),link:"/SetupModeReglement"},{title:"Paramétrages des Types de Débits",icon:a.jsx(Wt,{}),link:"/SetupTypesDebits"},{title:"Paramétrages des Types de Saisies",icon:a.jsx(Wt,{}),link:"/SetupTypesSaisies"},{title:"Paramétrages des Groupes",icon:a.jsx(Wt,{}),link:"/SetupGroupes"},{title:"Paramétrages des Périodicités",icon:a.jsx(Wt,{}),link:"/SetupPeriodicites"}],r=[{title:"Paramétrages des Catégories",icon:a.jsx(Wt,{}),link:"/SetupCategories"},{title:"Paramétrages des Détails / Magasins",icon:a.jsx(Wt,{}),link:"/SetupDetails"},{title:"Paramétrages des Sous-Catégories",icon:a.jsx(Wt,{}),link:"/SetupSousCategories"}],n=[{title:"Paramétrer les Récurrents",icon:a.jsx(Wt,{}),link:"/SetupRecurrents"},{title:"Paramétrer les Prélèvements",icon:a.jsx(Wt,{}),link:"/SetupPrelevements"},{title:"Paramétrer les Virements",icon:a.jsx(Wt,{}),link:"/SetupVirements"},{title:"Paramétrer des Provisions",icon:a.jsx(Wt,{}),link:"/SetupProvisions"}],s=[{title:"Paramétrer les Mouvements Internes",icon:a.jsx(Wt,{}),link:"/SetupMvtInternes"}];return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsxs("div",{className:"section-bloc",children:[a.jsx(vn,{title:"Configuration Initiale :",settings:t}),a.jsx(vn,{title:"Paramètres Communs :",settings:e}),a.jsx(vn,{title:"Paramètres Rattachés aux Comptes :",settings:r}),a.jsx(vn,{title:"Spécifications des Sous-Catégories :",settings:n}),a.jsx(vn,{title:"Virements Bancaires :",settings:s})]})]})})})};function Ci(t){return yt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(t)}const mm=({title:t,settings:e})=>a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:t}),a.jsx("div",{className:"settings-grid",children:e.map((r,n)=>a.jsx(Qi,{title:r.title,icon:r.icon,link:r.link},n))})]});mm.propTypes={title:f.string.isRequired,settings:f.arrayOf(f.shape({title:f.string.isRequired,icon:f.oneOfType([f.node,f.string]).isRequired,link:f.string.isRequired})).isRequired};const S1=()=>{const t=[{title:"Liste des utilisateurs",icon:a.jsx(Ci,{}),link:"/ListUser"},{title:"Créer un utilisateur",icon:a.jsx(Ci,{}),link:"/CreateUser"}];return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"user-page",pageTitle:"User Management",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Gestion des Utilisateurs"}),a.jsx("div",{className:"section-bloc",children:a.jsx(mm,{title:"Administration des Utilisateurs :",settings:t})})]})})})},w1=()=>a.jsxs("div",{className:"MissingPage",children:[a.jsx("div",{className:"error",children:a.jsx("h1",{children:"404"})}),a.jsx("p",{children:"Oups! La page que vous demandez n'existe pas."}),a.jsx(fd,{to:"/",className:"link",children:"Retourner sur la page d’accueil"})]}),fm=({onSubmit:t,onClose:e})=>{const r=A(k=>k.typeCompte.data),n=A(k=>k.typeEpargne.data),{dataComptes:s=[]}=kn(),[o,i]=p.useState(""),[c,d]=p.useState(""),[l,m]=p.useState(""),[h,y]=p.useState("0"),[x,b]=p.useState("0"),[R,g]=p.useState(""),[P,S]=p.useState("0.00"),{modalConfig:v,setModalConfig:I,errorModalConfig:N}=ot(),_=p.useCallback(k=>{if(k.preventDefault(),s.find(L=>L.codeCompte===o&&L.libelleCompte===c&&L.idTypeCompte===Number(l)&&L.idTypeLivret===Number(h))){I([N("Un compte avec ce code ou libellé existe déjà.")]);return}t({codeCompte:o,libelleCompte:c,typeCompte:l,typeEpargne:h,nChq:x,rdsDate:R,rdsMontant:P})},[o,c,l,h,x,R,P,s,N,I,t]),O=r.filter(k=>k.idTypeCompte!==1).map(k=>({id:k.idTypeCompte,value:k.idTypeCompte.toString(),label:k.libelleTypeCompte})),j=p.useMemo(()=>[{id:"0",value:"",label:'Sélectionner le type de compte "Epargne"',disabled:!0},...n.map(k=>{var L;const q=(L=k.idTypeLivret)==null?void 0:L.toString(),$=k.libelleTypeLivret;return{id:q,value:q,label:$}})],[n]);return p.useEffect(()=>{if(r.length>0){const k=r.find(q=>q.idTypeCompte!==1);k&&m(k.idTypeCompte.toString())}},[r]),p.useEffect(()=>{var k;if(l==="5"){const q=(k=j.find($=>!$.disabled))==null?void 0:k.value;q&&y(q)}else y("0")},[l,j]),a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Compte Bancaire"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:_,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Compte",id:"Code_Compte",name:"Code_Compte",value:o,onChange:k=>i(k.target.value.toUpperCase()),minLength:2,maxLength:6,placeholder:"Exemple : Saisir initialie de la Banque",title:"min :2 caractères - max : 6 caractères",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Nom Banque",id:"Libelle_Compte",name:"Libelle_Compte",value:c,onChange:k=>d(k.target.value),placeholder:"Exemple : Saisir le nom de la Banque",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Compte",id:"TypeCompte_FiltreDropdown",name:"TypeCompte_FiltreDropdown",options:O,value:l,onChange:k=>m(k.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Epargne",id:"TypeEpargne_FiltreDropdown",name:"TypeEpargne_FiltreDropdown",options:j,value:h,onChange:k=>y(k.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:l!=="5"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"N° Chèque",id:"N_Chq",name:"N_Chq",value:x,onChange:k=>b(k.target.value),placeholder:"Saisir le numéro de votre prochain chèque",title:"Saisir le numéro de votre prochain chèque",className:"input-group",disabled:l=="5"})}),a.jsx("hr",{}),a.jsx("h3",{children:"Saisie de la Reprise des Soldes"}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Date",id:"RDS_Date",name:"RDS_Date",value:R,onChange:k=>g(k.target.value),isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Montant",id:"RDS_Montant",name:"RDS_Montant",value:P,onChange:k=>S(k.target.value),title:"Saisir le montant avec le signe - si négatif",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:_,onCancel:e,labelCreate:"Créer le Compte Bancaire"})})]}),a.jsx(lt,{modalConfig:v})]})]})};fm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const hm=({onSubmit:t,hasDefaultExercice:e=!1,nextExerciceStartDate:r,onClose:n})=>{const{dataExercices:s=[]}=Ws(),[o,i]=p.useState(""),[c,d]=p.useState(!1),[l,m]=p.useState(r||""),[h,y]=p.useState(""),{modalConfig:x,setModalConfig:b,errorModalConfig:R}=ot();p.useEffect(()=>{if(r){const P=new Date(r).getFullYear();i(P.toString()),y(new Date(P,11,31).toISOString().split("T")[0])}},[r]),p.useEffect(()=>{e&&d(!0)},[e]),p.useEffect(()=>{function P(S){S.length===4&&!isNaN(S)&&S>1900&&S<2100&&(m(`${S}-01-01`),y(`${S}-12-31`))}P(o)},[o]);const g=p.useCallback(P=>{if(P.preventDefault(),s.find(I=>I.libelleExercice===o)){b([R("Un exercice avec ce libellé existe déjà.")]);return}t({libelleExercice:o,exerciceParDefaut:c,debutExercice:l,finExercice:h})},[o,c,l,h,s,b,R,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Exercice Comptable"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:g,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Exercice",id:"Libelle_Exercice",name:"Libelle_Exercice",value:o,onChange:P=>i(P.target.value),disabled:!!r,placeholder:" Exemple : 2023",minLength:4,maxLength:4,title:"Saisir l'Année en 4 chiffres",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Er,{label:"Exercice Par Défaut",id:"Exercice_ParDefaut",name:"Exercice_ParDefaut",checked:c,onChange:P=>d(P.target.checked),disabled:e,title:"L'Exercice sera sélectionné automatiquement sur les écrans de saisies",isRequired:!1,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Date Début Exercice",id:"Debut_Exercice",name:"Debut_Exercice",value:l,onChange:P=>m(P.target.value),disabled:!!r,title:"correspond au premier jour de l'année",isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(or,{label:"Date Fin Exercice",id:"Fin_Exercice",name:"Fin_Exercice",value:h,disabled:!!r,onChange:P=>y(P.target.value),title:"correspond au dernier jour de l'année",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:g,onCancel:n,labelCreate:"Créer l'Exercice"})}),a.jsx(lt,{modalConfig:x})]})]})]})};hm.propTypes={onSubmit:f.func.isRequired,hasDefaultExercice:f.bool.isRequired,nextExerciceStartDate:f.string,onClose:f.func.isRequired};const gm=({onSubmit:t,onClose:e})=>{const r=A(h=>h.typeDebits.data),{modalConfig:n,setModalConfig:s,errorModalConfig:o}=ot(),[i,c]=p.useState(""),[d,l]=p.useState(""),m=p.useCallback(h=>{if(h.preventDefault(),r.find(b=>b.libelleTypeDebit===d)){s([o("Un type Débit avec ce libellé existe déjà.")]);return}t({codeTypeDebit:i,libelleTypeDebit:d})},[i,d,r,o,s,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Type de Débit"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:m,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Type de Débit",id:"Code_TypeDebit",name:"Code_TypeDebit",value:i,onChange:h=>c(h.target.value.toUpperCase()),minLength:1,maxLength:1,placeholder:"Exemple : Saisir la première lettre du Type de Débit",title:"1 caractère",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Type de Débit",id:"Libelle_TypeDebit",name:"Libelle_TypeDebit",value:d,placeholder:"Exemple : Immédiat",onChange:h=>l(h.target.value),isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:m,onCancel:e,labelCreate:"Créer le Type de Débit"})}),a.jsx(lt,{modalConfig:n})]})]})]})};gm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const bm=({onSubmit:t,onClose:e})=>{const r=A(x=>x.typeSaisies.data),n=A(x=>x.groupes.data),{modalConfig:s,setModalConfig:o,errorModalConfig:i}=ot(),[c,d]=p.useState(""),[l,m]=p.useState(""),h=r.map(x=>({id:x.idTypeSaisie,value:x.idTypeSaisie.toString(),label:x.libelleTypeSaisie})),y=p.useCallback(x=>{if(x.preventDefault(),n.find(g=>g.libelleGroupe===c)){o([i("Un groupe avec ce libellé existe déjà.")]);return}t({libelleGroupe:c,typeSaisie:l})},[c,l,i,o,n,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Groupe"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:y,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Groupe",id:"Libelle_Groupe",name:"Libelle_Groupe",value:c,placeholder:"Saisir le Libellé Groupe",onChange:x=>d(x.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:h,value:l,onChange:x=>m(x.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:y,onCancel:e,labelCreate:"Créer un Groupe"})}),a.jsx(lt,{modalConfig:s})]})]})]})};bm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const Cm=({onSubmit:t,onClose:e})=>{const r=A(v=>v.typeCompte.data),[n,s]=p.useState(!1),[o,i]=p.useState([]),[c,d]=p.useState(""),[l,m]=p.useState(""),h=A(v=>v.modeReglement.data),{modalConfig:y,setModalConfig:x,errorModalConfig:b}=ot(),R=r.filter(v=>v.idTypeCompte!==1).map(v=>({id:v.idTypeCompte,value:v.idTypeCompte.toString(),label:v.libelleTypeCompte})),g=p.useCallback(v=>{const I=v.target.checked;if(s(I),I){const N=R.map(_=>_.value);i(N)}else i([])},[R]),P=p.useCallback((v,I)=>{i(N=>{if(I){if(!N.includes(v))return[...N,v]}else return N.filter(_=>_!==v);return N})},[]),S=p.useCallback(v=>{if(v.preventDefault(),h.find(_=>_.codeModeRegl===c||_.libelleModeRegl===l)){x([b("Un mode de règlement avec ce code ou libellé existe déjà.")]);return}t({codeModeRegl:c,libelleModeRegl:l,selectedTypeComptes:o})},[c,l,h,t,b,x,o]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Mode de Réglement"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:S,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Mode de Réglement",id:"Code_ModeRegl",name:"Code_ModeRegl",value:c,onChange:v=>d(v.target.value.toUpperCase()),minLength:2,maxLength:5,placeholder:"Exemple : Saisir CB pour Carte Bancaire",title:"min :2 caractères - max : 5 caractères",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Mode de Réglement",id:"Libelle_ModeRegl",name:"Libelle_ModeRegl",value:l,placeholder:"Exemple : Saisir Carte Bancaire",onChange:v=>m(v.target.value),isRequired:!0,className:"input-group"})}),a.jsx(Er,{label:"Tout Sélectionner",id:"select-all-types",name:"selectAll",checked:n,onChange:g}),a.jsxs("div",{className:"checkbox-container",children:[a.jsx("p",{className:"checkbox-label",children:"Type de Compte :"}),R.map(v=>a.jsx(Er,{label:v.label,id:`type-compte-${v.id}`,name:"typeCompte",checked:o.includes(v.value),onChange:I=>P(v.value,I.target.checked),className:"checkbox-group"},v.id))]}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:S,onCancel:e,labelCreate:"Créer le Mode de Réglement"})}),a.jsx(lt,{modalConfig:y})]})]})]})};Cm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const ym=({onSubmit:t,onClose:e})=>{const r=A(h=>h.periodicites.data),[n,s]=p.useState(""),[o,i]=p.useState(""),{modalConfig:c,setModalConfig:d,errorModalConfig:l}=ot(),m=p.useCallback(h=>{if(h.preventDefault(),r.find(b=>b.libellePeriodicite===n)){d([l("Une Périodicité avec ce libellé existe déjà.")]);return}t({libellePeriodicite:n,dureePeriodicite:o})},[n,o,l,d,r,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'une Périodicité"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:m,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Périodicité",id:"libelle_Periodicite",name:"libelle_Periodicite",value:n,placeholder:"Saisir le Libellé Périodicité",onChange:h=>s(h.target.value),isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Durée en mois",id:"duree_Periodicite",name:"duree_Periodicite",type:"number",value:o,placeholder:"Saisir la durée de la Périodicité en mois",onChange:h=>i(h.target.value),isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:m,onCancel:e,labelCreate:"Créer une Périodicité"})}),a.jsx(lt,{modalConfig:c})]})]})]})};ym.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const vm=({onSubmit:t,onClose:e})=>{const r=A(h=>h.typeSaisies.data),{modalConfig:n,setModalConfig:s,errorModalConfig:o}=ot(),[i,c]=p.useState(""),[d,l]=p.useState(""),m=p.useCallback(h=>{if(h.preventDefault(),r.find(b=>b.libelleTypeSaisie===d)){s([o("Un type Saisie avec ce libellé existe déjà.")]);return}t({codeTypeSaisie:i,libelleTypeSaisie:d})},[i,d,r,o,s,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Type de Saisie"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:m,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Type de Saisie",id:"Code_TypeSaisie",name:"Code_TypeSaisie",value:i,onChange:h=>c(h.target.value.toUpperCase()),minLength:1,maxLength:1,placeholder:"Exemple : Saisir la première lettre du Type de Saisie",title:"1 caractère",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Type de Saisie",id:"Libelle_TypeSaisie",name:"Libelle_TypeSaisie",value:d,placeholder:"Exemple : Revenus",onChange:h=>l(h.target.value),isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:m,onCancel:e,labelCreate:"Créer le Type de Saisie"})}),a.jsx(lt,{modalConfig:n})]})]})]})};vm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};function Jt(t){return yt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M14.164 0h-12.664c-0.827 0-1.5 0.673-1.5 1.5v14c0 0.827 0.673 1.5 1.5 1.5h14c0.827 0 1.5-0.673 1.5-1.5v-12.724l-2.836-2.776zM8 1v4h3v-4h1v5h-8v-5h4zM3 16v-6h11v6h-11zM16 15.5c0 0.275-0.225 0.5-0.5 0.5h-0.5v-7h-13v7h-0.5c-0.276 0-0.5-0.225-0.5-0.5v-14c0-0.275 0.224-0.5 0.5-0.5h1.5v6h10v-6h0.756l2.244 2.196v12.304z"},child:[]}]})(t)}const xm=({onSubmit:t,selectedData:e,onClose:r})=>{const n=A(v=>v.typeCompte.data),s=A(v=>v.typeEpargne.data),[o,i]=p.useState(e.codeCompte||""),[c,d]=p.useState(e.libelleCompte||""),[l,m]=p.useState(e.idTypeCompte||""),[h,y]=p.useState(e.idTypeLivret||"0"),[x,b]=p.useState(e.nCheque||""),{modalConfig:R}=ot(),g=p.useCallback(v=>{v.preventDefault();const{idCompte:I}=e;t({idCompte:I,nChq:x})},[x,e,t]),P=n.filter(v=>v.idTypeCompte!==1).map(v=>({id:v.idTypeCompte,value:v.idTypeCompte.toString(),label:v.libelleTypeCompte})),S=p.useMemo(()=>[{id:"0",value:"",label:'Sélectionner le type de compte "Epargne"',disabled:!0},...s.map(v=>{var _;const I=(_=v.idTypeLivret)==null?void 0:_.toString(),N=v.libelleTypeLivret;return{id:I,value:I,label:N}})],[s]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Compte Bancaire"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:g,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Compte",id:"Code_Compte",name:"Code_Compte",value:o,onChange:v=>i(v.target.value.toUpperCase()),minLength:2,maxLength:6,placeholder:"Exemple : Saisir initialie de la Banque",title:"min :2 caractères - max : 6 caractères",isRequired:!0,disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Nom Banque",id:"Libelle_Compte",name:"Libelle_Compte",value:c,onChange:v=>d(v.target.value),placeholder:"Exemple : Saisir le nom de la Banque",isRequired:!0,className:"input-group",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Compte",id:"TypeCompte_FiltreDropdown",name:"TypeCompte_FiltreDropdown",options:P,value:l,onChange:v=>m(v.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Epargne",id:"TypeEpargne_FiltreDropdown",name:"TypeEpargne_FiltreDropdown",options:S,value:h,onChange:v=>y(v.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"N° Chèque",id:"N_Chq",name:"N_Chq",value:x,onChange:v=>b(v.target.value),placeholder:"Saisir le numéro de votre prochain chèque",title:"Saisir le numéro de votre prochain chèque",className:"input-group",disabled:l=="5"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier le Compte Bancaire",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier le Compte Bancaire",titleText:"Modifier le Compte Bancaire",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]}),a.jsx(lt,{modalConfig:R})]})]})]})};xm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Sm=({onSubmit:t,selectedData:e,isDatesEditable:r,onClose:n})=>{const[s,o]=p.useState(e.libelleExercice),[i,c]=p.useState(e.exerciceParDefaut),[d,l]=p.useState(e.debutExercice),[m,h]=p.useState(e.finExercice),{modalConfig:y}=ot();p.useEffect(()=>{function b(R){R.length===4&&!isNaN(R)&&R>1900&&R<2100&&(l(`${R}-01-01`),h(`${R}-12-31`))}b(s)},[s]);const x=p.useCallback(b=>{b.preventDefault();const{idExercice:R}=e;t({idExercice:R,exerciceParDefaut:i})},[i,e,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Exercice Comptable"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:x,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Exercice",id:"Libelle_Exercice",name:"Libelle_Exercice",value:s,onChange:b=>o(b.target.value),placeholder:" Exemple : 2023",minLength:4,maxLength:4,title:"Saisir l'Année en 4 chiffres",isRequired:!0,className:"input-group",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Er,{label:"Exercice Par Défaut",id:"Exercice_ParDefaut",name:"Exercice_ParDefaut",checked:i,onChange:b=>c(b.target.checked),disabled:e.exerciceParDefaut,title:"L'Exercice sera sélectionné automatiquement sur les écrans de saisies",isRequired:!1,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Date Début Exercice",id:"Debut_Exercice",name:"Debut_Exercice",value:d,onChange:b=>l(b.target.value),disabled:r,title:"correspond au premier jour de l'année",isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(or,{label:"Date Fin Exercice",id:"Fin_Exercice",name:"Fin_Exercice",value:m,onChange:b=>h(b.target.value),disabled:r,title:"correspond au dernier jour de l'année",isRequired:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier l'Exercice",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier l'Exercice",titleText:"Modifier l'Exercice",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:n,type:"button"})]}),a.jsx(lt,{modalConfig:y})]})]})]})};Sm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,isDatesEditable:f.bool,onClose:f.func.isRequired};const wm=({onSubmit:t,selectedData:e,onClose:r})=>{const[n,s]=p.useState(e.periode),[o,i]=p.useState(e.dateArreteFactures?e.dateArreteFactures:""),[c,d]=p.useState(e.datePrelevement?e.datePrelevement:""),[l,m]=p.useState(e.moisInjection),h=p.useCallback(y=>{y.preventDefault();const{idDiffererFacturation:x}=e;t({idDiffererFacturation:x,dateArreteFactures:o,datePrelevement:c})},[o,c,e,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification du calendrier différé"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:h,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Période",id:"Periode",name:"Periode",value:n,onChange:y=>s(y.target.value),disabled:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Arrêter des Factures",id:"Date_Arrete_Factures",name:"Date_Arrete_Factures",value:o,onChange:y=>i(y.target.value),isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Date Prélèvement",id:"Date_Prelevement",name:"Date_Prelevement",value:c,onChange:y=>d(y.target.value),isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Mois Injections",id:"Mois_Injection",name:"Mois_Injection",value:l,onChange:y=>m(y.target.value),disabled:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier le calendrier",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier le calendrier",titleText:"Modifier le calendrier",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};wm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const jm=({onSubmit:t,selectedData:e,onClose:r})=>{const[n,s]=p.useState(e.codeTypeDebit),[o,i]=p.useState(e.libelleTypeDebit),c=p.useCallback(d=>{d.preventDefault();const{idTypeDebit:l}=e;t({idTypeDebit:l,codeTypeDebit:n,libelleTypeDebit:o})},[n,o,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Type de Débit"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:c,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Type de Débit",id:"Code_TypeDebit",name:"Code_TypeDebit",value:n,onChange:d=>s(d.target.value.toUpperCase()),minLength:1,maxLength:1,placeholder:"Exemple : Saisir la première lettre du Type de Débit",title:"1 caractère",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Type de Débit",id:"Libelle_TypeDebit",name:"Libelle_TypeDebit",value:o,placeholder:"Exemple : Immédiat",onChange:d=>i(d.target.value),isRequired:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier le Type de Débit",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier le Type de Débit",titleText:"Modifier le Type de Débit",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};jm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Rm=({onSubmit:t,selectedData:e,onClose:r})=>{const n=A(m=>m.typeSaisies.data),[s,o]=p.useState(e.libelleGroupe),[i,c]=p.useState(e.idTypeSaisie),d=n.map(m=>({id:m.idTypeSaisie,value:m.idTypeSaisie.toString(),label:m.libelleTypeSaisie})),l=p.useCallback(m=>{m.preventDefault();const{idGroupe:h}=e;t({idGroupe:h,libelleGroupe:s,typeSaisie:i})},[s,i,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Groupe"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:l,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Groupe",id:"Libelle_Groupe",name:"Libelle_Groupe",value:s,placeholder:"Saisir le Libellé Groupe",onChange:m=>o(m.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:d,value:i,onChange:m=>c(m.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier un Groupe",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier un Groupe",titleText:"Modifier un Groupe",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Rm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Tm=({onSubmit:t,selectedData:e,onClose:r})=>{const n=A(g=>g.typeCompte.data),[s,o]=p.useState(!1),[i,c]=p.useState([]),[d,l]=p.useState(e.codeModeReglement),[m,h]=p.useState(e.libelleModeReglement);p.useEffect(()=>{c(e.selectedTypeComptes||[]),l(e.codeModeReglement),h(e.libelleModeReglement)},[e.selectedTypeComptes,e.codeModeReglement,e.libelleModeReglement]);const y=n.filter(g=>g.idTypeCompte!==1).map(g=>({id:g.idTypeCompte,value:g.idTypeCompte.toString(),label:g.libelleTypeCompte})),x=p.useCallback(g=>{const P=g.target.checked;if(o(P),P){const S=y.map(v=>v.value);c(S)}else c([])},[y]),b=p.useCallback((g,P)=>{c(S=>{if(P){if(!S.includes(g))return[...S,g]}else return S.filter(v=>v!==g);return S})},[]),R=p.useCallback(g=>{g.preventDefault();const{idModeReglement:P}=e;t({idModeReglement:P,codeModeRegl:d,libelleModeRegl:m,selectedTypeComptes:i})},[d,m,t,e,i]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Mode de Réglement"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:R,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Mode de Réglement",id:"Code_ModeRegl",name:"Code_ModeRegl",value:d,onChange:g=>l(g.target.value.toUpperCase()),minLength:2,maxLength:5,placeholder:"Exemple : Saisir CB pour Carte Bancaire",title:"min :2 caractères - max : 5 caractères",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Mode de Réglement",id:"Libelle_ModeRegl",name:"Libelle_ModeRegl",value:m,placeholder:"Exemple : Saisir Carte Bancaire",onChange:g=>h(g.target.value),isRequired:!0,className:"input-group"})}),a.jsx(Er,{label:"Tout Sélectionner",id:"select-all-types",name:"selectAll",checked:s||i.length===y.length,onChange:x}),a.jsxs("div",{className:"show-password",children:[a.jsx("p",{children:"Type de Compte"}),y.map(g=>a.jsx(Er,{label:g.label,id:`type-compte-${g.id}`,name:"typeCompte",checked:i.includes(g.id),onChange:P=>b(g.id,P.target.checked),className:"checkbox-group"},g.id))]}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier le Mode de Réglement",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier le Mode de Réglement",titleText:"Modifier le Mode de Réglement",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Tm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Nm=({onSubmit:t,selectedData:e,onClose:r})=>{const[n,s]=p.useState(e.libellePeriodicite),[o,i]=p.useState(e.dureePeriodicite),c=p.useCallback(d=>{d.preventDefault();const{idPeriodicite:l}=e;t({idPeriodicite:l,libellePeriodicite:n,dureePeriodicite:o})},[n,o,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'une Périodicité"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:c,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Périodicité",id:"libelle_Periodicite",name:"libelle_Periodicite",value:n,placeholder:"Saisir le Libellé Périodicité",onChange:d=>s(d.target.value),isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Durée en mois",id:"duree_Periodicite",name:"duree_Periodicite",type:"number",value:o,placeholder:"Saisir la durée de la Périodicité en mois",onChange:d=>i(d.target.value),isRequired:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier une Périodicité",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier une Périodicité",titleText:"Modifier une Périodicité",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Nm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Pm=({onSubmit:t,selectedData:e,onClose:r})=>{const[n,s]=p.useState(e.codeTypeSaisie),[o,i]=p.useState(e.libelleTypeSaisie),c=p.useCallback(d=>{d.preventDefault();const{idTypeSaisie:l}=e;t({idTypeSaisie:l,codeTypeSaisie:n,libelleTypeSaisie:o})},[n,o,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Type de Saisie"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:c,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Code Type de Saisie",id:"Code_TypeSaisie",name:"Code_TypeSaisie",value:n,onChange:d=>s(d.target.value.toUpperCase()),minLength:1,maxLength:1,placeholder:"Exemple : Saisir la première lettre du Type de Saisie",title:"1 caractère",isRequired:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Type de Saisie",id:"Libelle_TypeSaisie",name:"Libelle_TypeSaisie",value:o,placeholder:"Exemple : Revenus",onChange:d=>i(d.target.value),isRequired:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier le Type de Saisie",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier le Type de Saisie",titleText:"Modifier le Type de Saisie",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Pm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Qt=()=>p.useContext(rd),Zt=({colCount:t,children:e,showCreateButton:r,isCreateEnabled:n})=>a.jsx(a.Fragment,{children:a.jsx("tr",{children:a.jsx("td",{colSpan:t,children:a.jsxs("div",{className:"tfoot-details",children:[a.jsx("div",{className:"tfoot-info",children:a.jsx("ul",{children:e})}),a.jsx("div",{className:"tfoot-buttons",children:a.jsx(Em,{showCreateButton:r,isCreateEnabled:n})})]})})})});Zt.propTypes={colCount:f.number.isRequired,children:f.node.isRequired,showCreateButton:f.bool,isCreateEnabled:f.bool};function Dm(t){return yt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 14l-4 -4l4 -4"},child:[]},{tag:"path",attr:{d:"M5 10h11a4 4 0 1 1 0 8h-1"},child:[]}]})(t)}const Em=({showCreateButton:t=!0,isCreateEnabled:e})=>{const{setCreateModalOpen:r}=Qt(),{handleRedirect:n}=ir({}),s=()=>{r(!0)},o=[...t?[{id:"submitAfficherCreationElement",name:"submitAfficherCreationElement",ariaLabel:"Créer",buttonclassname:"table-action-button",logo:a.jsx(da,{className:"button-icon-text"}),useReactIcon:!0,label:"Créer",altText:"Créer",titleText:"Créer",onClick:s,disabled:e}]:[],{ariaLabel:"Retour à la page Setup",buttonclassname:"table-action-button",logo:a.jsx(Dm,{className:"button-icon-text"}),useReactIcon:!0,label:"Retour à la page Setup",altText:"Retour à la page Setup",titleText:"Retour à la page Setup",onClick:n,disabled:!1}];return a.jsx(a.Fragment,{children:o.map((i,c)=>a.jsx(He,{id:i.id,name:i.name,ariaLabel:i.ariaLabel,buttonclassname:i.buttonclassname,logo:i.logo,useReactIcon:!0,label:i.label,altText:i.altText,titleText:i.titleText,onClick:i.onClick,type:"button",disabled:i.disabled},c))})};Em.propTypes={showCreateButton:f.bool,isCreateEnabled:f.bool};const Mm=()=>{const t=pt(),e=Cr(),{handleCalendar:r,handleGenericDelete:n,handleCloture:s}=ir({}),{modalConfig:o,setModalConfig:i,successModalConfig:c,errorModalConfig:d,confirmationModalConfig:l}=ot(),{isCreateModalOpen:m,setCreateModalOpen:h,isUpdateModalOpen:y,setIsUpdateModalOpen:x}=Qt(),b=()=>h(!1),R=()=>{x(!1)},g=async j=>{try{if(e.filter($=>$.codeCompte==j.codeCompte&&$.libelleCompte==j.libelleCompte&&$.idTypeCompte==j.typeCompte&&($.idTypeLivret==null&&j.typeEpargne==0||$.idTypeLivret==j.typeEpargne)).length>0){i([d("Un compte avec les mêmes valeurs existe déjà.")]);return}const q=await t(Oa(j)).unwrap();b(),t(Xx(q.categories)),t(rS(q.sousCategories)),t(cS(q.detail)),t(XS(q.ecriture)),q.compte.libelleTypeCompte==="(Différé)"&&t(_x(q.calendrierDiffere)),i([c("Le compte a été créé avec succès.")])}catch(k){console.error("Échec de la création du compte:",k),i([d("Une erreur est survenue lors de la création du compte.")])}},P=async j=>{try{await t(ka({idCompte:j.idCompte,compteData:{nChq:j.nChq}})).unwrap(),R(),i([c("Le compte a été modifié avec succès.")])}catch(k){console.error("Échec de la modification du compte:",k),i([d("Une erreur est survenue lors de la modification du compte.")])}},S=p.useCallback(j=>{const k=n(Aa,()=>{i([c("Le compte a été supprimé avec succès.")])},q=>{console.error("Échec de la suppression du compte:",q),i([d("Une erreur est survenue lors de la suppression du compte.")])});i([l("Êtes-vous sûr de vouloir supprimer ce compte ?","Cette action est irréversible.",()=>{k(j),i([])},()=>{i([])},()=>{i([])})])},[i,c,d,l,n]),[v,I]=p.useState(null),N=p.useCallback(j=>{I(j),x(!0)},[x,I]),_=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:j})=>j.index+1,className:"table-col-row-number"},{Header:"Code",accessor:"codeCompte"},{Header:"Nom de la Banque",accessor:"libelleCompteType"},{Header:"N° Chèque",accessor:"nCheque"},{Header:"Ordre",accessor:"ordre"},{Header:"Statut",accessor:"libelleStatut"},{id:"calendrier",Header:"Calendrier (si Différé)",Cell:({row:j})=>j.original.typeCompteLabel==="(Différé)"?a.jsx(gp,{onClick:()=>r(j.original.idCompte),isLocked:j.original.libelleStatut==="(Clôturé)"}):null,className:"table-col-calendrier"},{Header:"Inactif",accessor:j=>j.inactif?"X":"",id:"inactif",className:"table-col-inactif"},{Header:"Date Inactif",accessor:"dateInactif",Cell:({value:j})=>a.jsx(Dr,{value:j})},{id:"modify",Header:"Modifier",Cell:({row:j})=>a.jsx(Ht,{onClick:()=>N(j.original),isLocked:j.original.libelleStatut==="(Clôturé)"||j.original.typeCompteLabel==="(Epargne)"}),className:"table-col-modify"},{id:"cloture",Header:"Clôture",Cell:({row:j})=>a.jsx(Zi,{onClick:()=>s(j.original.idCompte),isLocked:j.original.libelleStatut==="(Clôturé)"}),className:"table-col-cloture"},{id:"delete",Header:"Supprimer",Cell:({row:j})=>a.jsx(yr,{onClick:()=>S(j.original.idCompte),isLocked:!j.original.isDeletable}),className:"table-col-delete"}],[N,s,S,r]),O=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Au minimum, Un Compte Bancaire doit être créer."}),a.jsx("li",{children:"Une fois créer, on ne peut plus modifier le Type de Compte."}),a.jsx("li",{children:"Un Compte Bancaire pourra être inactif que s'il a été clôturé au préalable."}),a.jsx("li",{children:"Les comptes sont dans classés par type de compte puis par le numéro d'ordre : Courant - Différé - Joint - Epargne."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Comptes",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Comptes Bancaires"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:_,data:e,colCount:_.length,children:a.jsx(Zt,{colCount:_.length,children:O})}),m&&a.jsx(jt,{isOpen:m,onClose:b,isSetupModal:!0,children:a.jsx(fm,{onSubmit:g,onClose:b})}),y&&a.jsx(jt,{isOpen:y,onClose:R,isSetupModal:!0,children:a.jsx(xm,{onSubmit:P,selectedData:v,onClose:R})}),a.jsx(lt,{modalConfig:o})]})})]})})]})})})};Mm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Om=()=>{const t=pt(),{dataExercicesWithDeletable:e,hasDefaultExercice:r,numberOfOngoingExercices:n}=Dj(),{handleGenericDelete:s,handleCloture:o}=ir({}),{modalConfig:i,setModalConfig:c,successModalConfig:d,errorModalConfig:l,confirmationModalConfig:m}=ot(),{isCreateModalOpen:h,setCreateModalOpen:y,isUpdateModalOpen:x,setIsUpdateModalOpen:b}=Qt(),R=()=>y(!1),g=()=>{b(!1)},P=n>=2,S=p.useCallback(()=>{if(e.length===0)return null;const T=e[e.length-1],G=new Date(T.finExercice);return G.setDate(G.getDate()+1),G.toISOString().split("T")[0]},[e]),v=p.useCallback(T=>T.exerciceParDefaut?!1:e.reduce((Z,Y)=>new Date(Z.finExercice)>new Date(Y.finExercice)?Z:Y).idExercice===T.idExercice,[e]),I=p.useCallback(T=>{if(e.length<=1)return!0;const G=e.findIndex(Z=>Z.idExercice===T);return G===0||G===e.length-1},[e]),[N,_]=p.useState(null),[O,j]=p.useState(!0);p.useEffect(()=>{_(S())},[S,e]);const k=async T=>{try{await t(Vn(T)).unwrap(),R(),c([d("L'exercice a été créé avec succès.")])}catch(G){console.error("Failed to create exercice:",G),c([l("Une erreur est survenue lors de la création de l'exercice.")])}},q=async T=>{try{await t(Da({idExercice:T.idExercice,exerciceData:{exerciceParDefaut:T.exerciceParDefaut}})).unwrap(),g(),c([d("L'Exercice a été modifié avec succès.")])}catch(G){console.error("Échec de la mise à jour de l'Exercice :",G),c([l("Échec de la modification de l'Exercice.")])}},$=p.useCallback(T=>{const G=s(Ea,()=>{c([d("L'exercice a été supprimé avec succès.")])},Z=>{console.error("Échec de la suppression de l’exercice:",Z),c([l("Une erreur est survenue lors de la suppression de l'exercice.")])});c([m("Êtes-vous sûr de vouloir supprimer cet exercice ?",()=>G(T))])},[c,d,l,m,s]),[L,z]=p.useState(null),M=p.useCallback(T=>{z(T),j(I(T.idExercice)),b(!0)},[b,z,I]),V=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:T})=>T.index+1,className:"table-col-row-number"},{Header:"Exercice",accessor:"libelleExercice"},{Header:"Par Défaut",accessor:T=>T.exerciceParDefaut?"X":"",id:"exerciceParDefaut",className:"table-col-defaut"},{Header:"Début",accessor:"debutExercice",Cell:({value:T})=>a.jsx(Dr,{value:T})},{Header:"Fin",accessor:"finExercice",Cell:({value:T})=>a.jsx(Dr,{value:T})},{Header:"Statut",accessor:"libelleStatut"},{id:"modify",Header:"Modifier",Cell:({row:T})=>a.jsx(Ht,{onClick:()=>M(T.original),isLocked:T.original.libelleStatut==="(Clôturé)"||!v(T.original)}),className:"table-col-modify"},{id:"cloture",Header:"Clôture",Cell:({row:T})=>a.jsx(Zi,{onClick:()=>o(T.original.id),isLocked:T.original.libelleStatut==="(Clôturé)"}),className:"table-col-cloture"},{id:"delete",Header:"Supprimer",Cell:({row:T})=>a.jsx(yr,{onClick:()=>$(T.original.idExercice),isLocked:!T.original.isDeletable||T.original.libelleStatut==="(Clôturé)"}),className:"table-col-delete"}],[M,o,$,v]),E=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Au minimum, un Exercice doit être créé et un Exercice doit être défini par Défaut."}),a.jsx("li",{children:"Au-delà d'un Exercice, il est possible de modifier uniquement le statut de Par Défaut."}),a.jsx("li",{children:"On ne peut pas avoir plus de 2 exercices (En Cours) en même temps. il faut clôturer un exercice d'abord"}),a.jsx("li",{children:"Les dates des exercices doivent ce suivre. date de fin exercice N : 31/12/2024 automatiquement date début exercice N+1 : 01/01/2025"})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercices",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Exercices Comptables"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:V,data:e||[],colCount:V.length,children:a.jsx(Zt,{colCount:V.length,isCreateEnabled:P,children:E})}),h&&a.jsx(jt,{isOpen:h,onClose:R,isSetupModal:!0,children:a.jsx(hm,{onSubmit:k,hasDefaultExercice:!r,nextExerciceStartDate:N,onClose:R})}),x&&a.jsx(jt,{isOpen:x,onClose:g,isSetupModal:!0,children:a.jsx(Sm,{onSubmit:q,selectedData:L,isDatesEditable:O,onClose:g})}),a.jsx(lt,{modalConfig:i})]})})]})})]})})})};Om.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const hn=({filters:t,onFilterChange:e})=>a.jsx("div",{className:"expandable-section",children:a.jsx(Ds,{title:"Appliquer un Filtre",classname:"block__filtreType",children:t.map((r,n)=>a.jsx(ur.Fragment,{children:Rn(`${r.id}_${n}`,r.name,r.options,r.selectedValue,s=>e(r.id,s.target.value),r.disabled,r.label)},`${r.id}_${n}`))})});hn.propTypes={filters:f.arrayOf(f.shape({id:f.string.isRequired,name:f.string.isRequired,options:f.arrayOf(f.shape({id:f.oneOfType([f.string,f.number]).isRequired,value:f.oneOfType([f.string,f.number]).isRequired,label:f.string.isRequired})).isRequired,selectedValue:f.oneOfType([f.string,f.number]).isRequired,disabled:f.bool,label:f.string.isRequired})).isRequired,onFilterChange:f.func.isRequired};const km=()=>{const{id:t}=dd(),e=pt(),r=A(v=>v.dateDifferer.data),{filterConfig:n,handleFilterChange:s}=ir({shouldShowExerciceFilter:!0}),{modalConfig:o,setModalConfig:i,successModalConfig:c,errorModalConfig:d}=ot(),{isUpdateModalOpen:l,setIsUpdateModalOpen:m}=Qt(),h=()=>{m(!1)},y=p.useMemo(()=>{var N;let v=r.filter(_=>_.idCompte.toString()===t);const I=(N=n.find(_=>_.id==="exerciceFilter"))==null?void 0:N.selectedValue;return I&&I!=="0"&&(v=v.filter(_=>_.idExercice.toString()===I)),v},[r,t,n]),x=async v=>{try{await e(Ma({idDiffererFacturation:v.idDiffererFacturation,dateDiffererData:{dateArreteFactures:v.dateArreteFactures,datePrelevement:v.datePrelevement}})).unwrap(),h(),i([c("Le calendrier différé a été créé avec succès.")])}catch(I){console.error("Échec de la mise à jours du calendrier différé :",I),i([d("Échec de la mise à jours du calendrier différé .")])}},[b,R]=p.useState(null),g=p.useCallback(v=>{R(v),m(!0)},[m,R]),P=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:v})=>v.index+1,className:"table-col-row-number"},{Header:"Période",accessor:"periode"},{Header:"Arrête des Factures",accessor:"dateArreteFactures",Cell:({value:v})=>a.jsx(Dr,{value:v})},{Header:"Prélèvement",accessor:"datePrelevement",Cell:({value:v})=>a.jsx(Dr,{value:v})},{Header:"Mois Injections",accessor:"moisInjection"},{id:"modify",Header:"Modifier",Cell:({row:v})=>a.jsx(Ht,{onClick:()=>g(v.original),isLocked:v.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[g]),S=a.jsx(a.Fragment,{});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Differer",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Calendrier Différé"}),a.jsx(hn,{filters:n,onFilterChange:s}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:P,data:y,colCount:P.length,children:a.jsx(Zt,{colCount:P.length,showCreateButton:!1,children:S})}),l&&a.jsx(jt,{isOpen:l,onClose:h,isSetupModal:!0,children:a.jsx(wm,{onSubmit:x,selectedData:b,onClose:h})}),a.jsx(lt,{modalConfig:o})]})})]})})]})})})};km.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Am=()=>{const t=pt(),e=A(j=>j.typeDebit.data),r=A(j=>j.ecritures.data||[]),{handleGenericDelete:n}=ir({}),{modalConfig:s,setModalConfig:o,successModalConfig:i,errorModalConfig:c,confirmationModalConfig:d}=ot(),{isCreateModalOpen:l,setCreateModalOpen:m,isUpdateModalOpen:h,setIsUpdateModalOpen:y}=Qt(),x=()=>m(!1),b=()=>{y(!1)},R=p.useMemo(()=>e.map(j=>{const k=r.some(L=>L.idTypeDebit===j.idTypeDebit),q=j.locked===1;return{...j,isDeletable:!k&&!q}}),[e,r]),g=async j=>{try{await t(Ya(j)).unwrap(),x(),o([i("Le Type de Débit a été créé avec succès.")])}catch(k){console.error("Échec de la création du type de débit :",k),o([c("Échec de la création du type de débit.")])}},P=async j=>{console.log(j)},S=p.useCallback(j=>{const k=n(Ja,()=>{o([i("Le Type de Débit a été supprimé avec succès.")])},q=>{console.error("Échec de la suppression du Type de Débit :",q),o([c("Une erreur est survenue lors de la suppression du Type de Débit.")])});o([d("Êtes-vous sûr de vouloir supprimer ce Type de Débit ?",()=>k(j))])},[o,i,c,d,n]),[v,I]=p.useState(null),N=p.useCallback(j=>{I(j),y(!0)},[y,I]),_=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:j})=>j.index+1,className:"table-col-row-number"},{Header:"Code",accessor:"codeTypeDebit"},{Header:"Type Débit",accessor:"libelleTypeDebit"},{id:"modify",Header:"Modifier",Cell:({row:j})=>a.jsx(Ht,{onClick:()=>N(j.original),isLocked:!j.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:j})=>a.jsx(yr,{onClick:()=>S(j.original.idTypeDebit),isLocked:!j.original.isDeletable}),className:"table-col-delete"}],[N,S]),O=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Les Types de Débit sont nécessaire pour la création d'une écriture en particulier si vous avez un compte à débit immédiat ou différé."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Types de Débits"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:_,data:R,colCount:_.length,children:a.jsx(Zt,{colCount:_.length,showCreateButton:!1,children:O})}),l&&a.jsx(jt,{isOpen:l,onClose:x,isSetupModal:!0,children:a.jsx(gm,{onSubmit:g,onClose:x})}),h&&a.jsx(jt,{isOpen:h,onClose:b,isSetupModal:!0,children:a.jsx(jm,{onSubmit:P,selectedData:v,onClose:b})}),a.jsx(lt,{modalConfig:s})]})})]})})]})})})};Am.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Fm=()=>{const t=pt(),e=A(L=>{var z;return((z=L.groupes)==null?void 0:z.data)||[]}),r=A(L=>{var z;return((z=L.ecritures)==null?void 0:z.data)||[]}),n=A(L=>{var z;return((z=L.categories)==null?void 0:z.data)||[]}),s=A(L=>{var z;return((z=L.typeSaisies)==null?void 0:z.data)||[]}),{filterConfig:o,handleFilterChange:i,handleGenericDelete:c}=ir({shouldShowCompteFilter:!1,shouldShowTypeSaisieFilter:!0,shouldShowGroupesFilter:!1}),{modalConfig:d,setModalConfig:l,successModalConfig:m,errorModalConfig:h,confirmationModalConfig:y}=ot(),{isCreateModalOpen:x,setCreateModalOpen:b,isUpdateModalOpen:R,setIsUpdateModalOpen:g}=Qt(),P=()=>b(!1),S=()=>{g(!1)},v=p.useMemo(()=>{var V;let L=e.filter(E=>E.idGroupe!==0);const z=(V=o.find(E=>E.id==="typeSaisieFilter"))==null?void 0:V.selectedValue;return z&&z!=="0"&&(L=L.filter(E=>E.idTypeSaisie.toString()===z)),L.map(E=>{const T=s.find(K=>K.idTypeSaisie.toString()===E.idTypeSaisie.toString()),G=r.some(K=>K.idGroupe===E.idGroupe),Z=n.some(K=>K.idGroupe===E.idGroupe),Y=E.locked===1,ne=!G&&!Z&&!Y;return{...E,codeTypeSaisie:T==null?void 0:T.codeTypeSaisie,isDeletable:ne}})},[e,s,o,r,n]),I=async L=>{try{await t(rs(L)).unwrap(),P(),l([m("Le Groupe a été créé avec succès.")])}catch(z){console.error("Échec de la création du groupe :",z),l([h("Échec de la création du groupe.")])}},N=async L=>{console.log(L);try{await t(ns({idGroupe:L.idGroupe,groupeData:{libelleGroupe:L.libelleGroupe}})).unwrap(),S(),l([m("Le Groupe a été modifié avec succès.")])}catch(z){console.error("Échec de la modification du Groupe:",z),l([h("Échec de la modification du Groupe.")])}},_=p.useCallback(L=>{const z=c(as,()=>{l([m("Le mode de règlement a été supprimé avec succès.")])},M=>{console.error("Échec de la suppression du mode de règlement :",M),l([h("Une erreur est survenue lors de la suppression du mode de règlement.")])});l([y("Êtes-vous sûr de vouloir supprimer ce mode de règlement ?",()=>z(L))])},[l,m,h,y,c]),[O,j]=p.useState(null),k=p.useCallback(L=>{j(L),g(!0)},[g,j]),q=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:L})=>L.index+1,className:"table-col-row-number"},{Header:"Groupe",accessor:"libelleGroupe"},{Header:"Type Saisie",accessor:"codeTypeSaisie"},{id:"modify",Header:"Modifier",Cell:({row:L})=>a.jsx(Ht,{onClick:()=>k(L.original),isLocked:!L.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:L})=>a.jsx(yr,{onClick:()=>_(L.original.idGroupe),isLocked:!L.original.isDeletable}),className:"table-col-delete"}],[k,_]),$=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Un Groupe est le plus haut niveau de regroupement qui permet de faire des statistiques."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Groupes",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Groupes"}),a.jsx(hn,{filters:o,onFilterChange:i}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:q,data:v,colCount:q.length,children:a.jsx(Zt,{colCount:q.length,children:$})}),x&&a.jsx(jt,{isOpen:x,onClose:P,isSetupModal:!0,children:a.jsx(bm,{onSubmit:I,onClose:P})}),R&&a.jsx(jt,{isOpen:R,onClose:S,isSetupModal:!0,children:a.jsx(Rm,{onSubmit:N,selectedData:O,onClose:S})}),a.jsx(lt,{modalConfig:d})]})})]})})]})})})};Fm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Im=()=>{const t=pt(),e=A(k=>k.modeReglement.data),r=A(k=>k.ecritures.data),n=A(k=>k.categories.data),{modalConfig:s,setModalConfig:o,successModalConfig:i,errorModalConfig:c,confirmationModalConfig:d}=ot(),{isCreateModalOpen:l,setCreateModalOpen:m,isUpdateModalOpen:h,setIsUpdateModalOpen:y}=Qt(),x=()=>m(!1),b=()=>{y(!1)},R=p.useMemo(()=>e.reduce((q,$)=>($.idModeReglement===0||q.some(L=>L.idModeReglement===$.idModeReglement)||q.push($),q),[]).map(q=>{const $=r.some(V=>V.idModeReglement===q.idModeReglement),L=n.some(V=>V.idModeReglement===q.idModeReglement),z=q.locked===1;return{...q,isDeletable:!$&&!L&&!z}}),[e,r,n]),{handleGenericDelete:g}=ir({}),P=async k=>{try{await t(Wa(k)).unwrap(),x(),o([i("Le mode de règlement a été créé avec succès.")])}catch(q){console.error("Échec de la création du mode de règlement:",q),o([c("Échec de la création du mode de règlement.")])}},S=async k=>{try{await t(Ka({idModeReglement:k.idModeReglement,modeReglementData:{codeModeRegl:k.codeModeRegl,libelleModeRegl:k.libelleModeRegl,selectedTypeComptes:k.selectedTypeComptes}})).unwrap(),b(),o([i("Le mode de règlement a été modifié avec succès.")])}catch(q){console.error("Échec de la modification du mode de règlement:",q),o([c("Échec de la modification du mode de règlement.")])}},v=p.useCallback(k=>{const q=g(Xa,()=>{o([i("Le mode de règlement a été supprimé avec succès.")])},$=>{console.error("Échec de la suppression du mode de règlement:",$),o([c("Une erreur est survenue lors de la suppression du mode de règlement.")])});o([d("Êtes-vous sûr de vouloir supprimer ce mode de règlement ?",()=>q(k))])},[o,i,c,d,g]),[I,N]=p.useState(null),_=p.useCallback(k=>{const q=e.filter(L=>L.idModeReglement===k.idModeReglement).map(L=>L.idTypeCompte),$={...k,selectedTypeComptes:q};N($),y(!0)},[e,y,N]),O=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:k})=>k.index+1,className:"table-col-row-number"},{Header:"Code",accessor:"codeModeReglement",className:"table-col-code"},{Header:"Mode de Réglement",accessor:"libelleModeReglement"},{id:"modify",Header:"Modifier",Cell:({row:k})=>a.jsx(Ht,{onClick:()=>_(k.original),isLocked:!k.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:k})=>a.jsx(yr,{onClick:()=>v(k.original.idModeReglement),isLocked:!k.original.isDeletable}),className:"table-col-delete"}],[_,v]),j=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Un Mode de Réglement est défini par Défaut sur une Sous-Catégorie."}),a.jsx("li",{children:"Lors d'une saisie, il est toutefois possible de sélectionner un mode de règlement différent."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Mode Reglement",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Modes de Réglements"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:O,data:R,colCount:O.length,children:a.jsx(Zt,{colCount:O.length,children:j})}),l&&a.jsx(jt,{isOpen:l,onClose:x,isSetupModal:!0,children:a.jsx(Cm,{onSubmit:P,onClose:x})}),h&&a.jsx(jt,{isOpen:h,onClose:b,isSetupModal:!0,children:a.jsx(Tm,{onSubmit:S,selectedData:I,onClose:b})}),a.jsx(lt,{modalConfig:s})]})})]})})]})})})};Im.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const qm=()=>{const t=pt(),e=A(q=>q.periodicites.data),r=A(q=>q.prelevements.data),n=A(q=>q.virements.data),s=A(q=>q.mvtInternes.data),{handleGenericDelete:o}=ir({}),{modalConfig:i,setModalConfig:c,successModalConfig:d,errorModalConfig:l,confirmationModalConfig:m}=ot(),{isCreateModalOpen:h,setCreateModalOpen:y,isUpdateModalOpen:x,setIsUpdateModalOpen:b}=Qt(),R=()=>y(!1),g=()=>{b(!1)},P=p.useMemo(()=>[...e].sort(($,L)=>$.dureePeriodicite-L.dureePeriodicite).map($=>{const L=r.some(T=>T.idPeriodicite===$.idPeriodicite),z=n.some(T=>T.idPeriodicite===$.idPeriodicite),M=s.some(T=>T.idPeriodicite===$.idPeriodicite),V=$.locked===1;return{...$,isDeletable:!L&&!z&&!M&&!V}}),[e,r,n,s]),S=async q=>{try{await t(ss(q)).unwrap(),R(),c([d("La périodicité a été créé avec succès.")])}catch($){console.error("Échec de la création de la Périodicité :",$),c([l("Échec de la création de la Périodicité.")])}},v=async q=>{try{await t(os({idPeriodicite:q.idPeriodicite,periodiciteData:{libellePeriodicite:q.libellePeriodicite,dureePeriodicite:q.dureePeriodicite}})).unwrap(),g(),c([d("La Périodicité a été créé avec succès.")])}catch($){console.error("Échec de la mise à jours la Périodicité :",$),c([l("Échec de la mise à jours la Périodicité.")])}},I=p.useCallback(q=>{const $=o(is,()=>{c([d("La Périodicité a été supprimé avec succès")])},L=>{console.error("Échec de la suppression de la Périodicité :",L),c([l("Une erreur est survenue lors de la suppression de la Périodicité.")])});c([m("Êtes-vous sûr de vouloir supprimer cette Périodicité ?","Cette action est irréversible.",()=>{$(q),c([])},()=>{c([])},()=>{c([])})])},[c,d,l,m,o]),[N,_]=p.useState(null),O=p.useCallback(q=>{_(q),b(!0)},[b,_]),j=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:q})=>q.index+1,className:"table-col-row-number"},{Header:"Périodicité",accessor:"libellePeriodicite"},{Header:"Durée en mois de la Périodicité",accessor:"dureePeriodicite",className:"table-col-code"},{id:"modify",Header:"Modifier",Cell:({row:q})=>a.jsx(Ht,{onClick:()=>O(q.original),isLocked:!q.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:q})=>a.jsx(yr,{onClick:()=>I(q.original.idPeriodicite),isLocked:!q.original.isDeletable}),className:"table-col-delete"}],[O,I]),k=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Les Périodicités sont utilisés pour les élèments récurrents."}),a.jsx("li",{children:"Si un Elément Récurrent est utilisé par la Périodicité, elle ne pourra pas être supprimer."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Périodicité",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Types de Périodicités"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:j,data:P,colCount:j.length,children:a.jsx(Zt,{colCount:j.length,children:k})}),h&&a.jsx(jt,{isOpen:h,onClose:R,isSetupModal:!0,children:a.jsx(ym,{onSubmit:S,onClose:R})}),x&&a.jsx(jt,{isOpen:x,onClose:g,isSetupModal:!0,children:a.jsx(Nm,{onSubmit:v,selectedData:N,onClose:g})}),a.jsx(lt,{modalConfig:i})]})})]})})]})})})};qm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const _m=()=>{const t=pt(),e=A(j=>j.typeSaisies.data),r=A(j=>j.ecritures.data||[]),{handleGenericDelete:n}=ir({}),{modalConfig:s,setModalConfig:o,successModalConfig:i,errorModalConfig:c,confirmationModalConfig:d}=ot(),{isCreateModalOpen:l,setCreateModalOpen:m,isUpdateModalOpen:h,setIsUpdateModalOpen:y}=Qt(),x=()=>m(!1),b=()=>{y(!1)},R=p.useMemo(()=>e.filter(j=>j.idTypeSaisie!==0).map(j=>{const k=!r.some(L=>L.idTypeSaisie===j.idTypeSaisie),q=j.locked===1;return{...j,isDeletable:!k&&!q}}),[e,r]),g=async j=>{try{await t(Za(j)).unwrap(),x(),o([i("Le Type de Saisie a été créé avec succès.")])}catch(k){console.error("Échec de la création du type de saisie :",k),o([c("Échec de la création du type de saisie.")])}},P=async j=>{console.log(j)},S=p.useCallback(j=>{const k=n(es,()=>{o([i("Le Type de Saisie a été supprimé avec succès.")])},q=>{console.error("Échec de la suppression du Type de Saisie :",q),o([c("Une erreur est survenue lors de la suppression du Type de Saisie.")])});o([d("Êtes-vous sûr de vouloir supprimer ce Type de Saisie ?",()=>k(j))])},[o,i,c,d,n]),[v,I]=p.useState(null),N=p.useCallback(j=>{I(j),y(!0)},[y,I]),_=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:j})=>j.index+1,className:"table-col-row-number"},{Header:"Code",accessor:"codeTypeSaisie",className:"table-col-code"},{Header:"Type Saisie",accessor:"libelleTypeSaisie"},{id:"modify",Header:"Modifier",Cell:({row:j})=>a.jsx(Ht,{onClick:()=>N(j.original),isLocked:!j.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:j})=>a.jsx(yr,{onClick:()=>S(j.original.idTypeSaisie),isLocked:!j.original.isDeletable}),className:"table-col-delete"}],[N,S]),O=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Un Type de Saisie permet de définir si c'est un Revenu ou une Dépense."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Types Saisies",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Types de Saisies"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:_,data:R,colCount:_.length,children:a.jsx(Zt,{colCount:_.length,showCreateButton:!1,children:O})}),l&&a.jsx(jt,{isOpen:l,onClose:x,isSetupModal:!0,children:a.jsx(vm,{onSubmit:g,onClose:x})}),h&&a.jsx(jt,{isOpen:h,onClose:b,isSetupModal:!0,children:a.jsx(Pm,{onSubmit:P,selectedData:v,onClose:b})}),a.jsx(lt,{modalConfig:s})]})})]})})]})})})};_m.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Lm=({onSubmit:t,onClose:e})=>{const r=Cr(),n=A(k=>k.categories.data),s=A(k=>k.typeSaisies.data),o=A(k=>k.groupes.data),[i,c]=p.useState(""),[d,l]=p.useState("0"),[m,h]=p.useState("0"),[y,x]=p.useState(!0),[b,R]=p.useState("0"),[g,P]=p.useState(!0),{modalConfig:S,setModalConfig:v,errorModalConfig:I}=ot();p.useEffect(()=>{x(d==="0"),d==="0"&&(h("0"),R("0"))},[d]),p.useEffect(()=>{P(m==="0"),m==="0"&&R("0")},[m]);const N=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...r.map(k=>({id:k.idCompte.toString(),value:k.idCompte.toString(),label:k.libelleCompteType}))],[r]),_=[{id:"0",value:"0",label:"Sélectionner un type de saisie"},...s.map(k=>({id:k.idTypeSaisie,value:k.idTypeSaisie.toString(),label:k.libelleTypeSaisie}))],O=[{id:"0",value:"0",label:"Sélectionner un groupe"},...o.filter(k=>k.idTypeSaisie.toString()===m).map(k=>({id:k.idGroupe,value:k.idGroupe.toString(),label:k.libelleGroupe}))],j=p.useCallback(k=>{if(k.preventDefault(),n.find(L=>L.libelleCategorie===i&&L.idCompte===d&&L.idGroupe===b&&L.idTypeSaisie===m)){v([I("Une categorie avec ce libellé existe déjà.")]);return}t({libelleCategorie:i,idGroupe:b!=="0"?b:null,idTypeSaisie:m!=="0"?m:null,idCompte:d!=="0"?d:null})},[i,n,d,b,m,I,v,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'une Catégorie"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:j,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Catégorie",id:"Libelle_Categorie",name:"Libelle_Categorie",value:i,placeholder:"Saisir le Libellé Catégorie",onChange:k=>c(k.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:N,value:d,onChange:k=>l(k.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:_,value:m,onChange:k=>h(k.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:y})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:O,value:b,onChange:k=>R(k.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:g})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:j,onCancel:e,labelCreate:"Créer un Catégorie"})}),a.jsx(lt,{modalConfig:S})]})]})]})};Lm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const Bm=({onSubmit:t,onClose:e})=>{const r=Cr(),n=A(Ge=>Ge.sousCategories.data),s=A(Ge=>Ge.typeSaisies.data),o=A(Ge=>Ge.groupes.data),i=A(Ge=>Ge.categories.data),c=A(Ge=>Ge.details.data),d=A(Ge=>Ge.modeReglement.data),{modalConfig:l,setModalConfig:m,errorModalConfig:h}=ot(),[y,x]=p.useState(""),[b,R]=p.useState("0"),[g,P]=p.useState("0"),[S,v]=p.useState(!0),[I,N]=p.useState("0"),[_,O]=p.useState(!0),[j,k]=p.useState("0"),[q,$]=p.useState(!0),[L,z]=p.useState([]),[M,V]=p.useState(!0),[E,T]=p.useState("0"),[G,Z]=p.useState(!0),[Y,ne]=p.useState(null),[K,te]=p.useState("1"),[ge,ue]=p.useState("0"),[Q,Ae]=p.useState("0"),[Ue,Ve]=p.useState("0"),[nt,ce]=p.useState("0"),[we,fe]=p.useState("0"),[H,oe]=p.useState("0"),[xe,ke]=p.useState(!1),[ht,_e]=p.useState(!0),[Ke,je]=p.useState(!1),[et,ut]=p.useState(!1),[Ot,Lt]=p.useState(!1),[er,de]=p.useState(!1),[W,pe]=p.useState(!1),[ie,Le]=p.useState(!1),[Ze,De]=p.useState(!1),[X,se]=p.useState(!1),[Ee,be]=p.useState(!1),[Te,Xe]=p.useState(!1),[St,mt]=p.useState(!1),[Be,Tt]=p.useState(!1),wt=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...r.map(Ge=>({id:Ge.idCompte.toString(),value:Ge.idCompte.toString(),label:Ge.libelleCompteType}))],[r]),Nt=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un type de saisie"},...s.map(J=>({id:J.idTypeSaisie,value:J.idTypeSaisie.toString(),label:J.libelleTypeSaisie}))],[s]),$t=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un groupe"},...o.filter(J=>J.idTypeSaisie.toString()===g).map(J=>({id:J.idGroupe,value:J.idGroupe.toString(),label:J.libelleGroupe}))],[o,g]),At=p.useMemo(()=>{const Ge=[{id:"0",value:"0",label:"Sélectionner une catégorie"}];return q?Ge:Ge.concat(i.filter(J=>{var It,Ar;return((It=J==null?void 0:J.idGroupe)==null?void 0:It.toString())===I&&((Ar=J==null?void 0:J.idCompte)==null?void 0:Ar.toString())===b}).map(J=>({id:J.idCat.toString(),value:J.idCat.toString(),label:J.libelleCategorie})))},[q,i,b,I]),xr=p.useMemo(()=>c.filter(J=>J.idSCat===null).map(J=>({id:J.idDetail.toString(),value:J.idDetail.toString(),label:J.libelleDetail,hidden:!1})),[c]),Vr=p.useMemo(()=>{const Ge=[{id:"0",value:"0",label:"Sélectionner un Mode de Règlement"}],J=d.filter(It=>It.idTypeCompte===Y).map(It=>({id:It.idModeReglement.toString(),value:It.idModeReglement.toString(),label:It.libelleModeReglement}));return Ge.concat(J)},[Y,d]);p.useEffect(()=>{v(b==="0"),b==="0"&&(P("0"),N("0"))},[b]),p.useEffect(()=>{O(b==="0"||g==="0"),g==="0"&&N("0")},[b,g]),p.useEffect(()=>{$(I==="0"||b==="0"||g==="0"),(I==="0"||b==="0"||g==="0")&&k("0")},[b,g,I]),p.useEffect(()=>{V(j==="0"),Z(j==="0"),j==="0"&&(z("0"),T("0"))},[j]),p.useEffect(()=>{const Ge=r.find(J=>J.idCompte.toString()===b);ne(Ge?Ge.idTypeCompte:null)},[b,r]),p.useEffect(()=>{if(E==="0"){te("1"),ue("0"),Ae("0"),Ve("0"),ce("0"),fe("0"),oe("0"),ke(!0),_e(!0),je(!0),ut(!0),Lt(!0),de(!0),pe(!0),Le(!0),De(!0),se(!0),be(!0),Xe(!0),mt(!0),Tt(!0);return}const Ge=d.find(It=>It.idModeReglement.toString()===E);if(!Ge){console.log("selectedModeReglement est undefined, vérifiez modeReglementFromStore et modeReglement");return}let J={optionTypeDebit1Disabled:!1,optionTypeDebit2Disabled:!0,optionPartage1Disabled:!1,optionPartage2Disabled:!1,optionRecurrent1Disabled:!1,optionRecurrent2Disabled:!1,optionPrelevement1Disabled:!1,optionPrelevement2Disabled:!1,optionVirement1Disabled:!1,optionVirement2Disabled:!1,optionMvtInternes1Disabled:!1,optionMvtInternes2Disabled:!1,optionProvision1Disabled:!1,optionProvision2Disabled:!1};switch(Ge.libelleModeReglement){case"Reprise des Soldes":Ve("0"),ce("0"),fe("0"),oe("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=!0,J.optionPartage1Disabled=!0,J.optionPartage2Disabled=!0,J.optionRecurrent1Disabled=!0,J.optionRecurrent2Disabled=!0,J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0;break;case"Carte Bancaire":Ve("0"),ce("0"),fe("0"),oe("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=Y!==3,J.optionPartage1Disabled=!1,J.optionPartage2Disabled=!1,J.optionRecurrent1Disabled=!1,J.optionRecurrent2Disabled=!1,J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0;break;case"Chèque":Ve("0"),ce("0"),fe("0"),oe("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=!0,J.optionPartage1Disabled=!1,J.optionPartage2Disabled=!1,J.optionRecurrent1Disabled=!1,J.optionRecurrent2Disabled=!1,J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0;break;case"Espèces":Ve("0"),ce("0"),fe("0"),oe("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=!0,J.optionPartage1Disabled=!0,J.optionPartage2Disabled=!0,J.optionRecurrent1Disabled=!0,J.optionRecurrent2Disabled=!0,J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0;break;case"Prélèvement":Q=="1"?(Ve("1"),J.optionPrelevement1Disabled=!1,J.optionPrelevement2Disabled=!0):(Ve("0"),J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0),ce("0"),fe("0"),oe("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=!0,J.optionPartage1Disabled=!1,J.optionPartage2Disabled=!1,J.optionRecurrent1Disabled=!1,J.optionRecurrent2Disabled=!1,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0;break;case"Virement":Ve("0"),J.optionTypeDebit1Disabled=!0,J.optionTypeDebit2Disabled=!0,J.optionPartage1Disabled=!0,J.optionPartage2Disabled=!0,J.optionRecurrent1Disabled=!1,J.optionRecurrent2Disabled=!1,J.optionPrelevement1Disabled=!0,J.optionPrelevement2Disabled=!0,J.optionVirement1Disabled=!0,J.optionVirement2Disabled=!0,J.optionMvtInternes1Disabled=!1,J.optionMvtInternes2Disabled=!1,J.optionProvision1Disabled=!0,J.optionProvision2Disabled=!0,g==="1"&&(J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!0,Q=="1"&&(ce("1"),J.optionVirement1Disabled=!1,J.optionVirement2Disabled=!0)),Q=="0"&&ce("0"),we=="1"&&(J.optionRecurrent1Disabled=!0,J.optionRecurrent2Disabled=!0),g==="2"&&Q=="1"&&(oe("1"),J.optionProvision1Disabled=!1,J.optionProvision2Disabled=!0,J.optionMvtInternes1Disabled=!0,J.optionMvtInternes2Disabled=!1),g==="2"&&Q=="0"&&(J.optionProvision1Disabled=!1,J.optionProvision2Disabled=!1);break;default:console.log("Aucun cas correspondant trouvé dans le switch");break}ke(J.optionTypeDebit1Disabled),_e(J.optionTypeDebit2Disabled),je(J.optionPartage1Disabled),ut(J.optionPartage2Disabled),Lt(J.optionRecurrent1Disabled),de(J.optionRecurrent2Disabled),pe(J.optionPrelevement1Disabled),Le(J.optionPrelevement2Disabled),De(J.optionVirement1Disabled),se(J.optionVirement2Disabled),be(J.optionMvtInternes1Disabled),Xe(J.optionMvtInternes2Disabled),mt(J.optionProvision1Disabled),Tt(J.optionProvision2Disabled)},[E,Y,d,g,Q,nt,we]);const zr=Ge=>{const J=Array.from(Ge.target.selectedOptions,It=>It.value);z(J)},gn=Ge=>{ce(Ge),g==="2"&&Ge==="1"&&(fe("0"),oe("0"))},bn=Ge=>{fe(Ge),g==="2"&&Ge==="1"&&(ce("0"),oe("0"))},An=Ge=>{oe(Ge),g==="2"&&Ge==="1"&&(ce("0"),fe("0"))},Cn=p.useCallback(Ge=>{if(Ge.preventDefault(),n.find(Ar=>Ar.libelleSousCategorie===y&&Ar.idCompte===b&&Ar.idGroupe===I&&Ar.idTypeSaisie===g&&Ar.idCat===j)){m([h("Une sous-catégorie avec ce libellé existe déjà.")]);return}t({optionTypeDebit:K,optionPartage:ge,optionRecurrent:Q,optionPrelevement:Ue,optionVirement:nt,optionMvtInternes:we,optionProvision:H,modeReglement:E,selectedDetails:L,libelleSousCategorie:y,idCat:j!=="0"?j:null,idGroupe:I!=="0"?I:null,idTypeSaisie:g!=="0"?g:null,idCompte:b!=="0"?b:null})},[y,n,b,I,g,h,m,t,j,E,we,ge,Ue,H,Q,K,nt,L]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'une Sous-Catégorie"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:Cn,children:[a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:wt,value:b,onChange:Ge=>R(Ge.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:Nt,value:g,onChange:Ge=>P(Ge.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:S})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:$t,value:I,onChange:Ge=>N(Ge.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:_})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Catégorie",id:"Categorie_FiltreDropdown",name:"Categorie_FiltreDropdown",options:At,value:j,onChange:Ge=>k(Ge.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:q})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie",id:"Libelle_SousCategorie",name:"Libelle_SousCategorie",value:y,placeholder:"Saisir le Libellé Sous-Catégorie",onChange:Ge=>x(Ge.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Détails",id:"Detail_FiltreDropdown",name:"Detail_FiltreDropdown",options:xr,value:L,onChange:zr,isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:M,size:"5",multiple:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Mode de Réglement",id:"ModeReglementDropdown",name:"ModeReglementDropdown",options:Vr,value:E,onChange:Ge=>T(Ge.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:G})}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Type de Débit :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionTypeDebit1",name:"OptionTypeDebit",value:"1",checked:K==="1",onChange:()=>te("1"),label:"Immédiat",labelClassName:"radio-label",disabled:xe}),a.jsx(Ct,{id:"OptionTypeDebit2",name:"OptionTypeDebit",value:"2",checked:K==="2",onChange:()=>te("2"),label:"Différé",labelClassName:"radio-label",disabled:ht})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["A Partager :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionPartageOui",name:"OptionPartage",value:"1",checked:ge==="1",onChange:()=>ue("1"),label:"Oui",labelClassName:"radio-label",disabled:Ke}),a.jsx(Ct,{id:"OptionPartageNon",name:"OptionPartage",value:"0",checked:ge==="0",onChange:()=>ue("0"),label:"Non",labelClassName:"radio-label",disabled:et})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Récurrent :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionRecurrentOui",name:"OptionRecurrent",value:"1",checked:Q==="1",onChange:()=>Ae("1"),label:"Oui",labelClassName:"radio-label",disabled:Ot}),a.jsx(Ct,{id:"OptionRecurrentNon",name:"OptionRecurrent",value:"0",checked:Q==="0",onChange:()=>Ae("0"),label:"Non",labelClassName:"radio-label",disabled:er})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Prélèvement :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionPrelevementOui",name:"OptionPrelevement",value:"1",checked:Ue==="1",onChange:()=>Ve("1"),label:"Oui",labelClassName:"radio-label",disabled:W}),a.jsx(Ct,{id:"OptionPrelevementNon",name:"OptionPrelevement",value:"0",checked:Ue==="0",onChange:()=>Ve("0"),label:"Non",labelClassName:"radio-label",disabled:ie})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Virement :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionVirementOui",name:"OptionVirement",value:"1",checked:nt==="1",onChange:()=>gn("1"),label:"Oui",labelClassName:"radio-label",disabled:Ze}),a.jsx(Ct,{id:"OptionVirementNon",name:"OptionVirement",value:"0",checked:nt==="0",onChange:()=>ce("0"),label:"Non",labelClassName:"radio-label",disabled:X})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Mouvements Internes :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionMvtInternesOui",name:"OptionMvtInternes",value:"1",checked:we==="1",onChange:()=>bn("1"),label:"Oui",labelClassName:"radio-label",disabled:Ee}),a.jsx(Ct,{id:"OptionMvtInternesNon",name:"OptionMvtInternes",value:"0",checked:we==="0",onChange:()=>fe("0"),label:"Non",labelClassName:"radio-label",disabled:Te})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Provision :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionProvisionOui",name:"OptionProvision",value:"1",checked:H==="1",onChange:()=>An("1"),label:"Oui",labelClassName:"radio-label",disabled:St}),a.jsx(Ct,{id:"OptionProvisionNon",name:"OptionProvision",value:"0",checked:H==="0",onChange:()=>oe("0"),label:"Non",labelClassName:"radio-label",disabled:Be})]}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:Cn,onCancel:e,labelCreate:"Créer une Sous-Catégorie"})}),a.jsx(lt,{modalConfig:l})]})]})]})};Bm.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const Um=({onSubmit:t,onClose:e})=>{const r=A(BC),[n,s]=p.useState(""),[o,i]=p.useState(!1),{modalConfig:c,setModalConfig:d,errorModalConfig:l}=ot(),m=p.useCallback(h=>{if(h.preventDefault(),r.find(b=>b.libelleDetail===n)){d([l("Un détail avec ce libellé existe déjà.")]);return}t({libelleDetail:n,magasin:o})},[n,o,r,l,d,t]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Création d'un Détail"}),a.jsxs("div",{className:"modal-create-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"create-form-setup",onSubmit:m,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Détail",id:"Libelle_Detail",name:"Libelle_Detail",value:n,placeholder:"Exemple : Aucun",onChange:h=>s(h.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Er,{label:"Magasin",id:"Magasin",name:"Magasin",checked:o,onChange:h=>i(h.target.checked),isRequired:!1,className:"input-group"})}),a.jsx("div",{className:"footer-section",children:a.jsx(lr,{onCreate:m,onCancel:e,labelCreate:"Créer un Détail"})}),a.jsx(lt,{modalConfig:c})]})]})]})};Um.propTypes={onSubmit:f.func.isRequired,onClose:f.func.isRequired};const Vm=({onSubmit:t,selectedData:e,onClose:r})=>{const n=Cr(),s=A(S=>S.typeSaisies.data),o=A(S=>S.groupes.data),[i,c]=p.useState(e.libelleCategorie),[d,l]=p.useState(e.idCompte),[m,h]=p.useState(e.idTypeSaisie),[y,x]=p.useState(e.idGroupe),b=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...n.map(S=>({id:S.idCompte.toString(),value:S.idCompte.toString(),label:S.libelleCompteType}))],[n]),R=[{id:"0",value:"0",label:"Sélectionner un type de saisie"},...s.map(S=>({id:S.idTypeSaisie,value:S.idTypeSaisie.toString(),label:S.libelleTypeSaisie}))],g=[{id:"0",value:"0",label:"Sélectionner un groupe"},...o.filter(S=>S.idTypeSaisie===m).map(S=>({id:S.idGroupe,value:S.idGroupe.toString(),label:S.libelleGroupe}))],P=p.useCallback(S=>{S.preventDefault();const{idCat:v}=e;t({idCat:v,libelleCategorie:i})},[i,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'une Catégorie"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:P,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Catégorie",id:"Libelle_Categorie",name:"Libelle_Categorie",value:i,placeholder:"Saisir le Libellé Catégorie",onChange:S=>c(S.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:b,value:d,onChange:S=>l(S.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:R,value:m,onChange:S=>h(S.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:g,value:y,onChange:S=>x(S.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier un Catégorie",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier un Catégorie",titleText:"Modifier un Catégorie",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Vm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const zm=({onSubmit:t,selectedData:e,onClose:r})=>{const n=Cr(),s=A(H=>H.typeSaisies.data),o=A(H=>H.groupes.data),i=A(H=>H.categories.data),c=A(H=>H.details.data),d=A(H=>H.modeReglement.data),[l,m]=p.useState(e.libelleSousCategorie),[h,y]=p.useState(e.idCompte),[x,b]=p.useState(e.idTypeSaisie),[R,g]=p.useState(e.idGroupe.toString()),[P,S]=p.useState(e.idCat.toString()),[v,I]=p.useState([]),[N,_]=p.useState(e.idModeReglement),[O,j]=p.useState(null);p.useEffect(()=>{if(e){m(e.libelleSousCategorie||""),y(e.idCompte?e.idCompte.toString():"0"),b(e.idTypeSaisie?e.idTypeSaisie.toString():"0"),g(e.idGroupe?e.idGroupe.toString():"0"),S(e.idCat?e.idCat.toString():"0"),_(e.idModeReglement?e.idModeReglement.toString():"0");const H=e.libelleDetailConcatenes?e.libelleDetailConcatenes.split(", ").map(oe=>oe.trim()):[];I(H)}},[e]);const[k,q]=p.useState(e.prelevement===1?"1":"0"),[$,L]=p.useState(e.aPartager===1?"1":"0"),[z,M]=p.useState(e.recurrent===1?"1":"0"),[V,E]=p.useState(e.prelevement===1?"1":"0"),[T,G]=p.useState(e.virement===1?"1":"0"),[Z,Y]=p.useState(e.mvtInterne===1?"1":"0"),[ne,K]=p.useState(e.provision===1?"1":"0"),te=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...n.map(H=>({id:H.idCompte.toString(),value:H.idCompte.toString(),label:H.libelleCompteType}))],[n]),ge=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un type de saisie"},...s.map(oe=>({id:oe.idTypeSaisie,value:oe.idTypeSaisie.toString(),label:oe.libelleTypeSaisie}))],[s]),ue=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un groupe"},...o.filter(oe=>oe.idTypeSaisie.toString()===x).map(oe=>({id:oe.idGroupe,value:oe.idGroupe.toString(),label:oe.libelleGroupe}))],[o,x]),Q=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une catégorie"}].concat(i.filter(oe=>{var xe,ke;return((xe=oe==null?void 0:oe.idGroupe)==null?void 0:xe.toString())===R&&((ke=oe==null?void 0:oe.idCompte)==null?void 0:ke.toString())===h}).map(oe=>({id:oe.idCat.toString(),value:oe.idCat.toString(),label:oe.libelleCategorie}))),[i,h,R]),Ae=p.useMemo(()=>c.filter(H=>H.idSCat===null).map(H=>({id:H.idDetail.toString(),value:H.libelleDetail,label:H.libelleDetail})),[c]),Ue=p.useMemo(()=>{const H=[{id:"0",value:"0",label:"Sélectionner un Mode de Règlement"}],oe=d.filter(xe=>xe.idTypeCompte===O).map(xe=>({id:xe.idModeReglement.toString(),value:xe.idModeReglement.toString(),label:xe.libelleModeReglement}));return H.concat(oe)},[O,d]);p.useEffect(()=>{const H=n.find(oe=>oe.idCompte.toString()===h);j(H?H.idTypeCompte:null)},[h,n]);const Ve=H=>{const oe=Array.from(H.target.selectedOptions,xe=>xe.value);I(oe)},nt=H=>{G(H),x==="2"&&H==="1"&&(Y("0"),K("0"))},ce=H=>{Y(H),x==="2"&&H==="1"&&(G("0"),K("0"))},we=H=>{K(H),x==="2"&&H==="1"&&(G("0"),Y("0"))},fe=p.useCallback(H=>{H.preventDefault();const{idSCat:oe}=e;t({idSCat:oe,libelleSousCategorie:l,selectedDetails:v})},[l,v,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'une Sous-Catégorie"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:fe,children:[a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:te,value:h,onChange:H=>y(H.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Type Saisie",id:"TypeSaisie_FiltreDropdown",name:"TypeSaisie_FiltreDropdown",options:ge,value:x,onChange:H=>b(H.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:ue,value:R,onChange:H=>g(H.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Catégorie",id:"Categorie_FiltreDropdown",name:"Categorie_FiltreDropdown",options:Q,value:P,onChange:H=>S(H.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie",id:"Libelle_SousCategorie",name:"Libelle_SousCategorie",value:l,placeholder:"Saisir le Libellé Sous-Catégorie",onChange:H=>m(H.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Détails",id:"Detail_FiltreDropdown",name:"Detail_FiltreDropdown",options:Ae,value:v,onChange:Ve,isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",title:"Sélectionner un ou plusieurs Détails : shift + clic pour sélectionner plusieurs éléments",size:"5",multiple:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Mode de Réglement",id:"ModeReglementDropdown",name:"ModeReglementDropdown",options:Ue,value:N,onChange:H=>_(H.target.value),isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",disabled:!0})}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Type de Débit :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionTypeDebit1",name:"OptionTypeDebit",value:"1",checked:k==="1",onChange:()=>q("1"),label:"Immédiat",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionTypeDebit2",name:"OptionTypeDebit",value:"2",checked:k==="2",onChange:()=>q("2"),label:"Différé",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["A Partager :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionPartageOui",name:"OptionPartage",value:"1",checked:$==="1",onChange:()=>L("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionPartageNon",name:"OptionPartage",value:"0",checked:$==="0",onChange:()=>L("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Récurrent :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionRecurrentOui",name:"OptionRecurrent",value:"1",checked:z==="1",onChange:()=>M("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionRecurrentNon",name:"OptionRecurrent",value:"0",checked:z==="0",onChange:()=>M("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Prélèvement :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionPrelevementOui",name:"OptionPrelevement",value:"1",checked:V==="1",onChange:()=>E("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionPrelevementNon",name:"OptionPrelevement",value:"0",checked:V==="0",onChange:()=>E("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Virement :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionVirementOui",name:"OptionVirement",value:"1",checked:T==="1",onChange:()=>nt("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionVirementNon",name:"OptionVirement",value:"0",checked:T==="0",onChange:()=>G("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Mouvements Internes :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionMvtInternesOui",name:"OptionMvtInternes",value:"1",checked:Z==="1",onChange:()=>ce("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionMvtInternesNon",name:"OptionMvtInternes",value:"0",checked:Z==="0",onChange:()=>Y("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"input-group",children:[a.jsxs("label",{children:["Provision :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsx(Ct,{id:"OptionProvisionOui",name:"OptionProvision",value:"1",checked:ne==="1",onChange:()=>we("1"),label:"Oui",labelClassName:"radio-label",disabled:!0}),a.jsx(Ct,{id:"OptionProvisionNon",name:"OptionProvision",value:"0",checked:ne==="0",onChange:()=>K("0"),label:"Non",labelClassName:"radio-label",disabled:!0})]}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier un Catégorie",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier un Catégorie",titleText:"Modifier un Catégorie",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};zm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Hm=({onSubmit:t,selectedData:e,onClose:r})=>{const[n,s]=p.useState(e.libelleDetail),[o,i]=p.useState(!!e.magasin),c=p.useCallback(d=>{d.preventDefault();const{idDetail:l}=e;t({idDetail:l,libelleDetail:n,magasin:o})},[n,o,t,e]);return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un Détail"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:c,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Libellé Détail",id:"Libelle_Detail",name:"Libelle_Detail",value:n,placeholder:"Exemple : Aucun",onChange:d=>s(d.target.value),isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Er,{label:"Magasin",id:"Magasin",name:"Magasin",checked:o,onChange:d=>i(d.target.checked),isRequired:!1,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Modifier un Détail",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier un Détail",titleText:"Modifier un Détail",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Hm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Gm=()=>{const t=pt(),e=A(z=>z.categories.data),r=A(z=>z.ecritures.data),n=A(z=>z.sousCategories.data),s=A(z=>z.groupes.data),o=A(z=>z.typeSaisies.data),{filterConfig:i,handleFilterChange:c,handleGenericDelete:d}=ir({shouldShowCompteFilter:!0,shouldShowTypeSaisieFilter:!0,shouldShowGroupesFilter:!0,shouldShowCatFilter:!1}),{modalConfig:l,setModalConfig:m,successModalConfig:h,errorModalConfig:y,confirmationModalConfig:x}=ot(),{isCreateModalOpen:b,setCreateModalOpen:R,isUpdateModalOpen:g,setIsUpdateModalOpen:P}=Qt(),S=()=>R(!1),v=()=>{P(!1)},I=p.useMemo(()=>{var T,G,Z;let z=e.filter(Y=>Y.idCat!==0);const M=(T=i.find(Y=>Y.id==="typeSaisieFilter"))==null?void 0:T.selectedValue,V=(G=i.find(Y=>Y.id==="compteFilter"))==null?void 0:G.selectedValue,E=(Z=i.find(Y=>Y.id==="groupeFilter"))==null?void 0:Z.selectedValue;return V&&V!=="0"&&(z=z.filter(Y=>Y.idCompte.toString()===V)),M&&M!=="0"&&(z=z.filter(Y=>{const ne=s.find(K=>K.idGroupe===Y.idGroupe);if(ne){const K=ne.idTypeSaisie;return K&&K.toString()===M}return!1})),E&&E!=="0"&&(z=z.filter(Y=>Y.idGroupe.toString()===E)),z.map(Y=>{var nt,ce;const ne=n.find(we=>we.idCat===Y.idCat),K=ne?r.some(we=>we.idSCat===ne.idSCat):!1,te=s.some(we=>we.idCat===Y.idCat),ge=!K&&!te,ue=s.find(we=>we.idGroupe===Y.idGroupe),Q=ue?ue.libelleGroupe:"Non trouvé",Ae=ue?(nt=o.find(we=>we.idTypeSaisie===ue.idTypeSaisie))==null?void 0:nt.idTypeSaisie:"Non trouvé",Ue=ue?(ce=o.find(we=>we.idTypeSaisie===ue.idTypeSaisie))==null?void 0:ce.codeTypeSaisie:"Non trouvé";return{...Y,isDeletable:ge,libelleGroupe:Q,codeTypeSaisie:Ue,idTypeSaisie:Ae}})},[e,r,n,s,o,i]),N=async z=>{try{await t(Gn(z)).unwrap(),S(),m([h("La catégorie a été créé avec succès.")])}catch(M){console.error("Échec de la création du catégorie :",M),m([y("Échec de la création de la catégorie.")])}},_=async z=>{console.log(z);try{await t(Fa({idCat:z.idCat,categorieData:{libelleCategorie:z.libelleCategorie}})).unwrap(),v(),m([h("La catégorie a été modifié avec succès.")])}catch(M){console.error("Échec de la modification de la catégorie:",M),m([y("Échec de la modification de la catégorie.")])}},O=p.useCallback(z=>{const M=d(Ia,()=>{m([h("La Catégorie a été supprimé avec succès.")])},V=>{console.error("Échec de la suppression du Catégorie :",V),m([y("Une erreur est survenue lors de la suppression du Catégorie.")])});m([x("Êtes-vous sûr de vouloir supprimer cette Catégorie ?",()=>M(z))])},[m,h,y,x,d]),[j,k]=p.useState(null),q=p.useCallback(z=>{k(z),P(!0)},[P,k]),$=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:z})=>z.index+1,className:"table-col-row-number"},{Header:"Categorie",accessor:"libelleCategorie"},{Header:"Groupe",accessor:"libelleGroupe"},{Header:"Type Saisie",accessor:"codeTypeSaisie"},{Header:"Ordre",accessor:"ordre"},{Header:"Inactif",accessor:z=>z.inactif?"X":"",id:"inactif",className:"table-col-inactif"},{Header:"Date Inactif",accessor:"dateInactif",Cell:({value:z})=>a.jsx(Dr,{value:z})},{id:"modify",Header:"Modifier",Cell:({row:z})=>a.jsx(Ht,{onClick:()=>q(z.original),isLocked:z.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:z})=>a.jsx(yr,{onClick:()=>O(z.original.idCat),isLocked:!z.original.isDeletable}),className:"table-col-delete"}],[q,O]),L=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Une Catégorie est le plus haut niveau de regroupement qui permet de faire des statistiques."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Categories",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Categories"}),a.jsx(hn,{filters:i,onFilterChange:c}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:$,data:I,colCount:$.length,children:a.jsx(Zt,{colCount:$.length,children:L})}),b&&a.jsx(jt,{isOpen:b,onClose:S,isSetupModal:!0,children:a.jsx(Lm,{onSubmit:N,onClose:S})}),g&&a.jsx(jt,{isOpen:g,onClose:v,isSetupModal:!0,children:a.jsx(Vm,{onSubmit:_,selectedData:j,onClose:v})}),a.jsx(lt,{modalConfig:l})]})})]})})]})})})};Gm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const $m=()=>{const t=pt(),e=A(E=>E.sousCategories.data),r=A(E=>E.ecritures.data),n=A(E=>E.typeDebit.data),s=A(E=>E.modeReglement.data),o=A(E=>E.details.data),i=A(E=>E.categories.data),c=A(E=>E.groupes.data),d=A(E=>E.typeSaisies.data),{filterConfig:l,handleFilterChange:m,handleGenericDelete:h}=ir({shouldShowCompteFilter:!0,shouldShowTypeSaisieFilter:!0,shouldShowGroupesFilter:!0,shouldShowCatFilter:!0}),{modalConfig:y,setModalConfig:x,successModalConfig:b,errorModalConfig:R,confirmationModalConfig:g}=ot(),{isCreateModalOpen:P,setCreateModalOpen:S,isUpdateModalOpen:v,setIsUpdateModalOpen:I}=Qt(),N=()=>S(!1),_=()=>{I(!1)},O=p.useMemo(()=>{var K,te,ge,ue;let E=e.filter(Q=>Q.idSCat!==0);const T=(K=l.find(Q=>Q.id==="compteFilter"))==null?void 0:K.selectedValue,G=(te=l.find(Q=>Q.id==="typeSaisieFilter"))==null?void 0:te.selectedValue,Z=(ge=l.find(Q=>Q.id==="groupeFilter"))==null?void 0:ge.selectedValue,Y=(ue=l.find(Q=>Q.id==="catFilter"))==null?void 0:ue.selectedValue;let ne=i.filter(Q=>Q.idCompte.toString()===T||T==="0");if(G&&G!=="0"){const Q=c.filter(Ae=>Ae.idTypeSaisie.toString()===G);ne=ne.filter(Ae=>Q.some(Ue=>Ue.idGroupe.toString()===Ae.idGroupe.toString()))}return Z&&Z!=="0"&&(ne=ne.filter(Q=>Q.idGroupe.toString()===Z)),E=E.filter(Q=>ne.some(Ae=>Ae.idCat===Q.idCat)),Y&&Y!=="0"&&(E=E.filter(Q=>Q.idCat===Y)),E.map(Q=>{const Ae=n.find(xe=>xe.idTypeDebit.toString()===Q.idTypeDebit.toString()),Ue=s.find(xe=>xe.idModeReglement.toString()===Q.idModeReglement.toString()),Ve=o.filter(xe=>xe.idSCat!==null&&xe.idSCat!==void 0).filter(xe=>xe.idSCat.toString()===Q.idSCat.toString()).map(xe=>xe.libelleDetail).join(", "),nt=o.filter(xe=>xe.idSCat!==null&&xe.idSCat!==void 0).filter(xe=>xe.idSCat.toString()===Q.idSCat.toString()).map(xe=>xe.idDetail).join(", "),ce=i.find(xe=>xe.idCat.toString()===Q.idCat.toString()),we=c.find(xe=>xe.idGroupe.toString()===(ce==null?void 0:ce.idGroupe.toString())),fe=d.find(xe=>xe.idTypeSaisie.toString()===(we==null?void 0:we.idTypeSaisie.toString())),oe=!r.some(xe=>xe.idSCat===Q.idSCat);return{...Q,idCompte:(ce==null?void 0:ce.idCompte)||"Non trouvé",idTypeSaisie:(we==null?void 0:we.idTypeSaisie)||"Non trouvé",idGroupe:(ce==null?void 0:ce.idGroupe)||"Non trouvé",idCat:(ce==null?void 0:ce.idCat)||"Non trouvé",codeTypeDebit:(Ae==null?void 0:Ae.codeTypeDebit)||"Non trouvé",codeModeReglement:(Ue==null?void 0:Ue.codeModeReglement)||"Non trouvé",libelleDetailConcatenes:Ve||"Non trouvé",selectedDetailId:nt||"Non trouvé",libelleCategorie:(ce==null?void 0:ce.libelleCategorie)||"Non trouvé",libelleGroupe:(we==null?void 0:we.libelleGroupe)||"Non trouvé",codeTypeSaisie:(fe==null?void 0:fe.codeTypeSaisie)||"Non trouvé",isDeletable:oe}})},[e,r,c,i,o,s,n,d,l]),j=async E=>{try{const T=await t($n(E)).unwrap();N(),T&&T.detail&&T.detail.idDetail&&T.detail.libelleDetail&&T.detail.idSCat&&T.detail.magasin!=null&&t(ui({idDetail:T.detail.idDetail,libelleDetail:T.detail.libelleDetail,idSCat:T.detail.idSCat,magasin:T.detail.magasin})),T&&T.recurrent&&T.recurrent.idRecurrent&&T.recurrent.idSCat&&t(SS({idRecurrent:T.recurrent.idRecurrent,idSCat:T.recurrent.idSCat})),T&&T.virement&&T.virement.idSCat&&T.virement.virementCompte&&t(PS({idVirement:T.virement.idVirement,idSCat:T.virement.idSCat,virementCompte:T.virement.virementCompte})),T&&T.prelevement&&T.prelevement.idSCat&&T.prelevement.prelevementCompte&&t(yS({idPrelevement:T.prelevement.idPrelevement,idSCat:T.prelevement.idSCat,prelevementCompte:T.prelevement.prelevementCompte})),T&&T.mvtInterne&&T.mvtInterne.idSCat&&T.mvtInterne.compteOrigine&&t(Du({idMvtInterne:T.mvtInterne.idMvtInterne,idSCat:T.mvtInterne.idSCat,compteOrigine:T.mvtInterne.compteOrigine})),T&&T.provision&&T.provision.idSCat&&T.provision.compteOrigine&&t(US({idProvision:T.provision.idProvision,idSCat:T.provision.idSCat,compteOrigine:T.provision.compteOrigine})),x([b("La sous-catégorie a été créé avec succès.")])}catch(T){console.error("Échec de la création du sous-catégorie :",T),x([R("Échec de la création de la sous-catégorie.")])}},k=async E=>{try{const T=await t(qa({idSCat:E.idSCat,sousCategorieData:{libelleSousCategorie:E.libelleSousCategorie,selectedDetails:E.selectedDetails}})).unwrap();_(),T&&T.detailsAdded&&T.detailsAdded.length>0&&T.detailsAdded.forEach(G=>{t(ui({idDetail:G.idDetail,libelleDetail:G.libelleDetail,idSCat:G.idSCat,magasin:G.magasin}))}),T.detailsRemovedIds&&T.detailsRemovedIds.length>0&&(console.log("Removing details",T.detailsRemovedIds),t(uS(T.detailsRemovedIds))),x([b("La Sous-Catégorie a été modifié avec succès.")])}catch(T){console.error("Échec de la modification de la Sous-Catégorie:",T),x([R("Échec de la modification de la Sous-Catégorie.")])}},q=p.useCallback(E=>{const T=h(_a,()=>{x([b("La Sous-Catégorie a été supprimé avec succès.")])},G=>{console.error("Échec de la suppression du Sous-Catégorie :",G),x([R("Une erreur est survenue lors de la suppression de la Sous-Catégorie.")])});x([g("Êtes-vous sûr de vouloir supprimer cette Sous-Catégorie ?",()=>T(E))])},[x,b,R,g,h]),[$,L]=p.useState(null),z=p.useCallback(E=>{L(E),I(!0)},[I,L]),M=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:E})=>E.index+1,className:"table-col-row-number big-col"},{Header:"Sous-Catégorie",accessor:"libelleSousCategorie",className:"table-col-scat"},{Header:"Détails",accessor:"libelleDetailConcatenes"},{Header:"Catégorie",accessor:"libelleCategorie",className:"table-col-scat"},{Header:"Type",accessor:"codeTypeSaisie",className:"table-col-defaut big-col"},{Header:"Régl.",accessor:"codeModeReglement",className:"table-col-defaut big-col"},{Header:"Type Débit",accessor:"codeTypeDebit",className:"table-col-defaut big-col"},{Header:"A Partager",accessor:"aPartager",Cell:({value:E})=>E?"X":"",className:"table-col-defaut big-col"},{Header:"Récurrent",accessor:E=>E.recurrent?"X":"",id:"recurrent",className:"table-col-defaut big-col"},{Header:"Virement",accessor:E=>E.virement?"X":"",id:"virement",className:"table-col-defaut big-col"},{Header:"Prélèvement",accessor:E=>E.prelevement?"X":"",id:"prelevement",className:"table-col-defaut big-col"},{Header:"Mouvements Interne",accessor:E=>E.mvtInterne?"X":"",id:"mvtInterne",className:"table-col-defaut big-col"},{Header:"Provision",accessor:E=>E.provision?"X":"",id:"provision",className:"table-col-defaut big-col"},{Header:"Ordre",accessor:"ordre",className:"table-col-defaut big-col"},{Header:"Inactif",accessor:E=>E.inactif?"X":"",id:"inactif",className:"table-col-defaut big-col"},{Header:"Date Inactif",accessor:"dateInactif",Cell:({value:E})=>a.jsx(Dr,{value:E})},{id:"modify",Header:"Modifier",Cell:({row:E})=>a.jsx(Ht,{onClick:()=>z(E.original),isLocked:E.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify big-col"},{id:"delete",Header:"Supprimer",Cell:({row:E})=>a.jsx(yr,{onClick:()=>q(E.original.idSCat),isLocked:!E.original.isDeletable}),className:"table-col-delete big-col"}],[z,q]),V=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Un Mode de Réglement peut-être définit par Défaut sur une Sous-Catégorie."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Sous-Catégories",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section big",children:[a.jsx("h3",{children:"Liste des Sous-Catégories"}),a.jsx(hn,{filters:l,onFilterChange:m}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:M,data:O,colCount:M.length,children:a.jsx(Zt,{colCount:M.length,children:V})}),P&&a.jsx(jt,{isOpen:P,onClose:N,isSetupModal:!0,children:a.jsx(Bm,{onSubmit:j,onClose:N})}),v&&a.jsx(jt,{isOpen:v,onClose:_,isSetupModal:!0,children:a.jsx(zm,{onSubmit:k,selectedData:$,onClose:_})}),a.jsx(lt,{modalConfig:y})]})})]})})]})})})};$m.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Wm=()=>{const t=pt(),e=A(j=>j.details.data),r=A(j=>j.ecritures.data||[]),{handleGenericDelete:n}=ir({}),{modalConfig:s,setModalConfig:o,successModalConfig:i,errorModalConfig:c,confirmationModalConfig:d}=ot(),{isCreateModalOpen:l,setCreateModalOpen:m,isUpdateModalOpen:h,setIsUpdateModalOpen:y}=Qt(),x=()=>m(!1),b=()=>{y(!1)},R=p.useMemo(()=>e.filter(j=>j.idSCat===null).map(j=>{const k=r.some(L=>L.idDetail===j.idDetail),q=j.locked===1;return{...j,isDeletable:!k&&!q}}),[e,r]),g=async j=>{try{await t(La(j)).unwrap(),x(),o([i("Le Détail a été créé avec succès.")])}catch(k){console.error("Échec de la création du Détail:",k),o([c("Échec de la création du Détail.")])}},P=async j=>{console.log(j);try{await t(Ba({idDetail:j.idDetail,detailData:{libelleDetail:j.libelleDetail,magasin:j.magasin}})).unwrap(),b(),o([i("Le Détail a été modifié avec succès.")])}catch(k){console.error("Échec de la modification de le Détail :",k),o([c("Échec de la modification de le Détail.")])}},S=p.useCallback(j=>{const k=n(Ua,()=>{o([i("Le Détail a été supprimé avec succès.")])},q=>{console.error("Échec de la suppression du Détail :",q),o([c("Une erreur est survenue lors de la suppression du Détail.")])});o([d("Êtes-vous sûr de vouloir supprimer ce Détail ?",()=>k(j))])},[o,i,c,d,n]),[v,I]=p.useState(null),N=p.useCallback(j=>{I(j),y(!0)},[y,I]),_=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:j})=>j.index+1,className:"table-col-row-number"},{Header:"Détail",accessor:"libelleDetail"},{Header:"Magasin",accessor:j=>j.magasin?"X":"",id:"magasin",className:"table-col-defaut big-col"},{id:"modify",Header:"Modifier",Cell:({row:j})=>a.jsx(Ht,{onClick:()=>N(j.original),isLocked:!j.original.isDeletable}),className:"table-col-modify"},{id:"delete",Header:"Supprimer",Cell:({row:j})=>a.jsx(yr,{onClick:()=>S(j.original.idDetail),isLocked:!j.original.isDeletable}),className:"table-col-delete"}],[N,S]),O=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Un Détail peut-être rattaché à plusieurs Sous-Catégories"}),a.jsx("li",{children:"Cette liste comprend tous les Détails non associés"}),a.jsx("li",{children:"En cas de suppression, le détail sera supprimé pour les futurs créations de sous-Catégories."}),a.jsx("li",{children:"En revanche, tous les sous-catégories qui sont déjà affectés garderont ce détail."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des Détails"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:_,data:R,colCount:_.length,children:a.jsx(Zt,{colCount:_.length,children:O})}),l&&a.jsx(jt,{isOpen:l,onClose:x,isSetupModal:!0,children:a.jsx(Um,{onSubmit:g,onClose:x})}),h&&a.jsx(jt,{isOpen:h,onClose:b,isSetupModal:!0,children:a.jsx(Hm,{onSubmit:P,selectedData:v,onClose:b})}),a.jsx(lt,{modalConfig:s})]})})]})})]})})})};Wm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any.isRequired})};const Km=({selectedData:t,onSubmit:e,onClose:r})=>{const n=A(S=>S.periodicites.data),s=[{id:"0",value:"0",label:"Sélectionner une Périodicité"},...n.map(S=>({id:S.idPeriodicite,value:S.idPeriodicite,label:S.libellePeriodicite}))],[o,i]=p.useState(t.libelleSousCategorie),[c,d]=p.useState(t.recurrentMontant.toString()),[l,m]=p.useState(""),[h,y]=p.useState(""),[x,b]=p.useState(t.idPeriodicite!==null?t.idPeriodicite:0),[R,g]=p.useState(t.libelleCompteType);p.useEffect(()=>{t&&(i(t.libelleSousCategorie||""),d(t.recurrentMontant||"0.00"),m(t.joursPrelevement||0),y(t.dernierPrelevement||""),b(t.idPeriodicite!==null?t.idPeriodicite:"0"),g(t.libelleCompteType||""))},[t]);const P=S=>{S.preventDefault();let v=parseFloat(c);if(isNaN(v)){console.error("Le montant fourni est invalide.");return}v=Math.abs(v)*-1;const I=parseFloat(v.toFixed(2)),N={idPrelevement:t.idPrelevement,montant:I,periodicite:x,joursPrelevement:l,dernierPrelevement:h};e(N)};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un prélèvement"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:P,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie",id:"Libelle_SousCategorie",name:"Libelle_SousCategorie",value:o,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Montant",id:"Recurrent_Montant",name:"Recurrent_Montant",value:c,onChange:S=>d(S.target.value.toString()),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Périodicité",id:"Periodicite_FiltreDropdown",name:"Periodicite_FiltreDropdown",options:s,value:x,onChange:S=>b(S.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Jours du Prélèvement",id:"jours_Prelevement",name:"jours_Prelevement",value:l||"",type:"number",onChange:S=>m(S.target.value),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Dernier Prélèvement",id:"Dernier_Prelevement",name:"Dernier_Prelevement",value:h,onChange:S=>y(S.target.value),title:"correspond au premier jour de l'année",isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Compte",id:"Libelle_Compte",name:"Libelle_Compte",value:R,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Enregistrer",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Enregistrer",titleText:"Enregistrer",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Km.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Xm=({selectedData:t,onSubmit:e,onClose:r})=>{const n=Cr(),s=A(ue=>ue.groupes.data),o=A(ue=>ue.categories.data),i=A(ue=>ue.sousCategories.data),c=A(ue=>ue.periodicites.data),[d,l]=p.useState(t.libelleSousCategorieOrigine),[m,h]=p.useState(t.compteOrigine),[y,x]=p.useState(`${t.libelleCompteTypeOrigine||""}`),[b,R]=p.useState(t.recurrentMontant.toString()),[g,P]=p.useState(t.compteDestination||"0"),[S,v]=p.useState(t.groupeDestination||"0"),[I,N]=p.useState(t.categorieDestination||"0"),[_,O]=p.useState(t.sousCategorieDestination||"0"),[j,k]=p.useState(t.idPeriodicite||"0"),[q,$]=p.useState(t.delaiInterbancaire),[L,z]=p.useState(t.joursProvision),[M,V]=p.useState(t.dernierProvision||"");p.useEffect(()=>{t&&(l(t.libelleSousCategorieOrigine),x(`${t.libelleCompteTypeOrigine||""}`),h(t.compteOrigine),R(t.recurrentMontant||"0.00"),P(t.compteDestination||"0"),v(t.groupeDestination||"0"),N(t.categorieDestination||"0"),O(t.sousCategorieDestination||"0"),$(t.delaiInterbancaire||0),k(t.idPeriodicite||"0"),z(t.joursProvision||0),V(t.dernierProvision||""))},[t]);const E=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...n.filter(Q=>!Q.inactif&&Q.idCompte!==m).map(Q=>({id:Q.idCompte,value:Q.idCompte,label:Q.libelleCompteType}))],[n,m]),T=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un groupe"},...s.filter(Q=>Q.idTypeSaisie.toString()==="1").map(Q=>({id:Q.idGroupe,value:Q.idGroupe,label:Q.libelleGroupe}))],[s]),G=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une catégorie"},...o.filter(Q=>Q.idCompte===Number(g)).filter(Q=>(Q==null?void 0:Q.idGroupe)===Number(S)&&(Q==null?void 0:Q.idCompte)===Number(g)).map(Q=>({id:Q.idCat,value:Q.idCat,label:Q.libelleCategorie}))],[o,g,S]),Z=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une Sous-Catégorie"},...i.filter(Q=>(Q==null?void 0:Q.idCat)===Number(I)).map(Q=>({id:Q.idSCat,value:Q.idSCat,label:Q.libelleSousCategorie}))],[i,I]),Y=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une Périodicité"}].concat(c.map(Q=>({id:Q.idPeriodicite,value:Q.idPeriodicite,label:Q.libellePeriodicite}))),[c]),ne=ue=>{ue.preventDefault();let Q=parseFloat(b);if(isNaN(Q)){console.error("Le montant fourni est invalide.");return}Q=Math.abs(Q)*-1;const Ae=parseFloat(Q.toFixed(2)),Ue={idProvision:t.idProvision,montant:Ae,compteDestination:Number(g),categorieDestination:Number(I),sousCategorieDestination:Number(_),delaiInterbancaire:Number(q),periodicite:Number(j)===0?null:j,joursProvision:Number(L),dernierProvision:M};e(Ue)},K=ue=>{const Q=ue.target.value||"0";P(Q),v(0),N(0),O(0)},te=ue=>{const Q=ue.target.value;v(Q),N(0),O(0)},ge=ue=>{const Q=ue.target.value;N(Q),O(0)};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'une Provision"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:ne,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie Origine",id:"Libelle_SousCategorieOrigine",name:"Libelle_SousCategorieOrigine",value:d,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Compte Origine",id:"libelleCompteOrigine",name:"libelleCompteOrigine",value:y,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Montant",id:"Recurrent_Montant",name:"Recurrent_Montant",value:b,onChange:ue=>R(ue.target.value.toString()),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte Destination",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:E,value:g,onChange:K,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe Destination",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:T,value:S,onChange:te,isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Catégorie Destination",id:"CategorieDestination_FiltreDropdown",name:"CategorieDestination_FiltreDropdown",options:G,value:I||0,onChange:ge,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Sous-Catégorie Destination",id:"SousCategorieDestination_FiltreDropdown",name:"SousCategorieDestination_FiltreDropdown",options:Z,value:_,onChange:ue=>O(ue.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Délai Interbancaire",id:"delai_Interbancaire",name:"delai_Interbancaire",type:"number",value:q,onChange:ue=>$(ue.target.value),className:"input-group",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Périodicité",id:"Periodicite_FiltreDropdown",name:"Periodicite_FiltreDropdown",options:Y,value:j,onChange:ue=>k(ue.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Jours du Virement",id:"jours_VirementInterne",name:"jours_VirementInterne",value:L||"",type:"number",onChange:ue=>z(ue.target.value),title:"Saisir le montant avec ou sans le signe négatif",className:"input-group",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Dernier Virement",id:"Dernier_Virement",name:"Dernier_Virement",value:M||"",onChange:ue=>V(ue.target.value),title:"correspond au premier jour de l'année",className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field",isRequired:!0})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Enregistrer",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Enregistrer",titleText:"Enregistrer",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Xm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired};const Ym=({selectedData:t,onSubmit:e,onClose:r})=>{const[n,s]=p.useState(t.libelleSousCategorie),[o,i]=p.useState(t.recurrentMontant.toString());p.useEffect(()=>{t&&(s(t.libelleSousCategorie),i(t.recurrentMontant))},[t]);const c=d=>{d.preventDefault();let l=parseFloat(o);if(isNaN(l)){console.error("Le montant fourni est invalide.");return}t.codeTypeSaisie==="D"?l=Math.abs(l)*-1:t.codeTypeSaisie==="R"&&(l=Math.abs(l));const m=l.toFixed(2),h={idRecurrent:t.idRecurrent,montant:m};e(h)};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification du montant Recurrent"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:c,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie",id:"Libelle_SousCategorie",name:"Libelle_SousCategorie",value:n,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Montant",id:"Recurrent_Montant",name:"Recurrent_Montant",value:o,onChange:d=>i(d.target.value.toString()),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Enregistrer",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Enregistrer",titleText:"Enregistrer",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Ym.propTypes={selectedData:f.shape({idRecurrent:f.any,codeTypeSaisie:f.string,libelleSousCategorie:f.string,recurrentMontant:f.oneOfType([f.string,f.number])}),onSubmit:f.func.isRequired,onClose:f.func.isRequired};const Jm=({selectedData:t,onSubmit:e,onClose:r})=>{const n=A(S=>S.periodicites.data),s=[{id:"0",value:"0",label:"Sélectionner une Périodicité"},...n.map(S=>({id:S.idPeriodicite,value:S.idPeriodicite,label:S.libellePeriodicite}))],[o,i]=p.useState(t.libelleSousCategorie),[c,d]=p.useState(t.recurrentMontant.toString()),[l,m]=p.useState(t.joursVirement),[h,y]=p.useState(t.dernierVirement),[x,b]=p.useState(t.idPeriodicite!==null?t.idPeriodicite:0),[R,g]=p.useState(t.libelleCompteType);p.useEffect(()=>{t&&(i(t.libelleSousCategorie||""),d(t.recurrentMontant||"0.00"),m(t.joursVirement||0),y(t.dernierVirement||""),b(t.idPeriodicite!==null?t.idPeriodicite:"0"),g(t.libelleCompteType||""))},[t]);const P=S=>{S.preventDefault();let v=parseFloat(c);if(isNaN(v)){console.error("Le montant fourni est invalide.");return}t.codeTypeSaisie==="D"?v=Math.abs(v)*-1:t.codeTypeSaisie==="R"&&(v=Math.abs(v));const I=v.toFixed(2),N={idVirement:t.idVirement,montant:I,periodicite:x,joursVirement:l,dernierVirement:h};e(N)};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un virement"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:P,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie",id:"Libelle_SousCategorie",name:"Libelle_SousCategorie",value:o,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Montant",id:"Recurrent_Montant",name:"Recurrent_Montant",value:c,onChange:S=>d(S.target.value.toString()),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Périodicité",id:"Periodicite_FiltreDropdown",name:"Periodicite_FiltreDropdown",options:s,value:x,onChange:S=>b(S.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Jours du Prélèvement",id:"jours_Virement",name:"jours_Virement",value:l||"",type:"number",onChange:S=>m(S.target.value),title:"Saisir le montant avec ou sans le signe négatif",isRequired:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(or,{label:"Dernier Prélèvement",id:"Dernier_Virement",name:"Dernier_Virement",value:h,onChange:S=>y(S.target.value),title:"correspond au premier jour de l'année",isRequired:!0,className:"input-group",labelClassName:"input-label",inputClassName:"date-input-field"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Compte",id:"Libelle_Compte",name:"Libelle_Compte",value:R,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Enregistrer",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Enregistrer",titleText:"Enregistrer",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};Jm.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const Qm=()=>{const t=pt(),e=A(N=>N.prelevements.data),r=A(N=>N.sousCategories.data||[]),n=A(N=>N.recurrents.data||[]),s=A(N=>N.periodicites.data||[]),o=Cr(),i=A(N=>N.ecritures.data||[]),c=p.useMemo(()=>e.map(N=>{const _=r.find(E=>E.idSCat===N.idSCat),O=(_==null?void 0:_.libelleSousCategorie)||"A Renseigner",j=n.find(E=>E.idSCat===N.idSCat),k=j?j.recurrentMontant:"A Renseigner",q=s.find(E=>E.idPeriodicite===(N==null?void 0:N.idPeriodicite)),$=q?q.libellePeriodicite:"A Renseigner",L=o.find(E=>E.idCompte===N.prelevementCompte),z=L?L.libelleCompteType:"A Renseigner",V=!i.some(E=>E.idPrelevement===N.idPrelevement);return{...N,isDeletable:V,libelleSousCategorie:O,recurrentMontant:k,libelleCompteType:z,libellePeriodicite:$}}),[e,i,r,n,o,s]),{modalConfig:d,setModalConfig:l,successModalConfig:m,errorModalConfig:h}=ot(),{isUpdateModalOpen:y,setIsUpdateModalOpen:x}=Qt(),b=()=>{x(!1)},R=async N=>{try{const _=await t(Va({idPrelevement:N.idPrelevement,montant:N.montant,periodicite:N.periodicite,joursPrelevement:N.joursPrelevement,dernierPrelevement:N.dernierPrelevement})).unwrap();b(),_&&_.recurrent&&_.recurrent.idRecurrent&&t(Gi({idRecurrent:_.recurrent.idRecurrent,montant:N.montant})),l([m("Le prélèvement a été modifié avec succès.")])}catch(_){console.error("Échec de la mise à jour du prélèvement:",_),l([h("Échec de la modification du prélèvement.")])}},[g,P]=p.useState(null),S=p.useCallback(N=>{P(N),x(!0)},[x,P]),v=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:N})=>N.index+1,className:"table-col-row-number"},{Header:"Sous-Catégorie",accessor:"libelleSousCategorie"},{Header:"Montant",accessor:"recurrentMontant",Cell:({value:N})=>N?a.jsx(sr,{value:N}):"A Renseigner"},{Header:"Périodicité",accessor:"libellePeriodicite",Cell:({value:N})=>N||"A Renseigner"},{Header:"Jours du Prélèvement",accessor:"joursPrelevement",Cell:({value:N})=>N||"A Renseigner"},{Header:"Dernier Prélèvement",accessor:"dernierPrelevement",Cell:({value:N})=>N?a.jsx(Dr,{value:N}):"A Renseigner"},{Header:"Prélèvement sur le Compte",accessor:N=>({libelleCompteType:N.libelleCompteType}),Cell:({value:N})=>`${N.libelleCompteType}`},{id:"modify",Header:"Modifier",Cell:({row:N})=>a.jsx(Ht,{onClick:()=>S(N.original),isLocked:N.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[S]),I=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Tous les champs A renseigner doivent être complèter."}),a.jsx("li",{children:"Pour supprimer un prélèvement, il faut modifier la sous-catégorie concernée."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Prélèvements Récurrents"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:v,data:c,colCount:v.length,children:a.jsx(Zt,{colCount:v.length,showCreateButton:!1,children:I})}),y&&a.jsx(jt,{isOpen:y,onClose:b,isSetupModal:!0,children:a.jsx(Km,{onSubmit:R,selectedData:g,onClose:b})}),a.jsx(lt,{modalConfig:d})]})})]})})]})})})};Qm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any})};const Zm=()=>{const t=pt(),e=A(O=>O.provisions.data),r=A(O=>O.sousCategories.data||[]),n=A(O=>O.recurrents.data||[]),s=A(O=>O.categories.data||[]),o=A(O=>O.groupes.data||[]),i=A(O=>O.periodicites.data||[]),c=Cr(),d=A(O=>O.ecritures.data||[]),l=p.useMemo(()=>e.map(O=>{const j=r.find(Ae=>Ae.idSCat===O.idSCat),k=(j==null?void 0:j.libelleSousCategorie)||"A Renseigner",q=n.find(Ae=>Ae.idSCat===O.idSCat),$=q?q.recurrentMontant:"A Renseigner",L=s.find(Ae=>Ae.idCat===O.categorieDestination),z=o.find(Ae=>Ae.idGroupe===(L==null?void 0:L.idGroupe)),M=(z==null?void 0:z.libelleGroupe)||"",V=(z==null?void 0:z.idGroupe)||"",E=c.find(Ae=>Ae.idCompte===O.compteOrigine),T=(E==null?void 0:E.libelleCompteType)??"",G=r.find(Ae=>Ae.idSCat===O.sousCategorieDestination),Z=(G==null?void 0:G.libelleSousCategorie)||"A Renseigner",Y=(L==null?void 0:L.libelleCategorie)||"A Renseigner",ne=c.find(Ae=>Ae.idCompte===O.compteDestination),K=(ne==null?void 0:ne.libelleCompteType)??"",te=i.find(Ae=>Ae.idPeriodicite===(O==null?void 0:O.idPeriodicite)),ge=te?te.libellePeriodicite:"A Renseigner",Q=!d.some(Ae=>Ae.idProvision===O.idProvision);return{...O,isDeletable:Q,libelleSousCategorieOrigine:k,libelleGroupeDestination:M,groupeDestination:V,recurrentMontant:$,libelleCompteTypeOrigine:T,libelleCompteTypeDestination:K,libelleCategorieDestination:Y,libelleSousCategorieDestination:Z,libellePeriodicite:ge}}),[e,d,r,n,s,o,c,i]),{modalConfig:m,setModalConfig:h,successModalConfig:y,errorModalConfig:x}=ot(),{isUpdateModalOpen:b,setIsUpdateModalOpen:R}=Qt(),g=()=>{R(!1)},P=async O=>{try{const j=await t(Eu({idProvision:O.idProvision,montant:O.montant,compteDestination:O.compteDestination,categorieDestination:O.categorieDestination,sousCategorieDestination:O.sousCategorieDestination,delaiInterbancaire:O.delaiInterbancaire,periodicite:O.periodicite,joursProvision:O.joursProvision,dernierProvision:O.dernierProvision})).unwrap();g(),j&&j.recurrent&&j.recurrent.idRecurrent&&t(Gi({idRecurrent:j.recurrent.idRecurrent,montant:O.montant})),h([y("La provision a été modifié avec succès.")])}catch(j){console.error("Échec de la mise à jour de la provision :",j),h([x("Échec de la mise à jour de la provision.")])}},[S,v]=p.useState(null),I=p.useCallback(O=>{v(O),R(!0)},[R,v]),N=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:O})=>O.index+1,className:"table-col-row-number"},{Header:"Sous-Catégorie dépense",accessor:"libelleSousCategorieOrigine"},{Header:"Origine de la provision",accessor:O=>O.libelleCompteTypeOrigine,Cell:({value:O})=>O||"A Renseigner"},{Header:"Montant",accessor:"recurrentMontant",Cell:({value:O})=>O?a.jsx(sr,{value:O}):"A Renseigner"},{Header:"Virement sur le Compte",accessor:O=>O.libelleCompteTypeDestination,Cell:({value:O})=>O||"A Renseigner"},{Header:"Catégorie revenus",accessor:"libelleCategorieDestination",Cell:({value:O})=>O||"A Renseigner"},{Header:"Sous-Catégorie revenus",accessor:"libelleSousCategorieDestination",Cell:({value:O})=>O||"A Renseigner"},{Header:"Délai Interbancaire",accessor:"delaiInterbancaire",Cell:({value:O})=>O},{Header:"Périodicité",accessor:"libellePeriodicite",Cell:({value:O})=>O||"A Renseigner"},{Header:"Jours du Virement",accessor:"joursProvision",Cell:({value:O})=>O||"A Renseigner"},{Header:"Dernier Virement",accessor:"dernierProvision",Cell:({value:O})=>O?a.jsx(Dr,{value:O}):"A Renseigner"},{id:"modify",Header:"Modifier",Cell:({row:O})=>a.jsx(Ht,{onClick:()=>I(O.original),isLocked:O.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[I]),_=a.jsx(a.Fragment,{});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Provisions Récurrents"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:N,data:l,colCount:N.length,children:a.jsx(Zt,{colCount:N.length,showCreateButton:!1,children:_})}),b&&a.jsx(jt,{isOpen:b,onClose:g,isSetupModal:!0,children:a.jsx(Xm,{onSubmit:P,selectedData:S,onClose:g})}),a.jsx(lt,{modalConfig:m})]})})]})})]})})})};Zm.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any})};const ef=()=>{const t=pt(),e=A(O=>O.recurrents.data),r=A(O=>O.sousCategories.data||[]),n=A(O=>O.categories.data||[]),s=A(O=>O.groupes.data||[]),o=A(O=>O.typeSaisies.data||[]),i=A(O=>O.ecritures.data||[]),{modalConfig:c,setModalConfig:d,successModalConfig:l,errorModalConfig:m}=ot(),{isUpdateModalOpen:h,setIsUpdateModalOpen:y}=Qt(),x=()=>{y(!1)},{filterConfig:b,handleFilterChange:R}=ir({shouldShowTypeSaisieFilter:!0}),g=p.useMemo(()=>{var q;const O=(q=b.find($=>$.id==="typeSaisieFilter"))==null?void 0:q.selectedValue;let j=[...e];return O&&O!=="0"&&(j=j.filter($=>{var M;console.log("filteredData",j);const L=s.find(V=>{var E;return V.idGroupe===((E=n.find(T=>{var G;return T.idCat===((G=r.find(Z=>Z.idSCat===$.idSCat))==null?void 0:G.idCat)}))==null?void 0:E.idGroupe)}),z=(M=o.find(V=>V.idTypeSaisie===(L==null?void 0:L.idTypeSaisie)))==null?void 0:M.idTypeSaisie;return(z==null?void 0:z.toString())===O})),[...j].sort(($,L)=>{var ne,K;const z=r.find(te=>te.idSCat===$.idSCat),M=n.find(te=>te.idCat===(z==null?void 0:z.idCat)),V=s.find(te=>te.idGroupe===(M==null?void 0:M.idGroupe)),E=((ne=o.find(te=>te.idTypeSaisie===(V==null?void 0:V.idTypeSaisie)))==null?void 0:ne.codeTypeSaisie)||"",T=r.find(te=>te.idSCat===L.idSCat),G=n.find(te=>te.idCat===(T==null?void 0:T.idCat)),Z=s.find(te=>te.idGroupe===(G==null?void 0:G.idGroupe));return(((K=o.find(te=>te.idTypeSaisie===(Z==null?void 0:Z.idTypeSaisie)))==null?void 0:K.codeTypeSaisie)||"").localeCompare(E)}).map($=>{var Z;const L=r.find(Y=>Y.idSCat===$.idSCat),z=(L==null?void 0:L.libelleSousCategorie)||"Non spécifié",M=n.find(Y=>Y.idCat===(L==null?void 0:L.idCat)),V=s.find(Y=>Y.idGroupe===(M==null?void 0:M.idGroupe)),E=((Z=o.find(Y=>Y.idTypeSaisie===(V==null?void 0:V.idTypeSaisie)))==null?void 0:Z.codeTypeSaisie)||"Non spécifié",G=!i.some(Y=>Y.idRecurrent===$.idRecurrent);return{...$,isDeletable:G,libelleSousCategorie:z,codeTypeSaisie:E}})},[e,i,r,n,s,o,b]),P=async O=>{try{await t(za({idRecurrent:O.idRecurrent,montant:O.montant})).unwrap(),x(),d([l("Le montant récurrent a été modifié avec succès.")])}catch(j){console.error("Échec de la mise à jour du Récurrent :",j),d([m("Échec de la mise à jour du Récurrent.")])}},[S,v]=p.useState(null),I=p.useCallback(O=>{v(O),y(!0)},[y,v]),N=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:O})=>O.index+1,className:"table-col-row-number"},{Header:"Sous-Catégorie",accessor:"libelleSousCategorie"},{Header:"Montant",accessor:"recurrentMontant",Cell:({value:O})=>a.jsx(sr,{value:O})},{id:"modify",Header:"Modifier",Cell:({row:O})=>a.jsx(Ht,{onClick:()=>I(O.original),isLocked:O.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[I]),_=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Pour supprimer une récurrence, il faut modifier la sous-catégorie concernée."})});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Eléments Récurrents"}),a.jsx(hn,{filters:b,onFilterChange:R}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:N,data:g,colCount:N.length,children:a.jsx(Zt,{colCount:N.length,showCreateButton:!1,children:_})}),h&&a.jsx(jt,{isOpen:h,onClose:x,isSetupModal:!0,children:a.jsx(Ym,{onSubmit:P,selectedData:S,onClose:x})}),a.jsx(lt,{modalConfig:c})]})})]})})]})})})};ef.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any})};const tf=()=>{const t=pt(),e=A(q=>q.virements.data),r=A(q=>q.sousCategories.data||[]),n=A(q=>q.categories.data||[]),s=A(q=>q.groupes.data||[]),o=A(q=>q.typeSaisies.data||[]),i=A(q=>q.recurrents.data||[]),c=A(q=>q.periodicites.data||[]),d=Cr(),l=A(q=>q.ecritures.data||[]),{filterConfig:m,handleFilterChange:h}=ir({shouldShowTypeSaisieFilter:!0}),{modalConfig:y,setModalConfig:x,successModalConfig:b,errorModalConfig:R}=ot(),{isUpdateModalOpen:g,setIsUpdateModalOpen:P}=Qt(),S=()=>{P(!1)},v=p.useMemo(()=>{var z;const q=(z=m.find(M=>M.id==="typeSaisieFilter"))==null?void 0:z.selectedValue;let $=[...e];return q&&q!=="0"&&($=$.filter(M=>{var T;const V=s.find(G=>{var Z;return G.idGroupe===((Z=n.find(Y=>{var ne;return Y.idCat===((ne=r.find(K=>K.idSCat===M.idSCat))==null?void 0:ne.idCat)}))==null?void 0:Z.idGroupe)}),E=(T=o.find(G=>G.idTypeSaisie===(V==null?void 0:V.idTypeSaisie)))==null?void 0:T.idTypeSaisie;return(E==null?void 0:E.toString())===q})),[...$].sort((M,V)=>{var ge,ue;const E=r.find(Q=>Q.idSCat===M.idSCat),T=n.find(Q=>Q.idCat===(E==null?void 0:E.idCat)),G=s.find(Q=>Q.idGroupe===(T==null?void 0:T.idGroupe)),Z=((ge=o.find(Q=>Q.idTypeSaisie===(G==null?void 0:G.idTypeSaisie)))==null?void 0:ge.codeTypeSaisie)||"A Renseigner",Y=r.find(Q=>Q.idSCat===V.idSCat),ne=n.find(Q=>Q.idCat===(Y==null?void 0:Y.idCat)),K=s.find(Q=>Q.idGroupe===(ne==null?void 0:ne.idGroupe));return(((ue=o.find(Q=>Q.idTypeSaisie===(K==null?void 0:K.idTypeSaisie)))==null?void 0:ue.codeTypeSaisie)||"A Renseigner").localeCompare(Z)}).map(M=>{var Ue;const V=r.find(Ve=>Ve.idSCat===M.idSCat),E=(V==null?void 0:V.libelleSousCategorie)||"A Renseigner",T=n.find(Ve=>Ve.idCat===(V==null?void 0:V.idCat)),G=s.find(Ve=>Ve.idGroupe===(T==null?void 0:T.idGroupe)),Z=((Ue=o.find(Ve=>Ve.idTypeSaisie===(G==null?void 0:G.idTypeSaisie)))==null?void 0:Ue.codeTypeSaisie)||"A Renseigner",Y=i.find(Ve=>Ve.idSCat===M.idSCat),ne=Y?Y.recurrentMontant:"A Renseigner",K=c.find(Ve=>Ve.idPeriodicite===(M==null?void 0:M.idPeriodicite)),te=K?K.libellePeriodicite:"A Renseigner",ge=d.find(Ve=>Ve.idCompte===M.virementCompte),ue=ge?ge.libelleCompteType:"",Ae=!l.some(Ve=>Ve.idVirement===M.idVirement);return{...M,isDeletable:Ae,libelleSousCategorie:E,codeTypeSaisie:Z,recurrentMontant:ne,libelleCompteType:ue,libellePeriodicite:te}})},[e,l,r,n,s,o,i,d,c,m]),I=async q=>{try{const $=await t(Ha({idVirement:q.idVirement,montant:q.montant,periodicite:q.periodicite,joursVirement:q.joursVirement,dernierVirement:q.dernierVirement})).unwrap();S(),$&&$.recurrent&&$.recurrent.idRecurrent&&t(Gi({idRecurrent:$.recurrent.idRecurrent,montant:q.montant})),x([b("Le virement a été modifié avec succès.")])}catch($){console.error("Échec de la mise à jour du virement:",$),x([R("Échec de la modification du virement.")])}},[N,_]=p.useState(null),O=p.useCallback(q=>{_(q),P(!0)},[P,_]),j=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:q})=>q.index+1,className:"table-col-row-number"},{Header:"Sous-Catégorie",accessor:"libelleSousCategorie"},{Header:"Montant",accessor:"recurrentMontant",Cell:({value:q})=>q?a.jsx(sr,{value:q}):"A Renseigner"},{Header:"Périodicité",accessor:"libellePeriodicite",Cell:({value:q})=>q||"A Renseigner"},{Header:"Jours du Virement",accessor:"joursVirement",Cell:({value:q})=>q||"A Renseigner"},{Header:"Dernier Virement",accessor:"dernierVirement",Cell:({value:q})=>q?a.jsx(Dr,{value:q}):"A Renseigner"},{Header:"Virement sur le Compte",accessor:q=>({libelleCompteType:q.libelleCompteType}),Cell:({value:q})=>`${q.libelleCompteType}`},{id:"modify",Header:"Modifier",Cell:({row:q})=>a.jsx(Ht,{onClick:()=>O(q.original),isLocked:q.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[O]),k=a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"Tous les champs A renseigner doivent être complèter."}),a.jsx("li",{children:"Pour supprimer un virement, il faut modifier la sous-catégorie concernée."})]});return a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Virements Récurrents"}),a.jsx(hn,{filters:m,onFilterChange:h}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:j,data:v,colCount:j.length,children:a.jsx(Zt,{colCount:j.length,showCreateButton:!1,children:k})}),g&&a.jsx(jt,{isOpen:g,onClose:S,isSetupModal:!0,children:a.jsx(Jm,{onSubmit:I,selectedData:N,onClose:S})}),a.jsx(lt,{modalConfig:y})]})})]})})]})})})};tf.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any})};const j1=()=>{const t=pt(),e=A(ce=>ce.userSettings.data),r=A(ce=>ce.users.list),n=A(ce=>ce.sousCategories.data),s=A(ce=>ce.categories.data),o=A(ce=>ce.groupes.data),i=A(ce=>ce.auth.user.idUser),{modalConfig:c,setModalConfig:d,successModalConfig:l,errorModalConfig:m}=ot(),[h,y]=p.useState(()=>!!Number(e.avecPartage)),[x,b]=p.useState(()=>e.idCompte||""),[R,g]=p.useState(()=>e.idPartageAvec||""),[P,S]=p.useState(()=>e.idSCatR||""),[v,I]=p.useState(()=>e.idSCatD||""),{handleRedirect:N}=ir({}),[_,O]=p.useState([{id:"",value:"",label:"Aucun",hidden:!0}]),{optionsComptesCourantDifferer:j}=kn(),[k,q]=p.useState([{id:"",value:"",label:"Aucun",hidden:!0}]),[$,L]=p.useState([{id:"",value:"",label:"Aucun",hidden:!0}]),[z,M]=p.useState([{id:"",value:"",label:"Aucun",hidden:!0}]),[V,E]=p.useState(!1),[T,G]=p.useState(!1),[Z,Y]=p.useState(!1),[ne,K]=p.useState(!1);p.useEffect(()=>{e&&e.avecPartage!==void 0&&y(!!Number(e.avecPartage))},[e]),p.useEffect(()=>{if(r&&r.length>0){const ce=r.filter(we=>we.idUser!==1&&we.idUser!==i).map(we=>({id:we.idUser,value:we.idUser,label:Pt(we.identifiant)}));O([{id:"",value:"",label:"Aucun",hidden:!0},...ce])}},[r,i]),p.useEffect(()=>{if(j&&j.length>0){const ce=j.map(we=>({id:we.id,value:we.value,label:we.label}));q([{id:"",value:"",label:"Aucun",hidden:!0},...ce])}},[j]),p.useEffect(()=>{if(x){const ce=s.filter(oe=>oe.idCompte==x),we=n.filter(oe=>ce.find(ke=>ke.idCat===oe.idCat)),fe=we.filter(oe=>{const xe=ce.find(ht=>ht.idCat===oe.idCat),ke=o.find(ht=>ht.idGroupe===xe.idGroupe);return ke&&ke.idGroupe===4}).map(oe=>({id:oe.idSCat,value:oe.idSCat,label:oe.libelleSousCategorie})),H=we.filter(oe=>{const xe=ce.find(ht=>ht.idCat===oe.idCat),ke=o.find(ht=>ht.idGroupe===xe.idGroupe);return ke&&ke.idGroupe===14}).map(oe=>({id:oe.idSCat,value:oe.idSCat,label:oe.libelleSousCategorie}));L([{id:"",value:"",label:"Aucun",hidden:!0},...fe]),M([{id:"",value:"",label:"Aucun",hidden:!0},...H]),E(fe.length<=1),G(H.length<=1),Y(H.length<=1&&we.some(oe=>{const xe=ce.find(ke=>ke.idCat===oe.idCat);return xe&&o.find(ke=>ke.idGroupe===xe.idGroupe&&ke.idGroupe===14)})),K(fe.length<=1&&we.some(oe=>{const xe=ce.find(ke=>ke.idCat===oe.idCat);return xe&&o.find(ke=>ke.idGroupe===xe.idGroupe&&ke.idGroupe===4)}))}},[x,n,s,o]);const te=ce=>{const we=ce.target.value;y(we==="yes")},ge=ce=>{g(ce.target.value)},ue=ce=>{b(ce.target.value)},Q=ce=>{I(ce.target.value)},Ae=ce=>{S(ce.target.value)},Ue=p.useCallback(async ce=>{var xe,ke,ht;const we=async _e=>{try{const Ke=await t(Gn(_e)).unwrap();return d([l("La catégorie a été créée avec succès.")]),Ke.idCat}catch(Ke){console.error("Échec de la création de la catégorie :",Ke),d([m("Échec de la création de la catégorie.")])}},fe=async _e=>{try{const Ke=await t($n(_e)).unwrap();d([l("La sous-catégorie a été créée avec succès.")]),Ke&&Ke.detail&&Ke.detail.idDetail&&Ke.detail.libelleDetail&&Ke.detail.idSCat&&Ke.detail.magasin!=null&&t(ui({idDetail:Ke.detail.idDetail,libelleDetail:Ke.detail.libelleDetail,idSCat:Ke.detail.idSCat,magasin:Ke.detail.magasin})),Ke&&Ke.mvtInterne&&Ke.mvtInterne.idSCat&&Ke.mvtInterne.compteOrigine&&t(Du({idMvtInterne:Ke.mvtInterne.idMvtInterne,idSCat:Ke.mvtInterne.idSCat,compteOrigine:Ke.mvtInterne.compteOrigine}))}catch(Ke){console.error("Échec de la création de la sous-catégorie :",Ke),d([m("Échec de la création de la sous-catégorie.")])}},H=((xe=_.find(_e=>String(_e.value)===String(R)))==null?void 0:xe.label)||"",oe=Pt(H);if(T&&ce==="dette"){const _e={libelleCategorie:`Remb. vers ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x},Ke=await we(_e),je=[{libelleSousCategorie:`Remboursement ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:Ke},{libelleSousCategorie:`Courses ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:Ke},{libelleSousCategorie:`Vacances ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:Ke}];for(const et of je){const ut={...et,optionTypeDebit:1,optionPartage:0,optionRecurrent:0,optionPrelevement:0,optionVirement:0,optionMvtInternes:1,optionProvision:0,modeReglement:6,selectedDetails:[2]};await fe(ut)}}else if(V&&ce==="remboursement"){const _e={libelleCategorie:`Remb. en Provenance de ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x},Ke=await we(_e),je=[{libelleSousCategorie:`Remboursement ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:Ke},{libelleSousCategorie:`Courses ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:Ke},{libelleSousCategorie:`Vacances ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:Ke}];for(const et of je){const ut={...et,optionTypeDebit:1,optionPartage:0,optionRecurrent:0,optionPrelevement:0,optionVirement:0,optionMvtInternes:0,optionProvision:0,modeReglement:6,selectedDetails:[2]};await fe(ut)}}else if(ce==="dette"&&Z){const _e=(ke=n.find(Ke=>Ke.libelleSousCategorie.startsWith("Remb. vers")&&Ke.idGroupe===14))==null?void 0:ke.idCat;if(_e){const Ke=[{libelleSousCategorie:`Remboursement ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:_e},{libelleSousCategorie:`Courses ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:_e},{libelleSousCategorie:`Vacances ${oe}`,idGroupe:14,idTypeSaisie:2,idCompte:x,idCat:_e}];for(const je of Ke){const et={...je,optionTypeDebit:1,optionPartage:0,optionRecurrent:0,optionPrelevement:0,optionVirement:0,optionMvtInternes:1,optionProvision:0,modeReglement:6,selectedDetails:[2]};await fe(et)}}}else if(ce==="remboursement"&&ne){const _e=(ht=n.find(Ke=>Ke.libelleSousCategorie.startsWith("Remb. en Provenance de")&&Ke.idGroupe===4))==null?void 0:ht.idCat;if(_e){const Ke=[{libelleSousCategorie:`Remboursement ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:_e},{libelleSousCategorie:`Courses ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:_e},{libelleSousCategorie:`Vacances ${oe}`,idGroupe:4,idTypeSaisie:1,idCompte:x,idCat:_e}];for(const je of Ke){const et={...je,optionTypeDebit:1,optionPartage:0,optionRecurrent:0,optionPrelevement:0,optionVirement:0,optionMvtInternes:0,optionProvision:0,modeReglement:6,selectedDetails:[2]};await fe(et)}}}},[x,T,V,Z,ne,t,l,m,d,_,R,n]),Ve=async ce=>{ce.preventDefault();const we={avecPartage:h,idPartageAvec:R,idSCatD:v,idSCatR:P};try{await t(ds(we)).unwrap(),d([l("Les paramètres ont été enregistrés avec succès.")])}catch(fe){console.error("Échec de l'enregistrement des paramètres :",fe),d([m("Échec de l'enregistrement des paramètres.")])}},nt=ce=>a.jsx("button",{type:"button",onClick:()=>Ue(ce),className:"table-action-button",children:"Créer automatiquement"});return a.jsx("div",{className:"share-settings",children:a.jsxs("form",{onSubmit:Ve,className:"share-form",children:[a.jsxs("div",{className:"share-settings-ask",children:[a.jsx("label",{children:"Souhaitez-vous effectuer des partages avec un autre utilisateur ?"}),a.jsxs("div",{className:"radio-group",children:[a.jsx(Ct,{label:"Oui",id:"enable-sharing-yes",name:"enableSharing",value:"yes",checked:h===!0,onChange:te}),a.jsx(Ct,{label:"Non",id:"enable-sharing-no",name:"enableSharing",value:"no",checked:h===!1,onChange:te})]})]}),a.jsx("div",{className:"share-settings-container",children:h&&a.jsxs(a.Fragment,{children:[a.jsx(Qe,{id:"user-select",name:"selectedUser",options:_,value:R,onChange:ge,label:"Sélectionnez un utilisateur",className:"dropdown-custom",labelClassName:"dropdown-label",selectClassName:"select-custom"}),a.jsx(Qe,{id:"account-select",name:"selectedAccount",options:k,value:x,onChange:ue,label:"Sélectionner le compte de partage",className:"dropdown-custom",labelClassName:"dropdown-label",selectClassName:"select-custom"}),a.jsx(Qe,{id:"debt-select",name:"selectedDebtCategory",options:z,value:v,onChange:Q,label:"Sélectionner la Sous-Catégorie en cas de dette",className:"dropdown-custom",labelClassName:"dropdown-label",selectClassName:"select-custom"}),Z&&nt("dette"),T&&nt("dette"),a.jsx(Qe,{id:"repayment-select",name:"selectedRepaymentCategory",options:$,value:P,onChange:Ae,label:"Sélectionner la Sous-Catégorie en cas de remboursement",className:"dropdown-custom",labelClassName:"dropdown-label",selectClassName:"select-custom"}),ne&&nt("remboursement"),V&&nt("remboursement")]})}),a.jsxs("div",{className:"share-footer-section",children:[a.jsx(He,{ariaLabel:"Modifier un Catégorie",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Modifier un Catégorie",titleText:"Modifier un Catégorie",type:"submit"}),a.jsx(He,{ariaLabel:"Retour à la page Setup",buttonclassname:"table-action-button",logo:a.jsx(Dm,{className:"button-icon-text"}),useReactIcon:!0,label:"Retour à la page Setup",altText:"Retour à la page Setup",titleText:"Retour à la page Setup",type:"button",onClick:N})]}),a.jsx(lt,{modalConfig:c})]})})},R1=()=>a.jsx(a.Fragment,{children:a.jsx(kt,{className:"setup-page",pageTitle:"Setup Categories",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Configuration de Base"}),a.jsx(j1,{})]})})]})})}),rf=({selectedData:t,onSubmit:e,onClose:r})=>{const n=Cr(),s=A(V=>V.groupes.data),o=A(V=>V.categories.data),i=A(V=>V.sousCategories.data),[c,d]=p.useState(t.libelleSousCategorieOrigine),[l,m]=p.useState(t.compteOrigine),[h,y]=p.useState(`${t.libelleCompteTypeOrigine||""}`),[x,b]=p.useState(t.compteDestination||"0"),[R,g]=p.useState(t.groupeDestination||"0"),[P,S]=p.useState(t.categorieDestination||"0"),[v,I]=p.useState(t.sousCategorieDestination||"0"),[N,_]=p.useState(t.delaiInterbancaire);p.useEffect(()=>{t&&(d(t.libelleSousCategorieOrigine),y(`${t.libelleCompteTypeOrigine||""}`),m(t.compteOrigine),b(t.compteDestination||"0"),g(t.groupeDestination||"0"),S(t.categorieDestination||"0"),I(t.sousCategorieDestination||"0"),_(t.delaiInterbancaire||0))},[t]);const O=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un Compte"},...n.filter(E=>!E.inactif&&E.idCompte!==l).map(E=>({id:E.idCompte,value:E.idCompte,label:E.libelleCompteType}))],[n,l]),j=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner un groupe"},...s.filter(E=>E.idTypeSaisie.toString()==="1").map(E=>({id:E.idGroupe,value:E.idGroupe,label:E.libelleGroupe}))],[s]),k=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une catégorie"},...o.filter(E=>E.idCompte===Number(x)).filter(E=>(E==null?void 0:E.idGroupe)===Number(R)&&(E==null?void 0:E.idCompte)===Number(x)).map(E=>({id:E.idCat,value:E.idCat,label:E.libelleCategorie}))],[o,x,R]),q=p.useMemo(()=>[{id:"0",value:"0",label:"Sélectionner une Sous-Catégorie"},...i.filter(E=>(E==null?void 0:E.idCat)===Number(P)).map(E=>({id:E.idSCat,value:E.idSCat,label:E.libelleSousCategorie}))],[i,P]),$=V=>{V.preventDefault();const E={idMvtInterne:t.idMvtInterne,compteDestination:Number(x),categorieDestination:Number(P),sousCategorieDestination:Number(v),delaiInterbancaire:N};e(E)},L=V=>{const E=V.target.value||"0";b(E),g(0),S(0),I(0)},z=V=>{const E=V.target.value;g(E),S(0),I(0)},M=V=>{const E=V.target.value;S(E),I(0)};return a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Modification d'un mouvement internes"}),a.jsxs("div",{className:"modal-update-setup",children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),a.jsxs("form",{id:"update-form-setup",onSubmit:$,children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Sous-Catégorie Origine",id:"Libelle_SousCategorieOrigine",name:"Libelle_SousCategorieOrigine",value:c,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Compte Origine",id:"libelleCompteOrigine",name:"libelleCompteOrigine",value:h,onChange:()=>{},disabled:!0,className:"input-group"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Compte Destination",id:"Compte_FiltreDropdown",name:"Compte_FiltreDropdown",options:O,value:x,onChange:L,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Groupe Destination",id:"Groupe_FiltreDropdown",name:"Groupe_FiltreDropdown",options:j,value:R,onChange:z,isRequired:!0,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Catégorie Destination",id:"CategorieDestination_FiltreDropdown",name:"CategorieDestination_FiltreDropdown",options:k,value:P||0,onChange:M,className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx(a.Fragment,{children:a.jsx(Qe,{label:"Sous-Catégorie Destination",id:"SousCategorieDestination_FiltreDropdown",name:"SousCategorieDestination_FiltreDropdown",options:q,value:v,onChange:V=>I(V.target.value),className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select",isRequired:!0})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Délai Interbancaire",id:"delai_Interbancaire",name:"delai_Interbancaire",type:"number",value:N,onChange:V=>_(V.target.value),className:"input-group",isRequired:!0})}),a.jsxs("div",{className:"footer-section",children:[a.jsx(He,{ariaLabel:"Enregistrer",buttonclassname:"table-action-button",logo:a.jsx(Jt,{className:"button-icon-text"}),useReactIcon:!0,label:"Enregistrer",altText:"Enregistrer",titleText:"Enregistrer",type:"submit"}),a.jsx(He,{ariaLabel:"Annuler la Saisie",buttonclassname:"table-action-button",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,label:"Annuler",altText:"Annuler",titleText:"Annuler la Saisie",onClick:r,type:"button"})]})]})]})]})};rf.propTypes={onSubmit:f.func.isRequired,selectedData:f.object.isRequired,onClose:f.func.isRequired};const nf=()=>{const t=pt(),e=A(N=>N.mvtInternes.data),r=A(N=>N.sousCategories.data||[]),n=A(N=>N.categories.data||[]),s=A(N=>N.groupes.data||[]),o=Cr(),i=A(N=>N.ecritures.data||[]),c=p.useMemo(()=>e.map(N=>{const _=r.find(ne=>ne.idSCat===N.idSCat),O=(_==null?void 0:_.libelleSousCategorie)||"",j=n.find(ne=>ne.idCat===N.categorieDestination),k=s.find(ne=>ne.idGroupe===(j==null?void 0:j.idGroupe)),q=(k==null?void 0:k.libelleGroupe)||"",$=(k==null?void 0:k.idGroupe)||"",L=o.find(ne=>ne.idCompte===N.compteOrigine),z=(L==null?void 0:L.libelleCompteType)??"",M=r.find(ne=>ne.idSCat===N.sousCategorieDestination),V=(M==null?void 0:M.libelleSousCategorie)||"",E=(j==null?void 0:j.libelleCategorie)||"",T=o.find(ne=>ne.idCompte===N.compteDestination),G=(T==null?void 0:T.libelleCompteType)??"",Y=!i.some(ne=>ne.idMvtInterne===N.idMvtInterne);return{...N,isDeletable:Y,libelleSousCategorieOrigine:O,libelleGroupeDestination:q,groupeDestination:$,libelleCompteTypeOrigine:z,libelleCompteTypeDestination:G,libelleCategorieDestination:E,libelleSousCategorieDestination:V}}),[e,i,r,n,s,o]),{modalConfig:d,setModalConfig:l,successModalConfig:m,errorModalConfig:h}=ot(),{isUpdateModalOpen:y,setIsUpdateModalOpen:x}=Qt(),b=()=>{x(!1)},R=async N=>{try{await t(Nu({idMvtInterne:N.idMvtInterne,compteDestination:N.compteDestination,categorieDestination:N.categorieDestination,sousCategorieDestination:N.sousCategorieDestination,delaiInterbancaire:N.delaiInterbancaire})).unwrap(),b(),l([m("Le virement bancaire a été modifié avec succès.")])}catch(_){console.error("Échec de la mise à jour du virement bancaire :",_),l([h("Échec de la modification du virement bancaire.")])}},[g,P]=p.useState(null),S=p.useCallback(N=>{P(N),x(!0)},[x,P]),v=p.useMemo(()=>[{Header:"N°",id:"rowNumber",Cell:({row:N})=>N.index+1,className:"table-col-row-number"},{Header:"Sous-Catégorie dépense",accessor:"libelleSousCategorieOrigine"},{Header:"Origine du virement",accessor:N=>N.libelleCompteTypeOrigine,Cell:({value:N})=>N||"A Renseigner"},{Header:"Virement sur le Compte",accessor:N=>N.libelleCompteTypeDestination,Cell:({value:N})=>N||"A Renseigner"},{Header:"Catégorie revenus",accessor:"libelleCategorieDestination",Cell:({value:N})=>N||"A Renseigner"},{Header:"Sous-Catégorie revenus",accessor:"libelleSousCategorieDestination",Cell:({value:N})=>N||"A Renseigner"},{Header:"Délai Interbancaire",accessor:"delaiInterbancaire",Cell:({value:N})=>N},{id:"modify",Header:"Modifier",Cell:({row:N})=>a.jsx(Ht,{onClick:()=>S(N.original),isLocked:N.original.libelleStatut==="(Clôturé)"}),className:"table-col-modify"}],[S]),I=a.jsx(a.Fragment,{children:a.jsx("li",{children:"Les mouvements internes permettent d'automatiser les écritures lorsque le virement concerne un autre compte du titulaire ou d'un autre utilisateur."})});return a.jsx(kt,{className:"setup-page",pageTitle:"Setup Exercice",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Paramétrages"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"MvtInternes Récurrents"}),a.jsx("div",{className:"block-tableau",children:a.jsxs("div",{className:"SectionTableau",children:[a.jsx(Yt,{columns:v,data:c,colCount:v.length,children:a.jsx(Zt,{colCount:v.length,showCreateButton:!1,children:I})}),y&&a.jsx(jt,{isOpen:y,onClose:b,isSetupModal:!0,children:a.jsx(rf,{onSubmit:R,selectedData:g,onClose:b})}),a.jsx(lt,{modalConfig:d})]})})]})})]})})};nf.propTypes={row:f.shape({getToggleRowSelectedProps:f.func.isRequired,original:f.object.isRequired}),cell:f.shape({value:f.any})};const T1=()=>{const t=pt(),{modalConfig:e,setModalConfig:r,successModalConfig:n,errorModalConfig:s}=ot(),o=A(M=>M.auth.error),[i,c]=p.useState(""),[d,l]=p.useState(""),[m,h]=p.useState(""),[y,x]=p.useState(""),[b,R]=p.useState(!1),[g,P]=p.useState(Sa),[S,v]=p.useState(!1),[I,N]=p.useState("2"),_=[{id:0,value:"1",label:"Administrateur"},{id:1,value:"2",label:"Utilisateur"},{id:3,value:"3",label:"Démonstration"}],O=p.useCallback(M=>{if(M&&["image/jpeg","image/jpg","image/png"].includes(M.type))if(M.size<=10485760){const T=new FileReader;T.onloadend=()=>{P(T.result)},T.readAsDataURL(M)}else console.error("Le fichier dépasse la taille maximale autorisée de 10 MB."),r([s("Le fichier dépasse la taille maximale autorisée de 10 MB.")]);else console.error("Format de fichier non valide. Les formats autorisés sont : JPEG, JPG, PNG"),r([s("Format de fichier non valide. Les formats autorisés sont : JPEG, JPG, PNG")])},[r,s]),j=p.useCallback(M=>{M.preventDefault(),v(!0)},[]),k=p.useCallback(()=>{v(!1)},[]),q=p.useCallback(M=>{M.preventDefault(),v(!1);const V=M.dataTransfer.files;V&&V[0]&&O(V[0])},[O]),$=()=>{R(!b)},L=M=>{M.stopPropagation(),P(Sa)},z=async M=>{if(M.preventDefault(),m!==y){r([s("Les mots de passe ne correspondent pas.")]);return}const V=new FormData;V.append("Identifiant",i),V.append("Email",d),V.append("Password",m),V.append("UserRights",I);const E=document.getElementById("ProfileImage");E&&E.files[0]&&V.append("ProfileImage",E.files[0]);try{(await t(uj(V))).success?r([n("Votre compte a été créé avec succès.")]):r([s("L'inscription a échoué. Veuillez réessayer.")])}catch(T){console.error("Erreur lors de l'inscription :",T),r([s("Une erreur s'est produite lors de l'inscription. Veuillez réessayer.")])}};return a.jsx(kt,{className:"user-page",pageTitle:"User Management",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Gestion des Utilisateurs"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Créer un Nouvel Utilisateur"}),a.jsxs("div",{className:`Contenu_PopUp ${S?"drag-over":""}`,onDragOver:j,onDragLeave:k,onDrop:q,children:[a.jsxs("p",{children:[a.jsx("span",{className:"required-marker",children:"✱"})," : Champs Obligatoires"]}),o&&a.jsx("p",{className:"error-message",children:o}),a.jsxs("form",{onSubmit:z,className:"user-form",encType:"multipart/form-data",children:[a.jsxs("div",{className:"input-group",children:[a.jsx(Fe,{label:"Identifiant",id:"Identifiant",name:"Identifiant",value:i,onChange:M=>c(M.target.value),placeholder:"Entrez votre identifiant",isRequired:!0}),a.jsx("div",{id:"usernameIndicator"})]}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{label:"Email",id:"Email",name:"Email",value:d,onChange:M=>l(M.target.value),placeholder:"Entrez votre Email",isRequired:!0})}),a.jsxs("div",{className:"input-group",children:[a.jsx(Fe,{label:"Mot de passe",id:"Password",name:"Password",type:b?"text":"password",value:m,onChange:M=>h(M.target.value),placeholder:"Entrez votre mot de passe",isRequired:!0,showPassword:b}),a.jsx("button",{type:"button",className:"toggle-password-visibility",onClick:$,style:{border:"none",background:"none",cursor:"pointer"},title:"Cliquez pour afficher ou masquer le mot de passe",children:b?a.jsx(Ju,{size:20}):a.jsx(Yu,{size:20})})]}),a.jsxs("div",{className:"input-group",children:[a.jsx(Fe,{label:"Confirmation du mot de passe",id:"ConfirmPassword",name:"ConfirmPassword",type:b?"text":"password",value:y,onChange:M=>x(M.target.value),placeholder:"Confirmez votre mot de passe",isRequired:!0}),a.jsx("div",{id:"password-match-indicator"})]}),a.jsxs("div",{className:"input-group profile-image-group",children:[a.jsxs("label",{htmlFor:"ProfileImage",className:"profile-image-label",children:["Image de profil :",a.jsx("span",{className:"required-marker",children:"✱"})]}),a.jsxs("div",{className:`drop-zone ${S?"over":""}`,onDragOver:j,onDragLeave:k,onDrop:q,onClick:()=>document.getElementById("ProfileImage").click(),style:{cursor:"pointer"},children:[a.jsx("img",{src:g||Sa,alt:"Aperçu de profil",className:"profile-image-preview"}),g!==Sa&&a.jsx("button",{onClick:L,className:"remove-image-button",children:"X"}),a.jsx("input",{type:"file",id:"ProfileImage",accept:"image/jpeg, image/jpg, image/png",onChange:M=>O(M.target.files[0]),style:{display:"none"}}),a.jsx("p",{children:"Glissez et déposez une image ici, ou cliquez pour sélectionner une image"})]})]}),a.jsx(a.Fragment,{children:a.jsx(Qe,{id:"UserRights",name:"UserRights",options:_,value:I,onChange:M=>N(M.target.value),label:"Droit Utilisateur",className:"input-group",labelClassName:"dropdown-label",selectClassName:"dropdown-select"})}),a.jsxs("div",{className:"form-buttons",children:[a.jsx(He,{ariaLabel:"Créer un utilisateur",buttonclassname:"button-create-user",logo:a.jsx(Ci,{className:"button-icon-text"}),useReactIcon:!0,altText:"Créer un utilisateur",titleText:"Créer un utilisateur",type:"submit",label:"Créer un utilisateur"}),a.jsx(He,{ariaLabel:"Annuler",buttonclassname:"button-login",logo:a.jsx(zt,{className:"button-icon-text-red"}),useReactIcon:!0,altText:"Annuler",titleText:"Annuler",type:"button",label:"Annuler"})]}),a.jsx(lt,{modalConfig:e})]})]})]})})]})})},N1=()=>{const t=pt(),{list:e,loading:r,error:n}=A(o=>o.users),s=A(o=>o.auth.token);return p.useEffect(()=>{s&&t(us(s))},[t,s]),r?a.jsx("div",{children:"Chargement..."}):n?a.jsxs("div",{children:["Erreur: ",n]}):a.jsx(kt,{className:"user-page",pageTitle:"User Management",children:a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Gestion des Utilisateurs"}),a.jsx("div",{className:"section-bloc",children:a.jsxs("div",{className:"section",children:[a.jsx("h3",{children:"Liste des utilisateurs"}),a.jsx("ul",{children:e.map(o=>a.jsxs("li",{children:[o.identifiant," - ",o.idUser," - ",o.droit]},o.idUser))})]})})]})})};class ua{constructor(e=0,r="Network Error"){this.status=e,this.text=r}}const P1=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Xt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:P1()},al=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},D1=(t,e="https://api.emailjs.com")=>{if(!t)return;const r=al(t);Xt.publicKey=r.publicKey,Xt.blockHeadless=r.blockHeadless,Xt.storageProvider=r.storageProvider,Xt.blockList=r.blockList,Xt.limitRate=r.limitRate,Xt.origin=r.origin||e},af=async(t,e,r={})=>{const n=await fetch(Xt.origin+t,{method:"POST",headers:r,body:e}),s=await n.text(),o=new ua(n.status,s);if(n.ok)return o;throw o},sf=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},E1=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},of=t=>t.webdriver||!t.languages||t.languages.length===0,lf=()=>new ua(451,"Unavailable For Headless Browser"),M1=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},O1=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},k1=(t,e)=>t instanceof FormData?t.get(e):t[e],cf=(t,e)=>{if(O1(t))return!1;M1(t.list,t.watchVariable);const r=k1(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},df=()=>new ua(403,"Forbidden"),A1=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a string"},F1=async(t,e,r)=>{const n=Number(await r.get(t)||0);return e-Date.now()+n},uf=async(t,e,r)=>{if(!e.throttle||!r)return!1;A1(e.throttle,e.id);const n=e.id||t;return await F1(n,e.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},pf=()=>new ua(429,"Too Many Requests"),I1=async(t,e,r,n)=>{const s=al(n),o=s.publicKey||Xt.publicKey,i=s.blockHeadless||Xt.blockHeadless,c=Xt.storageProvider||s.storageProvider,d={...Xt.blockList,...s.blockList},l={...Xt.limitRate,...s.limitRate};return i&&of(navigator)?Promise.reject(lf()):(sf(o,t,e),E1(r),r&&cf(d,r)?Promise.reject(df()):await uf(location.pathname,l,c)?Promise.reject(pf()):af("/api/v1.0/email/send",JSON.stringify({lib_version:"4.3.3",user_id:o,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))},q1=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},_1=t=>typeof t=="string"?document.querySelector(t):t,L1=async(t,e,r,n)=>{const s=al(n),o=s.publicKey||Xt.publicKey,i=s.blockHeadless||Xt.blockHeadless,c=Xt.storageProvider||s.storageProvider,d={...Xt.blockList,...s.blockList},l={...Xt.limitRate,...s.limitRate};if(i&&of(navigator))return Promise.reject(lf());const m=_1(r);sf(o,t,e),q1(m);const h=new FormData(m);return cf(d,h)?Promise.reject(df()):await uf(location.pathname,l,c)?Promise.reject(pf()):(h.append("lib_version","4.3.3"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",o),af("/api/v1.0/email/send-form",h))},B1={init:D1,send:I1,sendForm:L1,EmailJSResponseStatus:ua};function U1(){const[t,e]=p.useState(""),{modalConfig:r,setModalConfig:n,successModalConfig:s,errorModalConfig:o}=ot(),i=async c=>{var d,l;c.preventDefault();try{const m=await sj(t);if(console.log("API response:",m),m.status==="reset link sent"){const h={to_email:t,reset_link:m.resetUrl};console.log("Sending email with template params mail: ",h.to_email),console.log("Sending email with template params: ",h.reset_link),B1.send("service_ekrqbpd","template_a0qnjfo",h,"AbDAfXz8sfGa2-H6-").then(()=>{n([s("Un lien de réinitialisation a été envoyé à votre adresse email.")])},y=>{n([o("Erreur lors de l'envoi de l'email. "+y.text)])})}else n([o("Erreur lors de la demande de réinitialisation. "+m.message)])}catch(m){n([o("Erreur lors de l'envoi de la demande. "+(((l=(d=m.response)==null?void 0:d.data)==null?void 0:l.message)||m.message))])}};return a.jsx(a.Fragment,{children:a.jsxs(kt,{className:"password-page",pageTitle:"Mot de passe Oublié",showMenu:!1,children:[a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Demande de réinitialisation du mot de passe"}),a.jsxs("form",{onSubmit:i,className:"password-form",children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{id:"email",name:"email",type:"email",value:t,onChange:c=>e(c.target.value),placeholder:"Entrez votre adresse email",isRequired:!0,label:"Adresse Email"})}),a.jsx("div",{className:"form-buttons",children:a.jsx(He,{id:"submit-button",name:"submit-button",buttonclassname:"button-reinit-password",ariaLabel:"Envoyer le formulaire",label:"Envoyer",logo:a.jsx(C0,{}),useReactIcon:!0,altText:"Icone d'envoi",titleText:"Cliquer pour envoyer le formulaire",type:"submit",onClick:()=>console.log("Le formulaire est soumis")})})]})]}),a.jsx(lt,{modalConfig:r})]})})}function V1(){const[t,e]=p.useState(""),[r,n]=p.useState(""),{modalConfig:s,setModalConfig:o,successModalConfig:i,errorModalConfig:c}=ot(),d=fn(),{token:l,encodedEmail:m}=dd(),h=atob(m),y=()=>d("/"),x=async b=>{var R,g;b.preventDefault();try{const S=await oj({email:h,token:l,password:t,passwordConfirmation:r});S.status==="password reset successful"?o([i("Votre mot de passe a été réinitialisé avec succès.",y)]):o([c("Erreur lors de la réinitialisation du mot de passe. "+S.message)])}catch(P){o([c("Erreur lors de la réinitialisation. "+(((g=(R=P.response)==null?void 0:R.data)==null?void 0:g.message)||P.message))])}};return a.jsxs(kt,{className:"password-page",pageTitle:"Réinitialiser le Mot de Passe",showMenu:!1,children:[a.jsxs("div",{className:"bloc",children:[a.jsx("h2",{children:"Réinitialisez votre mot de passe"}),a.jsxs("form",{onSubmit:x,className:"password-form",children:[a.jsx("div",{className:"input-group",children:a.jsx(Fe,{id:"password",name:"password",type:"password",value:t,onChange:b=>e(b.target.value),placeholder:"Entrez votre nouveau mot de passe",isRequired:!0,label:"Nouveau mot de passe"})}),a.jsx("div",{className:"input-group",children:a.jsx(Fe,{id:"password_confirmation",name:"password_confirmation",type:"password",value:r,onChange:b=>n(b.target.value),placeholder:"Confirmez votre nouveau mot de passe",isRequired:!0,label:"Confirmez le nouveau mot de passe"})}),a.jsx("div",{className:"form-buttons",children:a.jsx(He,{id:"reset-button",name:"reset-button",buttonclassname:"button-reinit-password",ariaLabel:"Réinitialiser le mot de passe",label:"Réinitialiser le mot de passe",logo:a.jsx(y0,{}),useReactIcon:!0,altText:"Changer le mot de passe",titleText:"Changer le mot de passe",type:"submit"})})]})]}),a.jsx(lt,{modalConfig:s})]})}wd.setAppElement("#root");function z1(){return a.jsx(nb,{basename:fC,children:a.jsx(H1,{})})}function H1(){const t=pt(),e=fn(),r=Pn(),n=A(Rd),{isAuthenticated:s,user:o}=A(m=>m.auth),[i,c]=p.useState(!0),[d,l]=p.useState(!1);return p.useEffect(()=>{n&&s&&o&&!d?(async()=>{c(!0);try{const{redirectPath:h}=await d0(t,o.prenomUtilisateur);l(!0),c(!1),h&&r.pathname==="/"&&e(h)}catch(h){console.error("Failed to initialize app data:",h),c(!1)}})():s||(c(!1),l(!1))},[t,n,s,o,d,e,r.pathname]),i?a.jsx("div",{className:"loading-indicator",children:"Chargement en cours..."}):a.jsxs(Yg,{children:[a.jsx(Dt,{path:"/",element:a.jsx(r1,{})}),a.jsx(Dt,{path:"/forgot-password",element:a.jsx(U1,{})}),a.jsx(Dt,{path:"/reset-password/:token/:encodedEmail",element:a.jsx(V1,{})}),s?a.jsxs(a.Fragment,{children:[a.jsx(Dt,{path:"/SaisieListe",element:a.jsx(v1,{})}),a.jsx(Dt,{path:"/Setup",element:a.jsx(x1,{})}),a.jsx(Dt,{path:"/SetupBase",element:a.jsx(R1,{})}),a.jsx(Dt,{path:"/SetupExercices",element:a.jsx(Om,{})}),a.jsx(Dt,{path:"/SetupComptes",element:a.jsx(Mm,{})}),a.jsx(Dt,{path:"/SetupDifferer/:id",element:a.jsx(km,{})}),a.jsx(Dt,{path:"/SetupTypesDebits",element:a.jsx(Am,{})}),a.jsx(Dt,{path:"/SetupModeReglement",element:a.jsx(Im,{})}),a.jsx(Dt,{path:"/SetupTypesSaisies",element:a.jsx(_m,{})}),a.jsx(Dt,{path:"/SetupGroupes",element:a.jsx(Fm,{})}),a.jsx(Dt,{path:"/SetupPeriodicites",element:a.jsx(qm,{})}),a.jsx(Dt,{path:"/SetupCategories",element:a.jsx(Gm,{})}),a.jsx(Dt,{path:"/SetupSousCategories",element:a.jsx($m,{})}),a.jsx(Dt,{path:"/SetupDetails",element:a.jsx(Wm,{})}),a.jsx(Dt,{path:"/SetupRecurrents",element:a.jsx(ef,{})}),a.jsx(Dt,{path:"/SetupPrelevements",element:a.jsx(Qm,{})}),a.jsx(Dt,{path:"/SetupVirements",element:a.jsx(tf,{})}),a.jsx(Dt,{path:"/SetupProvisions",element:a.jsx(Zm,{})}),a.jsx(Dt,{path:"/SetupMvtInternes",element:a.jsx(nf,{})}),a.jsx(Dt,{path:"/Users",element:a.jsx(S1,{})}),a.jsx(Dt,{path:"/CreateUser",element:a.jsx(T1,{})}),a.jsx(Dt,{path:"/ListUser",element:a.jsx(N1,{})})]}):a.jsx(Dt,{path:"/SaisieListe",element:a.jsx(Vl,{to:"/"})}),a.jsx(Dt,{path:"/error404",element:a.jsx(w1,{})}),a.jsx(Dt,{path:"*",element:a.jsx(Vl,{to:"/error404",replace:!0})})]})}const{store:G1,persistor:$1}=lp(),W1=Hc(document.getElementById("root"));W1.render(a.jsx(Bh,{store:G1,children:a.jsx(Yc,{loading:null,persistor:$1,children:a.jsx(nd,{children:a.jsx(z1,{})})})}));
